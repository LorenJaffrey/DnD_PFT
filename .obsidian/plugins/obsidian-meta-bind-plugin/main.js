/*
-------------------------------------------
Meta Bind - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Wed, 02 Oct 2024 21:12:34 GMT
Version: 1.2.0
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var B7=Object.create;var Em=Object.defineProperty;var k7=Object.getOwnPropertyDescriptor;var $7=Object.getOwnPropertyNames;var O7=Object.getPrototypeOf,R7=Object.prototype.hasOwnProperty;var qn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),L7=(r,e)=>{for(var t in e)Em(r,t,{get:e[t],enumerable:!0})},ND=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $7(e))!R7.call(r,i)&&i!==t&&Em(r,i,{get:()=>e[i],enumerable:!(n=k7(e,i))||n.enumerable});return r};var $r=(r,e,t)=>(t=r!=null?B7(O7(r)):{},ND(e||!r||!r.__esModule?Em(t,"default",{value:r,enumerable:!0}):t,r)),U7=r=>ND(Em({},"__esModule",{value:!0}),r);var Rf=qn((Uy,tc)=>{(function(r,e){typeof Uy=="object"&&typeof tc<"u"?tc.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(Uy,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(g){r=g}function n(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function i(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function a(g,S){return Object.prototype.hasOwnProperty.call(g,S)}function o(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;var S;for(S in g)if(a(g,S))return!1;return!0}function u(g){return g===void 0}function l(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function s(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function c(g,S){var F=[],$,H=g.length;for($=0;$<H;++$)F.push(S(g[$],$));return F}function f(g,S){for(var F in S)a(S,F)&&(g[F]=S[F]);return a(S,"toString")&&(g.toString=S.toString),a(S,"valueOf")&&(g.valueOf=S.valueOf),g}function p(g,S,F,$){return sD(g,S,F,$,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(g){return g._pf==null&&(g._pf=m()),g._pf}var h;Array.prototype.some?h=Array.prototype.some:h=function(g){var S=Object(this),F=S.length>>>0,$;for($=0;$<F;$++)if($ in S&&g.call(this,S[$],$,S))return!0;return!1};function w(g){var S=null,F=!1,$=g._d&&!isNaN(g._d.getTime());if($&&(S=d(g),F=h.call(S.parsedDateParts,function(H){return H!=null}),$=S.overflow<0&&!S.empty&&!S.invalidEra&&!S.invalidMonth&&!S.invalidWeekday&&!S.weekdayMismatch&&!S.nullInput&&!S.invalidFormat&&!S.userInvalidated&&(!S.meridiem||S.meridiem&&F),g._strict&&($=$&&S.charsLeftOver===0&&S.unusedTokens.length===0&&S.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(g))g._isValid=$;else return $;return g._isValid}function x(g){var S=p(NaN);return g!=null?f(d(S),g):d(S).userInvalidated=!0,S}var E=e.momentProperties=[],v=!1;function _(g,S){var F,$,H,ie=E.length;if(u(S._isAMomentObject)||(g._isAMomentObject=S._isAMomentObject),u(S._i)||(g._i=S._i),u(S._f)||(g._f=S._f),u(S._l)||(g._l=S._l),u(S._strict)||(g._strict=S._strict),u(S._tzm)||(g._tzm=S._tzm),u(S._isUTC)||(g._isUTC=S._isUTC),u(S._offset)||(g._offset=S._offset),u(S._pf)||(g._pf=d(S)),u(S._locale)||(g._locale=S._locale),ie>0)for(F=0;F<ie;F++)$=E[F],H=S[$],u(H)||(g[$]=H);return g}function A(g){_(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),v===!1&&(v=!0,e.updateOffset(this),v=!1)}function y(g){return g instanceof A||g!=null&&g._isAMomentObject!=null}function T(g){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function M(g,S){var F=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,g),F){var $=[],H,ie,Me,dt=arguments.length;for(ie=0;ie<dt;ie++){if(H="",typeof arguments[ie]=="object"){H+=`
[`+ie+"] ";for(Me in arguments[0])a(arguments[0],Me)&&(H+=Me+": "+arguments[0][Me]+", ");H=H.slice(0,-2)}else H=arguments[ie];$.push(H)}T(g+`
Arguments: `+Array.prototype.slice.call($).join("")+`
`+new Error().stack),F=!1}return S.apply(this,arguments)},S)}var b={};function D(g,S){e.deprecationHandler!=null&&e.deprecationHandler(g,S),b[g]||(T(S),b[g]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function I(g){return typeof Function<"u"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function P(g){var S,F;for(F in g)a(g,F)&&(S=g[F],I(S)?this[F]=S:this["_"+F]=S);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(g,S){var F=f({},g),$;for($ in S)a(S,$)&&(i(g[$])&&i(S[$])?(F[$]={},f(F[$],g[$]),f(F[$],S[$])):S[$]!=null?F[$]=S[$]:delete F[$]);for($ in g)a(g,$)&&!a(S,$)&&i(g[$])&&(F[$]=f({},F[$]));return F}function q(g){g!=null&&this.set(g)}var L;Object.keys?L=Object.keys:L=function(g){var S,F=[];for(S in g)a(g,S)&&F.push(S);return F};var k={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B(g,S,F){var $=this._calendar[g]||this._calendar.sameElse;return I($)?$.call(S,F):$}function W(g,S,F){var $=""+Math.abs(g),H=S-$.length,ie=g>=0;return(ie?F?"+":"":"-")+Math.pow(10,Math.max(0,H)).toString().substr(1)+$}var O=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,X=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ne={},Z={};function U(g,S,F,$){var H=$;typeof $=="string"&&(H=function(){return this[$]()}),g&&(Z[g]=H),S&&(Z[S[0]]=function(){return W(H.apply(this,arguments),S[1],S[2])}),F&&(Z[F]=function(){return this.localeData().ordinal(H.apply(this,arguments),g)})}function pe(g){return g.match(/\[[\s\S]/)?g.replace(/^\[|\]$/g,""):g.replace(/\\/g,"")}function me(g){var S=g.match(O),F,$;for(F=0,$=S.length;F<$;F++)Z[S[F]]?S[F]=Z[S[F]]:S[F]=pe(S[F]);return function(H){var ie="",Me;for(Me=0;Me<$;Me++)ie+=I(S[Me])?S[Me].call(H,g):S[Me];return ie}}function oe(g,S){return g.isValid()?(S=ve(S,g.localeData()),ne[S]=ne[S]||me(S),ne[S](g)):g.localeData().invalidDate()}function ve(g,S){var F=5;function $(H){return S.longDateFormat(H)||H}for(X.lastIndex=0;F>=0&&X.test(g);)g=g.replace(X,$),X.lastIndex=0,F-=1;return g}var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ye(g){var S=this._longDateFormat[g],F=this._longDateFormat[g.toUpperCase()];return S||!F?S:(this._longDateFormat[g]=F.match(O).map(function($){return $==="MMMM"||$==="MM"||$==="DD"||$==="dddd"?$.slice(1):$}).join(""),this._longDateFormat[g])}var be="Invalid date";function we(){return this._invalidDate}var Ee="%d",qe=/\d{1,2}/;function Qe(g){return this._ordinal.replace("%d",g)}var Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(g,S,F,$){var H=this._relativeTime[F];return I(H)?H(g,S,F,$):H.replace(/%d/i,g)}function xe(g,S){var F=this._relativeTime[g>0?"future":"past"];return I(F)?F(S):F.replace(/%s/i,S)}var J={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(g){return typeof g=="string"?J[g]||J[g.toLowerCase()]:void 0}function se(g){var S={},F,$;for($ in g)a(g,$)&&(F=re($),F&&(S[F]=g[$]));return S}var Ae={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Te(g){var S=[],F;for(F in g)a(g,F)&&S.push({unit:F,priority:Ae[F]});return S.sort(function($,H){return $.priority-H.priority}),S}var Ve=/\d/,Se=/\d\d/,wt=/\d{3}/,Dt=/\d{4}/,jt=/[+-]?\d{6}/,Tt=/\d\d?/,j=/\d\d\d\d?/,le=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,Pe=/\d{1,4}/,ke=/[+-]?\d{1,6}/,Fe=/\d+/,$e=/[+-]?\d+/,ze=/Z|[+-]\d\d:?\d\d/gi,N=/Z|[+-]\d\d(?::?\d\d)?/gi,G=/[+-]?\d+(\.\d{1,3})?/,ge=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ne=/^[1-9]\d?/,at=/^([1-9]\d|\d)/,yt;yt={};function Re(g,S,F){yt[g]=I(S)?S:function($,H){return $&&F?F:S}}function Jn(g,S){return a(yt,g)?yt[g](S._strict,S._locale):new RegExp(Ii(g))}function Ii(g){return nn(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(S,F,$,H,ie){return F||$||H||ie}))}function nn(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Un(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function mr(g){var S=+g,F=0;return S!==0&&isFinite(S)&&(F=Un(S)),F}var Gs={};function Pr(g,S){var F,$=S,H;for(typeof g=="string"&&(g=[g]),l(S)&&($=function(ie,Me){Me[S]=mr(ie)}),H=g.length,F=0;F<H;F++)Gs[g[F]]=$}function Wi(g,S){Pr(g,function(F,$,H,ie){H._w=H._w||{},S(F,H._w,H,ie)})}function Oa(g,S,F){S!=null&&a(Gs,g)&&Gs[g](S,F._a,F,g)}function pa(g){return g%4===0&&g%100!==0||g%400===0}var Mn=0,Vn=1,Yi=2,fn=3,Xn=4,Dn=5,ji=6,Tf=7,ql=8;U("Y",0,0,function(){var g=this.year();return g<=9999?W(g,4):"+"+g}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),Re("Y",$e),Re("YY",Tt,Se),Re("YYYY",Pe,Dt),Re("YYYYY",ke,jt),Re("YYYYYY",ke,jt),Pr(["YYYYY","YYYYYY"],Mn),Pr("YYYY",function(g,S){S[Mn]=g.length===2?e.parseTwoDigitYear(g):mr(g)}),Pr("YY",function(g,S){S[Mn]=e.parseTwoDigitYear(g)}),Pr("Y",function(g,S){S[Mn]=parseInt(g,10)});function rs(g){return pa(g)?366:365}e.parseTwoDigitYear=function(g){return mr(g)+(mr(g)>68?1900:2e3)};var ns=Po("FullYear",!0);function zl(){return pa(this.year())}function Po(g,S){return function(F){return F!=null?(Hl(this,g,F),e.updateOffset(this,S),this):uo(this,g)}}function uo(g,S){if(!g.isValid())return NaN;var F=g._d,$=g._isUTC;switch(S){case"Milliseconds":return $?F.getUTCMilliseconds():F.getMilliseconds();case"Seconds":return $?F.getUTCSeconds():F.getSeconds();case"Minutes":return $?F.getUTCMinutes():F.getMinutes();case"Hours":return $?F.getUTCHours():F.getHours();case"Date":return $?F.getUTCDate():F.getDate();case"Day":return $?F.getUTCDay():F.getDay();case"Month":return $?F.getUTCMonth():F.getMonth();case"FullYear":return $?F.getUTCFullYear():F.getFullYear();default:return NaN}}function Hl(g,S,F){var $,H,ie,Me,dt;if(!(!g.isValid()||isNaN(F))){switch($=g._d,H=g._isUTC,S){case"Milliseconds":return void(H?$.setUTCMilliseconds(F):$.setMilliseconds(F));case"Seconds":return void(H?$.setUTCSeconds(F):$.setSeconds(F));case"Minutes":return void(H?$.setUTCMinutes(F):$.setMinutes(F));case"Hours":return void(H?$.setUTCHours(F):$.setHours(F));case"Date":return void(H?$.setUTCDate(F):$.setDate(F));case"FullYear":break;default:return}ie=F,Me=g.month(),dt=g.date(),dt=dt===29&&Me===1&&!pa(ie)?28:dt,H?$.setUTCFullYear(ie,Me,dt):$.setFullYear(ie,Me,dt)}}function Gl(g){return g=re(g),I(this[g])?this[g]():this}function Mf(g,S){if(typeof g=="object"){g=se(g);var F=Te(g),$,H=F.length;for($=0;$<H;$++)this[F[$].unit](g[F[$].unit])}else if(g=re(g),I(this[g]))return this[g](S);return this}function Df(g,S){return(g%S+S)%S}var an;Array.prototype.indexOf?an=Array.prototype.indexOf:an=function(g){var S;for(S=0;S<this.length;++S)if(this[S]===g)return S;return-1};function V(g,S){if(isNaN(g)||isNaN(S))return NaN;var F=Df(S,12);return g+=(S-F)/12,F===1?pa(g)?29:28:31-F%7%2}U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),U("MMMM",0,0,function(g){return this.localeData().months(this,g)}),Re("M",Tt,Ne),Re("MM",Tt,Se),Re("MMM",function(g,S){return S.monthsShortRegex(g)}),Re("MMMM",function(g,S){return S.monthsRegex(g)}),Pr(["M","MM"],function(g,S){S[Vn]=mr(g)-1}),Pr(["MMM","MMMM"],function(g,S,F,$){var H=F._locale.monthsParse(g,$,F._strict);H!=null?S[Vn]=H:d(F).invalidMonth=g});var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ye=ge,Ut=ge;function Br(g,S){return g?n(this._months)?this._months[g.month()]:this._months[(this._months.isFormat||Xe).test(S)?"format":"standalone"][g.month()]:n(this._months)?this._months:this._months.standalone}function In(g,S){return g?n(this._monthsShort)?this._monthsShort[g.month()]:this._monthsShort[Xe.test(S)?"format":"standalone"][g.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pn(g,S,F){var $,H,ie,Me=g.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],$=0;$<12;++$)ie=p([2e3,$]),this._shortMonthsParse[$]=this.monthsShort(ie,"").toLocaleLowerCase(),this._longMonthsParse[$]=this.months(ie,"").toLocaleLowerCase();return F?S==="MMM"?(H=an.call(this._shortMonthsParse,Me),H!==-1?H:null):(H=an.call(this._longMonthsParse,Me),H!==-1?H:null):S==="MMM"?(H=an.call(this._shortMonthsParse,Me),H!==-1?H:(H=an.call(this._longMonthsParse,Me),H!==-1?H:null)):(H=an.call(this._longMonthsParse,Me),H!==-1?H:(H=an.call(this._shortMonthsParse,Me),H!==-1?H:null))}function is(g,S,F){var $,H,ie;if(this._monthsParseExact)return Pn.call(this,g,S,F);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),$=0;$<12;$++){if(H=p([2e3,$]),F&&!this._longMonthsParse[$]&&(this._longMonthsParse[$]=new RegExp("^"+this.months(H,"").replace(".","")+"$","i"),this._shortMonthsParse[$]=new RegExp("^"+this.monthsShort(H,"").replace(".","")+"$","i")),!F&&!this._monthsParse[$]&&(ie="^"+this.months(H,"")+"|^"+this.monthsShort(H,""),this._monthsParse[$]=new RegExp(ie.replace(".",""),"i")),F&&S==="MMMM"&&this._longMonthsParse[$].test(g))return $;if(F&&S==="MMM"&&this._shortMonthsParse[$].test(g))return $;if(!F&&this._monthsParse[$].test(g))return $}}function ZM(g,S){if(!g.isValid())return g;if(typeof S=="string"){if(/^\d+$/.test(S))S=mr(S);else if(S=g.localeData().monthsParse(S),!l(S))return g}var F=S,$=g.date();return $=$<29?$:Math.min($,V(g.year(),F)),g._isUTC?g._d.setUTCMonth(F,$):g._d.setMonth(F,$),g}function JM(g){return g!=null?(ZM(this,g),e.updateOffset(this,!0),this):uo(this,"Month")}function v6(){return V(this.year(),this.month())}function y6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||XM.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)}function x6(g){return this._monthsParseExact?(a(this,"_monthsRegex")||XM.call(this),g?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)}function XM(){function g(Qt,_r){return _r.length-Qt.length}var S=[],F=[],$=[],H,ie,Me,dt;for(H=0;H<12;H++)ie=p([2e3,H]),Me=nn(this.monthsShort(ie,"")),dt=nn(this.months(ie,"")),S.push(Me),F.push(dt),$.push(dt),$.push(Me);S.sort(g),F.sort(g),$.sort(g),this._monthsRegex=new RegExp("^("+$.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+S.join("|")+")","i")}function b6(g,S,F,$,H,ie,Me){var dt;return g<100&&g>=0?(dt=new Date(g+400,S,F,$,H,ie,Me),isFinite(dt.getFullYear())&&dt.setFullYear(g)):dt=new Date(g,S,F,$,H,ie,Me),dt}function Cf(g){var S,F;return g<100&&g>=0?(F=Array.prototype.slice.call(arguments),F[0]=g+400,S=new Date(Date.UTC.apply(null,F)),isFinite(S.getUTCFullYear())&&S.setUTCFullYear(g)):S=new Date(Date.UTC.apply(null,arguments)),S}function dm(g,S,F){var $=7+S-F,H=(7+Cf(g,0,$).getUTCDay()-S)%7;return-H+$-1}function QM(g,S,F,$,H){var ie=(7+F-$)%7,Me=dm(g,$,H),dt=1+7*(S-1)+ie+Me,Qt,_r;return dt<=0?(Qt=g-1,_r=rs(Qt)+dt):dt>rs(g)?(Qt=g+1,_r=dt-rs(g)):(Qt=g,_r=dt),{year:Qt,dayOfYear:_r}}function Nf(g,S,F){var $=dm(g.year(),S,F),H=Math.floor((g.dayOfYear()-$-1)/7)+1,ie,Me;return H<1?(Me=g.year()-1,ie=H+as(Me,S,F)):H>as(g.year(),S,F)?(ie=H-as(g.year(),S,F),Me=g.year()+1):(Me=g.year(),ie=H),{week:ie,year:Me}}function as(g,S,F){var $=dm(g,S,F),H=dm(g+1,S,F);return(rs(g)-$+H)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),Re("w",Tt,Ne),Re("ww",Tt,Se),Re("W",Tt,Ne),Re("WW",Tt,Se),Wi(["w","ww","W","WW"],function(g,S,F,$){S[$.substr(0,1)]=mr(g)});function w6(g){return Nf(g,this._week.dow,this._week.doy).week}var _6={dow:0,doy:6};function S6(){return this._week.dow}function A6(){return this._week.doy}function E6(g){var S=this.localeData().week(this);return g==null?S:this.add((g-S)*7,"d")}function T6(g){var S=Nf(this,1,4).week;return g==null?S:this.add((g-S)*7,"d")}U("d",0,"do","day"),U("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),U("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),U("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),Re("d",Tt),Re("e",Tt),Re("E",Tt),Re("dd",function(g,S){return S.weekdaysMinRegex(g)}),Re("ddd",function(g,S){return S.weekdaysShortRegex(g)}),Re("dddd",function(g,S){return S.weekdaysRegex(g)}),Wi(["dd","ddd","dddd"],function(g,S,F,$){var H=F._locale.weekdaysParse(g,$,F._strict);H!=null?S.d=H:d(F).invalidWeekday=g}),Wi(["d","e","E"],function(g,S,F,$){S[$]=mr(g)});function M6(g,S){return typeof g!="string"?g:isNaN(g)?(g=S.weekdaysParse(g),typeof g=="number"?g:null):parseInt(g,10)}function D6(g,S){return typeof g=="string"?S.weekdaysParse(g)%7||7:isNaN(g)?null:g}function vy(g,S){return g.slice(S,7).concat(g.slice(0,S))}var C6="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),KM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),N6="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),F6=ge,I6=ge,P6=ge;function B6(g,S){var F=n(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(S)?"format":"standalone"];return g===!0?vy(F,this._week.dow):g?F[g.day()]:F}function k6(g){return g===!0?vy(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort}function $6(g){return g===!0?vy(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin}function O6(g,S,F){var $,H,ie,Me=g.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],$=0;$<7;++$)ie=p([2e3,1]).day($),this._minWeekdaysParse[$]=this.weekdaysMin(ie,"").toLocaleLowerCase(),this._shortWeekdaysParse[$]=this.weekdaysShort(ie,"").toLocaleLowerCase(),this._weekdaysParse[$]=this.weekdays(ie,"").toLocaleLowerCase();return F?S==="dddd"?(H=an.call(this._weekdaysParse,Me),H!==-1?H:null):S==="ddd"?(H=an.call(this._shortWeekdaysParse,Me),H!==-1?H:null):(H=an.call(this._minWeekdaysParse,Me),H!==-1?H:null):S==="dddd"?(H=an.call(this._weekdaysParse,Me),H!==-1||(H=an.call(this._shortWeekdaysParse,Me),H!==-1)?H:(H=an.call(this._minWeekdaysParse,Me),H!==-1?H:null)):S==="ddd"?(H=an.call(this._shortWeekdaysParse,Me),H!==-1||(H=an.call(this._weekdaysParse,Me),H!==-1)?H:(H=an.call(this._minWeekdaysParse,Me),H!==-1?H:null)):(H=an.call(this._minWeekdaysParse,Me),H!==-1||(H=an.call(this._weekdaysParse,Me),H!==-1)?H:(H=an.call(this._shortWeekdaysParse,Me),H!==-1?H:null))}function R6(g,S,F){var $,H,ie;if(this._weekdaysParseExact)return O6.call(this,g,S,F);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),$=0;$<7;$++){if(H=p([2e3,1]).day($),F&&!this._fullWeekdaysParse[$]&&(this._fullWeekdaysParse[$]=new RegExp("^"+this.weekdays(H,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[$]=new RegExp("^"+this.weekdaysShort(H,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[$]=new RegExp("^"+this.weekdaysMin(H,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[$]||(ie="^"+this.weekdays(H,"")+"|^"+this.weekdaysShort(H,"")+"|^"+this.weekdaysMin(H,""),this._weekdaysParse[$]=new RegExp(ie.replace(".",""),"i")),F&&S==="dddd"&&this._fullWeekdaysParse[$].test(g))return $;if(F&&S==="ddd"&&this._shortWeekdaysParse[$].test(g))return $;if(F&&S==="dd"&&this._minWeekdaysParse[$].test(g))return $;if(!F&&this._weekdaysParse[$].test(g))return $}}function L6(g){if(!this.isValid())return g!=null?this:NaN;var S=uo(this,"Day");return g!=null?(g=M6(g,this.localeData()),this.add(g-S,"d")):S}function U6(g){if(!this.isValid())return g!=null?this:NaN;var S=(this.day()+7-this.localeData()._week.dow)%7;return g==null?S:this.add(g-S,"d")}function V6(g){if(!this.isValid())return g!=null?this:NaN;if(g!=null){var S=D6(g,this.localeData());return this.day(this.day()%7?S:S-7)}else return this.day()||7}function q6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yy.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=F6),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)}function z6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yy.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=I6),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function H6(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yy.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=P6),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function yy(){function g(Pi,cs){return cs.length-Pi.length}var S=[],F=[],$=[],H=[],ie,Me,dt,Qt,_r;for(ie=0;ie<7;ie++)Me=p([2e3,1]).day(ie),dt=nn(this.weekdaysMin(Me,"")),Qt=nn(this.weekdaysShort(Me,"")),_r=nn(this.weekdays(Me,"")),S.push(dt),F.push(Qt),$.push(_r),H.push(dt),H.push(Qt),H.push(_r);S.sort(g),F.sort(g),$.sort(g),H.sort(g),this._weekdaysRegex=new RegExp("^("+H.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+$.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+F.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+S.join("|")+")","i")}function xy(){return this.hours()%12||12}function G6(){return this.hours()||24}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,xy),U("k",["kk",2],0,G6),U("hmm",0,0,function(){return""+xy.apply(this)+W(this.minutes(),2)}),U("hmmss",0,0,function(){return""+xy.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)});function eD(g,S){U(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),S)})}eD("a",!0),eD("A",!1);function tD(g,S){return S._meridiemParse}Re("a",tD),Re("A",tD),Re("H",Tt,at),Re("h",Tt,Ne),Re("k",Tt,Ne),Re("HH",Tt,Se),Re("hh",Tt,Se),Re("kk",Tt,Se),Re("hmm",j),Re("hmmss",le),Re("Hmm",j),Re("Hmmss",le),Pr(["H","HH"],fn),Pr(["k","kk"],function(g,S,F){var $=mr(g);S[fn]=$===24?0:$}),Pr(["a","A"],function(g,S,F){F._isPm=F._locale.isPM(g),F._meridiem=g}),Pr(["h","hh"],function(g,S,F){S[fn]=mr(g),d(F).bigHour=!0}),Pr("hmm",function(g,S,F){var $=g.length-2;S[fn]=mr(g.substr(0,$)),S[Xn]=mr(g.substr($)),d(F).bigHour=!0}),Pr("hmmss",function(g,S,F){var $=g.length-4,H=g.length-2;S[fn]=mr(g.substr(0,$)),S[Xn]=mr(g.substr($,2)),S[Dn]=mr(g.substr(H)),d(F).bigHour=!0}),Pr("Hmm",function(g,S,F){var $=g.length-2;S[fn]=mr(g.substr(0,$)),S[Xn]=mr(g.substr($))}),Pr("Hmmss",function(g,S,F){var $=g.length-4,H=g.length-2;S[fn]=mr(g.substr(0,$)),S[Xn]=mr(g.substr($,2)),S[Dn]=mr(g.substr(H))});function W6(g){return(g+"").toLowerCase().charAt(0)==="p"}var Y6=/[ap]\.?m?\.?/i,j6=Po("Hours",!0);function Z6(g,S,F){return g>11?F?"pm":"PM":F?"am":"AM"}var rD={calendar:k,longDateFormat:_e,invalidDate:be,ordinal:Ee,dayOfMonthOrdinalParse:qe,relativeTime:Y,months:ee,monthsShort:Ie,week:_6,weekdays:C6,weekdaysMin:N6,weekdaysShort:KM,meridiemParse:Y6},pn={},Ff={},If;function J6(g,S){var F,$=Math.min(g.length,S.length);for(F=0;F<$;F+=1)if(g[F]!==S[F])return F;return $}function nD(g){return g&&g.toLowerCase().replace("_","-")}function X6(g){for(var S=0,F,$,H,ie;S<g.length;){for(ie=nD(g[S]).split("-"),F=ie.length,$=nD(g[S+1]),$=$?$.split("-"):null;F>0;){if(H=hm(ie.slice(0,F).join("-")),H)return H;if($&&$.length>=F&&J6(ie,$)>=F-1)break;F--}S++}return If}function Q6(g){return!!(g&&g.match("^[^/\\\\]*$"))}function hm(g){var S=null,F;if(pn[g]===void 0&&typeof tc<"u"&&tc&&tc.exports&&Q6(g))try{S=If._abbr,F=require,F("./locale/"+g),Ws(S)}catch{pn[g]=null}return pn[g]}function Ws(g,S){var F;return g&&(u(S)?F=os(g):F=by(g,S),F?If=F:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),If._abbr}function by(g,S){if(S!==null){var F,$=rD;if(S.abbr=g,pn[g]!=null)D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),$=pn[g]._config;else if(S.parentLocale!=null)if(pn[S.parentLocale]!=null)$=pn[S.parentLocale]._config;else if(F=hm(S.parentLocale),F!=null)$=F._config;else return Ff[S.parentLocale]||(Ff[S.parentLocale]=[]),Ff[S.parentLocale].push({name:g,config:S}),null;return pn[g]=new q(R($,S)),Ff[g]&&Ff[g].forEach(function(H){by(H.name,H.config)}),Ws(g),pn[g]}else return delete pn[g],null}function K6(g,S){if(S!=null){var F,$,H=rD;pn[g]!=null&&pn[g].parentLocale!=null?pn[g].set(R(pn[g]._config,S)):($=hm(g),$!=null&&(H=$._config),S=R(H,S),$==null&&(S.abbr=g),F=new q(S),F.parentLocale=pn[g],pn[g]=F),Ws(g)}else pn[g]!=null&&(pn[g].parentLocale!=null?(pn[g]=pn[g].parentLocale,g===Ws()&&Ws(g)):pn[g]!=null&&delete pn[g]);return pn[g]}function os(g){var S;if(g&&g._locale&&g._locale._abbr&&(g=g._locale._abbr),!g)return If;if(!n(g)){if(S=hm(g),S)return S;g=[g]}return X6(g)}function eq(){return L(pn)}function wy(g){var S,F=g._a;return F&&d(g).overflow===-2&&(S=F[Vn]<0||F[Vn]>11?Vn:F[Yi]<1||F[Yi]>V(F[Mn],F[Vn])?Yi:F[fn]<0||F[fn]>24||F[fn]===24&&(F[Xn]!==0||F[Dn]!==0||F[ji]!==0)?fn:F[Xn]<0||F[Xn]>59?Xn:F[Dn]<0||F[Dn]>59?Dn:F[ji]<0||F[ji]>999?ji:-1,d(g)._overflowDayOfYear&&(S<Mn||S>Yi)&&(S=Yi),d(g)._overflowWeeks&&S===-1&&(S=Tf),d(g)._overflowWeekday&&S===-1&&(S=ql),d(g).overflow=S),g}var tq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nq=/Z|[+-]\d\d(?::?\d\d)?/,gm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_y=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],iq=/^\/?Date\((-?\d+)/i,aq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,oq={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iD(g){var S,F,$=g._i,H=tq.exec($)||rq.exec($),ie,Me,dt,Qt,_r=gm.length,Pi=_y.length;if(H){for(d(g).iso=!0,S=0,F=_r;S<F;S++)if(gm[S][1].exec(H[1])){Me=gm[S][0],ie=gm[S][2]!==!1;break}if(Me==null){g._isValid=!1;return}if(H[3]){for(S=0,F=Pi;S<F;S++)if(_y[S][1].exec(H[3])){dt=(H[2]||" ")+_y[S][0];break}if(dt==null){g._isValid=!1;return}}if(!ie&&dt!=null){g._isValid=!1;return}if(H[4])if(nq.exec(H[4]))Qt="Z";else{g._isValid=!1;return}g._f=Me+(dt||"")+(Qt||""),Ay(g)}else g._isValid=!1}function sq(g,S,F,$,H,ie){var Me=[uq(g),Ie.indexOf(S),parseInt(F,10),parseInt($,10),parseInt(H,10)];return ie&&Me.push(parseInt(ie,10)),Me}function uq(g){var S=parseInt(g,10);return S<=49?2e3+S:S<=999?1900+S:S}function lq(g){return g.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cq(g,S,F){if(g){var $=KM.indexOf(g),H=new Date(S[0],S[1],S[2]).getDay();if($!==H)return d(F).weekdayMismatch=!0,F._isValid=!1,!1}return!0}function fq(g,S,F){if(g)return oq[g];if(S)return 0;var $=parseInt(F,10),H=$%100,ie=($-H)/100;return ie*60+H}function aD(g){var S=aq.exec(lq(g._i)),F;if(S){if(F=sq(S[4],S[3],S[2],S[5],S[6],S[7]),!cq(S[1],F,g))return;g._a=F,g._tzm=fq(S[8],S[9],S[10]),g._d=Cf.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),d(g).rfc2822=!0}else g._isValid=!1}function pq(g){var S=iq.exec(g._i);if(S!==null){g._d=new Date(+S[1]);return}if(iD(g),g._isValid===!1)delete g._isValid;else return;if(aD(g),g._isValid===!1)delete g._isValid;else return;g._strict?g._isValid=!1:e.createFromInputFallback(g)}e.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))});function Wl(g,S,F){return g??S??F}function mq(g){var S=new Date(e.now());return g._useUTC?[S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()]:[S.getFullYear(),S.getMonth(),S.getDate()]}function Sy(g){var S,F,$=[],H,ie,Me;if(!g._d){for(H=mq(g),g._w&&g._a[Yi]==null&&g._a[Vn]==null&&dq(g),g._dayOfYear!=null&&(Me=Wl(g._a[Mn],H[Mn]),(g._dayOfYear>rs(Me)||g._dayOfYear===0)&&(d(g)._overflowDayOfYear=!0),F=Cf(Me,0,g._dayOfYear),g._a[Vn]=F.getUTCMonth(),g._a[Yi]=F.getUTCDate()),S=0;S<3&&g._a[S]==null;++S)g._a[S]=$[S]=H[S];for(;S<7;S++)g._a[S]=$[S]=g._a[S]==null?S===2?1:0:g._a[S];g._a[fn]===24&&g._a[Xn]===0&&g._a[Dn]===0&&g._a[ji]===0&&(g._nextDay=!0,g._a[fn]=0),g._d=(g._useUTC?Cf:b6).apply(null,$),ie=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[fn]=24),g._w&&typeof g._w.d<"u"&&g._w.d!==ie&&(d(g).weekdayMismatch=!0)}}function dq(g){var S,F,$,H,ie,Me,dt,Qt,_r;S=g._w,S.GG!=null||S.W!=null||S.E!=null?(ie=1,Me=4,F=Wl(S.GG,g._a[Mn],Nf(on(),1,4).year),$=Wl(S.W,1),H=Wl(S.E,1),(H<1||H>7)&&(Qt=!0)):(ie=g._locale._week.dow,Me=g._locale._week.doy,_r=Nf(on(),ie,Me),F=Wl(S.gg,g._a[Mn],_r.year),$=Wl(S.w,_r.week),S.d!=null?(H=S.d,(H<0||H>6)&&(Qt=!0)):S.e!=null?(H=S.e+ie,(S.e<0||S.e>6)&&(Qt=!0)):H=ie),$<1||$>as(F,ie,Me)?d(g)._overflowWeeks=!0:Qt!=null?d(g)._overflowWeekday=!0:(dt=QM(F,$,H,ie,Me),g._a[Mn]=dt.year,g._dayOfYear=dt.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Ay(g){if(g._f===e.ISO_8601){iD(g);return}if(g._f===e.RFC_2822){aD(g);return}g._a=[],d(g).empty=!0;var S=""+g._i,F,$,H,ie,Me,dt=S.length,Qt=0,_r,Pi;for(H=ve(g._f,g._locale).match(O)||[],Pi=H.length,F=0;F<Pi;F++)ie=H[F],$=(S.match(Jn(ie,g))||[])[0],$&&(Me=S.substr(0,S.indexOf($)),Me.length>0&&d(g).unusedInput.push(Me),S=S.slice(S.indexOf($)+$.length),Qt+=$.length),Z[ie]?($?d(g).empty=!1:d(g).unusedTokens.push(ie),Oa(ie,$,g)):g._strict&&!$&&d(g).unusedTokens.push(ie);d(g).charsLeftOver=dt-Qt,S.length>0&&d(g).unusedInput.push(S),g._a[fn]<=12&&d(g).bigHour===!0&&g._a[fn]>0&&(d(g).bigHour=void 0),d(g).parsedDateParts=g._a.slice(0),d(g).meridiem=g._meridiem,g._a[fn]=hq(g._locale,g._a[fn],g._meridiem),_r=d(g).era,_r!==null&&(g._a[Mn]=g._locale.erasConvertYear(_r,g._a[Mn])),Sy(g),wy(g)}function hq(g,S,F){var $;return F==null?S:g.meridiemHour!=null?g.meridiemHour(S,F):(g.isPM!=null&&($=g.isPM(F),$&&S<12&&(S+=12),!$&&S===12&&(S=0)),S)}function gq(g){var S,F,$,H,ie,Me,dt=!1,Qt=g._f.length;if(Qt===0){d(g).invalidFormat=!0,g._d=new Date(NaN);return}for(H=0;H<Qt;H++)ie=0,Me=!1,S=_({},g),g._useUTC!=null&&(S._useUTC=g._useUTC),S._f=g._f[H],Ay(S),w(S)&&(Me=!0),ie+=d(S).charsLeftOver,ie+=d(S).unusedTokens.length*10,d(S).score=ie,dt?ie<$&&($=ie,F=S):($==null||ie<$||Me)&&($=ie,F=S,Me&&(dt=!0));f(g,F||S)}function vq(g){if(!g._d){var S=se(g._i),F=S.day===void 0?S.date:S.day;g._a=c([S.year,S.month,F,S.hour,S.minute,S.second,S.millisecond],function($){return $&&parseInt($,10)}),Sy(g)}}function yq(g){var S=new A(wy(oD(g)));return S._nextDay&&(S.add(1,"d"),S._nextDay=void 0),S}function oD(g){var S=g._i,F=g._f;return g._locale=g._locale||os(g._l),S===null||F===void 0&&S===""?x({nullInput:!0}):(typeof S=="string"&&(g._i=S=g._locale.preparse(S)),y(S)?new A(wy(S)):(s(S)?g._d=S:n(F)?gq(g):F?Ay(g):xq(g),w(g)||(g._d=null),g))}function xq(g){var S=g._i;u(S)?g._d=new Date(e.now()):s(S)?g._d=new Date(S.valueOf()):typeof S=="string"?pq(g):n(S)?(g._a=c(S.slice(0),function(F){return parseInt(F,10)}),Sy(g)):i(S)?vq(g):l(S)?g._d=new Date(S):e.createFromInputFallback(g)}function sD(g,S,F,$,H){var ie={};return(S===!0||S===!1)&&($=S,S=void 0),(F===!0||F===!1)&&($=F,F=void 0),(i(g)&&o(g)||n(g)&&g.length===0)&&(g=void 0),ie._isAMomentObject=!0,ie._useUTC=ie._isUTC=H,ie._l=F,ie._i=g,ie._f=S,ie._strict=$,yq(ie)}function on(g,S,F,$){return sD(g,S,F,$,!1)}var bq=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=on.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:x()}),wq=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=on.apply(null,arguments);return this.isValid()&&g.isValid()?g>this?this:g:x()});function uD(g,S){var F,$;if(S.length===1&&n(S[0])&&(S=S[0]),!S.length)return on();for(F=S[0],$=1;$<S.length;++$)(!S[$].isValid()||S[$][g](F))&&(F=S[$]);return F}function _q(){var g=[].slice.call(arguments,0);return uD("isBefore",g)}function Sq(){var g=[].slice.call(arguments,0);return uD("isAfter",g)}var Aq=function(){return Date.now?Date.now():+new Date},Pf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Eq(g){var S,F=!1,$,H=Pf.length;for(S in g)if(a(g,S)&&!(an.call(Pf,S)!==-1&&(g[S]==null||!isNaN(g[S]))))return!1;for($=0;$<H;++$)if(g[Pf[$]]){if(F)return!1;parseFloat(g[Pf[$]])!==mr(g[Pf[$]])&&(F=!0)}return!0}function Tq(){return this._isValid}function Mq(){return lo(NaN)}function vm(g){var S=se(g),F=S.year||0,$=S.quarter||0,H=S.month||0,ie=S.week||S.isoWeek||0,Me=S.day||0,dt=S.hour||0,Qt=S.minute||0,_r=S.second||0,Pi=S.millisecond||0;this._isValid=Eq(S),this._milliseconds=+Pi+_r*1e3+Qt*6e4+dt*1e3*60*60,this._days=+Me+ie*7,this._months=+H+$*3+F*12,this._data={},this._locale=os(),this._bubble()}function ym(g){return g instanceof vm}function Ey(g){return g<0?Math.round(-1*g)*-1:Math.round(g)}function Dq(g,S,F){var $=Math.min(g.length,S.length),H=Math.abs(g.length-S.length),ie=0,Me;for(Me=0;Me<$;Me++)(F&&g[Me]!==S[Me]||!F&&mr(g[Me])!==mr(S[Me]))&&ie++;return ie+H}function lD(g,S){U(g,0,0,function(){var F=this.utcOffset(),$="+";return F<0&&(F=-F,$="-"),$+W(~~(F/60),2)+S+W(~~F%60,2)})}lD("Z",":"),lD("ZZ",""),Re("Z",N),Re("ZZ",N),Pr(["Z","ZZ"],function(g,S,F){F._useUTC=!0,F._tzm=Ty(N,g)});var Cq=/([\+\-]|\d\d)/gi;function Ty(g,S){var F=(S||"").match(g),$,H,ie;return F===null?null:($=F[F.length-1]||[],H=($+"").match(Cq)||["-",0,0],ie=+(H[1]*60)+mr(H[2]),ie===0?0:H[0]==="+"?ie:-ie)}function My(g,S){var F,$;return S._isUTC?(F=S.clone(),$=(y(g)||s(g)?g.valueOf():on(g).valueOf())-F.valueOf(),F._d.setTime(F._d.valueOf()+$),e.updateOffset(F,!1),F):on(g).local()}function Dy(g){return-Math.round(g._d.getTimezoneOffset())}e.updateOffset=function(){};function Nq(g,S,F){var $=this._offset||0,H;if(!this.isValid())return g!=null?this:NaN;if(g!=null){if(typeof g=="string"){if(g=Ty(N,g),g===null)return this}else Math.abs(g)<16&&!F&&(g=g*60);return!this._isUTC&&S&&(H=Dy(this)),this._offset=g,this._isUTC=!0,H!=null&&this.add(H,"m"),$!==g&&(!S||this._changeInProgress?mD(this,lo(g-$,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?$:Dy(this)}function Fq(g,S){return g!=null?(typeof g!="string"&&(g=-g),this.utcOffset(g,S),this):-this.utcOffset()}function Iq(g){return this.utcOffset(0,g)}function Pq(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(Dy(this),"m")),this}function Bq(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var g=Ty(ze,this._i);g!=null?this.utcOffset(g):this.utcOffset(0,!0)}return this}function kq(g){return this.isValid()?(g=g?on(g).utcOffset():0,(this.utcOffset()-g)%60===0):!1}function $q(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oq(){if(!u(this._isDSTShifted))return this._isDSTShifted;var g={},S;return _(g,this),g=oD(g),g._a?(S=g._isUTC?p(g._a):on(g._a),this._isDSTShifted=this.isValid()&&Dq(g._a,S.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rq(){return this.isValid()?!this._isUTC:!1}function Lq(){return this.isValid()?this._isUTC:!1}function cD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Uq=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Vq=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function lo(g,S){var F=g,$=null,H,ie,Me;return ym(g)?F={ms:g._milliseconds,d:g._days,M:g._months}:l(g)||!isNaN(+g)?(F={},S?F[S]=+g:F.milliseconds=+g):($=Uq.exec(g))?(H=$[1]==="-"?-1:1,F={y:0,d:mr($[Yi])*H,h:mr($[fn])*H,m:mr($[Xn])*H,s:mr($[Dn])*H,ms:mr(Ey($[ji]*1e3))*H}):($=Vq.exec(g))?(H=$[1]==="-"?-1:1,F={y:zu($[2],H),M:zu($[3],H),w:zu($[4],H),d:zu($[5],H),h:zu($[6],H),m:zu($[7],H),s:zu($[8],H)}):F==null?F={}:typeof F=="object"&&("from"in F||"to"in F)&&(Me=qq(on(F.from),on(F.to)),F={},F.ms=Me.milliseconds,F.M=Me.months),ie=new vm(F),ym(g)&&a(g,"_locale")&&(ie._locale=g._locale),ym(g)&&a(g,"_isValid")&&(ie._isValid=g._isValid),ie}lo.fn=vm.prototype,lo.invalid=Mq;function zu(g,S){var F=g&&parseFloat(g.replace(",","."));return(isNaN(F)?0:F)*S}function fD(g,S){var F={};return F.months=S.month()-g.month()+(S.year()-g.year())*12,g.clone().add(F.months,"M").isAfter(S)&&--F.months,F.milliseconds=+S-+g.clone().add(F.months,"M"),F}function qq(g,S){var F;return g.isValid()&&S.isValid()?(S=My(S,g),g.isBefore(S)?F=fD(g,S):(F=fD(S,g),F.milliseconds=-F.milliseconds,F.months=-F.months),F):{milliseconds:0,months:0}}function pD(g,S){return function(F,$){var H,ie;return $!==null&&!isNaN(+$)&&(D(S,"moment()."+S+"(period, number) is deprecated. Please use moment()."+S+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ie=F,F=$,$=ie),H=lo(F,$),mD(this,H,g),this}}function mD(g,S,F,$){var H=S._milliseconds,ie=Ey(S._days),Me=Ey(S._months);g.isValid()&&($=$??!0,Me&&ZM(g,uo(g,"Month")+Me*F),ie&&Hl(g,"Date",uo(g,"Date")+ie*F),H&&g._d.setTime(g._d.valueOf()+H*F),$&&e.updateOffset(g,ie||Me))}var zq=pD(1,"add"),Hq=pD(-1,"subtract");function dD(g){return typeof g=="string"||g instanceof String}function Gq(g){return y(g)||s(g)||dD(g)||l(g)||Yq(g)||Wq(g)||g===null||g===void 0}function Wq(g){var S=i(g)&&!o(g),F=!1,$=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],H,ie,Me=$.length;for(H=0;H<Me;H+=1)ie=$[H],F=F||a(g,ie);return S&&F}function Yq(g){var S=n(g),F=!1;return S&&(F=g.filter(function($){return!l($)&&dD(g)}).length===0),S&&F}function jq(g){var S=i(g)&&!o(g),F=!1,$=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],H,ie;for(H=0;H<$.length;H+=1)ie=$[H],F=F||a(g,ie);return S&&F}function Zq(g,S){var F=g.diff(S,"days",!0);return F<-6?"sameElse":F<-1?"lastWeek":F<0?"lastDay":F<1?"sameDay":F<2?"nextDay":F<7?"nextWeek":"sameElse"}function Jq(g,S){arguments.length===1&&(arguments[0]?Gq(arguments[0])?(g=arguments[0],S=void 0):jq(arguments[0])&&(S=arguments[0],g=void 0):(g=void 0,S=void 0));var F=g||on(),$=My(F,this).startOf("day"),H=e.calendarFormat(this,$)||"sameElse",ie=S&&(I(S[H])?S[H].call(this,F):S[H]);return this.format(ie||this.localeData().calendar(H,this,on(F)))}function Xq(){return new A(this)}function Qq(g,S){var F=y(g)?g:on(g);return this.isValid()&&F.isValid()?(S=re(S)||"millisecond",S==="millisecond"?this.valueOf()>F.valueOf():F.valueOf()<this.clone().startOf(S).valueOf()):!1}function Kq(g,S){var F=y(g)?g:on(g);return this.isValid()&&F.isValid()?(S=re(S)||"millisecond",S==="millisecond"?this.valueOf()<F.valueOf():this.clone().endOf(S).valueOf()<F.valueOf()):!1}function e9(g,S,F,$){var H=y(g)?g:on(g),ie=y(S)?S:on(S);return this.isValid()&&H.isValid()&&ie.isValid()?($=$||"()",($[0]==="("?this.isAfter(H,F):!this.isBefore(H,F))&&($[1]===")"?this.isBefore(ie,F):!this.isAfter(ie,F))):!1}function t9(g,S){var F=y(g)?g:on(g),$;return this.isValid()&&F.isValid()?(S=re(S)||"millisecond",S==="millisecond"?this.valueOf()===F.valueOf():($=F.valueOf(),this.clone().startOf(S).valueOf()<=$&&$<=this.clone().endOf(S).valueOf())):!1}function r9(g,S){return this.isSame(g,S)||this.isAfter(g,S)}function n9(g,S){return this.isSame(g,S)||this.isBefore(g,S)}function i9(g,S,F){var $,H,ie;if(!this.isValid())return NaN;if($=My(g,this),!$.isValid())return NaN;switch(H=($.utcOffset()-this.utcOffset())*6e4,S=re(S),S){case"year":ie=xm(this,$)/12;break;case"month":ie=xm(this,$);break;case"quarter":ie=xm(this,$)/3;break;case"second":ie=(this-$)/1e3;break;case"minute":ie=(this-$)/6e4;break;case"hour":ie=(this-$)/36e5;break;case"day":ie=(this-$-H)/864e5;break;case"week":ie=(this-$-H)/6048e5;break;default:ie=this-$}return F?ie:Un(ie)}function xm(g,S){if(g.date()<S.date())return-xm(S,g);var F=(S.year()-g.year())*12+(S.month()-g.month()),$=g.clone().add(F,"months"),H,ie;return S-$<0?(H=g.clone().add(F-1,"months"),ie=(S-$)/($-H)):(H=g.clone().add(F+1,"months"),ie=(S-$)/(H-$)),-(F+ie)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function a9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function o9(g){if(!this.isValid())return null;var S=g!==!0,F=S?this.clone().utc():this;return F.year()<0||F.year()>9999?oe(F,S?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?S?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",oe(F,"Z")):oe(F,S?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function s9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g="moment",S="",F,$,H,ie;return this.isLocal()||(g=this.utcOffset()===0?"moment.utc":"moment.parseZone",S="Z"),F="["+g+'("]',$=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",H="-MM-DD[T]HH:mm:ss.SSS",ie=S+'[")]',this.format(F+$+H+ie)}function u9(g){g||(g=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var S=oe(this,g);return this.localeData().postformat(S)}function l9(g,S){return this.isValid()&&(y(g)&&g.isValid()||on(g).isValid())?lo({to:this,from:g}).locale(this.locale()).humanize(!S):this.localeData().invalidDate()}function c9(g){return this.from(on(),g)}function f9(g,S){return this.isValid()&&(y(g)&&g.isValid()||on(g).isValid())?lo({from:this,to:g}).locale(this.locale()).humanize(!S):this.localeData().invalidDate()}function p9(g){return this.to(on(),g)}function hD(g){var S;return g===void 0?this._locale._abbr:(S=os(g),S!=null&&(this._locale=S),this)}var gD=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function vD(){return this._locale}var bm=1e3,Yl=60*bm,wm=60*Yl,yD=(365*400+97)*24*wm;function jl(g,S){return(g%S+S)%S}function xD(g,S,F){return g<100&&g>=0?new Date(g+400,S,F)-yD:new Date(g,S,F).valueOf()}function bD(g,S,F){return g<100&&g>=0?Date.UTC(g+400,S,F)-yD:Date.UTC(g,S,F)}function m9(g){var S,F;if(g=re(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?bD:xD,g){case"year":S=F(this.year(),0,1);break;case"quarter":S=F(this.year(),this.month()-this.month()%3,1);break;case"month":S=F(this.year(),this.month(),1);break;case"week":S=F(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":S=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":S=F(this.year(),this.month(),this.date());break;case"hour":S=this._d.valueOf(),S-=jl(S+(this._isUTC?0:this.utcOffset()*Yl),wm);break;case"minute":S=this._d.valueOf(),S-=jl(S,Yl);break;case"second":S=this._d.valueOf(),S-=jl(S,bm);break}return this._d.setTime(S),e.updateOffset(this,!0),this}function d9(g){var S,F;if(g=re(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(F=this._isUTC?bD:xD,g){case"year":S=F(this.year()+1,0,1)-1;break;case"quarter":S=F(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":S=F(this.year(),this.month()+1,1)-1;break;case"week":S=F(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":S=F(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":S=F(this.year(),this.month(),this.date()+1)-1;break;case"hour":S=this._d.valueOf(),S+=wm-jl(S+(this._isUTC?0:this.utcOffset()*Yl),wm)-1;break;case"minute":S=this._d.valueOf(),S+=Yl-jl(S,Yl)-1;break;case"second":S=this._d.valueOf(),S+=bm-jl(S,bm)-1;break}return this._d.setTime(S),e.updateOffset(this,!0),this}function h9(){return this._d.valueOf()-(this._offset||0)*6e4}function g9(){return Math.floor(this.valueOf()/1e3)}function v9(){return new Date(this.valueOf())}function y9(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]}function x9(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}}function b9(){return this.isValid()?this.toISOString():null}function w9(){return w(this)}function _9(){return f({},d(this))}function S9(){return d(this).overflow}function A9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Re("N",Cy),Re("NN",Cy),Re("NNN",Cy),Re("NNNN",k9),Re("NNNNN",$9),Pr(["N","NN","NNN","NNNN","NNNNN"],function(g,S,F,$){var H=F._locale.erasParse(g,$,F._strict);H?d(F).era=H:d(F).invalidEra=g}),Re("y",Fe),Re("yy",Fe),Re("yyy",Fe),Re("yyyy",Fe),Re("yo",O9),Pr(["y","yy","yyy","yyyy"],Mn),Pr(["yo"],function(g,S,F,$){var H;F._locale._eraYearOrdinalRegex&&(H=g.match(F._locale._eraYearOrdinalRegex)),F._locale.eraYearOrdinalParse?S[Mn]=F._locale.eraYearOrdinalParse(g,H):S[Mn]=parseInt(g,10)});function E9(g,S){var F,$,H,ie=this._eras||os("en")._eras;for(F=0,$=ie.length;F<$;++F){switch(typeof ie[F].since){case"string":H=e(ie[F].since).startOf("day"),ie[F].since=H.valueOf();break}switch(typeof ie[F].until){case"undefined":ie[F].until=1/0;break;case"string":H=e(ie[F].until).startOf("day").valueOf(),ie[F].until=H.valueOf();break}}return ie}function T9(g,S,F){var $,H,ie=this.eras(),Me,dt,Qt;for(g=g.toUpperCase(),$=0,H=ie.length;$<H;++$)if(Me=ie[$].name.toUpperCase(),dt=ie[$].abbr.toUpperCase(),Qt=ie[$].narrow.toUpperCase(),F)switch(S){case"N":case"NN":case"NNN":if(dt===g)return ie[$];break;case"NNNN":if(Me===g)return ie[$];break;case"NNNNN":if(Qt===g)return ie[$];break}else if([Me,dt,Qt].indexOf(g)>=0)return ie[$]}function M9(g,S){var F=g.since<=g.until?1:-1;return S===void 0?e(g.since).year():e(g.since).year()+(S-g.offset)*F}function D9(){var g,S,F,$=this.localeData().eras();for(g=0,S=$.length;g<S;++g)if(F=this.clone().startOf("day").valueOf(),$[g].since<=F&&F<=$[g].until||$[g].until<=F&&F<=$[g].since)return $[g].name;return""}function C9(){var g,S,F,$=this.localeData().eras();for(g=0,S=$.length;g<S;++g)if(F=this.clone().startOf("day").valueOf(),$[g].since<=F&&F<=$[g].until||$[g].until<=F&&F<=$[g].since)return $[g].narrow;return""}function N9(){var g,S,F,$=this.localeData().eras();for(g=0,S=$.length;g<S;++g)if(F=this.clone().startOf("day").valueOf(),$[g].since<=F&&F<=$[g].until||$[g].until<=F&&F<=$[g].since)return $[g].abbr;return""}function F9(){var g,S,F,$,H=this.localeData().eras();for(g=0,S=H.length;g<S;++g)if(F=H[g].since<=H[g].until?1:-1,$=this.clone().startOf("day").valueOf(),H[g].since<=$&&$<=H[g].until||H[g].until<=$&&$<=H[g].since)return(this.year()-e(H[g].since).year())*F+H[g].offset;return this.year()}function I9(g){return a(this,"_erasNameRegex")||Ny.call(this),g?this._erasNameRegex:this._erasRegex}function P9(g){return a(this,"_erasAbbrRegex")||Ny.call(this),g?this._erasAbbrRegex:this._erasRegex}function B9(g){return a(this,"_erasNarrowRegex")||Ny.call(this),g?this._erasNarrowRegex:this._erasRegex}function Cy(g,S){return S.erasAbbrRegex(g)}function k9(g,S){return S.erasNameRegex(g)}function $9(g,S){return S.erasNarrowRegex(g)}function O9(g,S){return S._eraYearOrdinalRegex||Fe}function Ny(){var g=[],S=[],F=[],$=[],H,ie,Me,dt,Qt,_r=this.eras();for(H=0,ie=_r.length;H<ie;++H)Me=nn(_r[H].name),dt=nn(_r[H].abbr),Qt=nn(_r[H].narrow),S.push(Me),g.push(dt),F.push(Qt),$.push(Me),$.push(dt),$.push(Qt);this._erasRegex=new RegExp("^("+$.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+S.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+F.join("|")+")","i")}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100});function _m(g,S){U(0,[g,g.length],0,S)}_m("gggg","weekYear"),_m("ggggg","weekYear"),_m("GGGG","isoWeekYear"),_m("GGGGG","isoWeekYear"),Re("G",$e),Re("g",$e),Re("GG",Tt,Se),Re("gg",Tt,Se),Re("GGGG",Pe,Dt),Re("gggg",Pe,Dt),Re("GGGGG",ke,jt),Re("ggggg",ke,jt),Wi(["gggg","ggggg","GGGG","GGGGG"],function(g,S,F,$){S[$.substr(0,2)]=mr(g)}),Wi(["gg","GG"],function(g,S,F,$){S[$]=e.parseTwoDigitYear(g)});function R9(g){return wD.call(this,g,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function L9(g){return wD.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)}function U9(){return as(this.year(),1,4)}function V9(){return as(this.isoWeekYear(),1,4)}function q9(){var g=this.localeData()._week;return as(this.year(),g.dow,g.doy)}function z9(){var g=this.localeData()._week;return as(this.weekYear(),g.dow,g.doy)}function wD(g,S,F,$,H){var ie;return g==null?Nf(this,$,H).year:(ie=as(g,$,H),S>ie&&(S=ie),H9.call(this,g,S,F,$,H))}function H9(g,S,F,$,H){var ie=QM(g,S,F,$,H),Me=Cf(ie.year,0,ie.dayOfYear);return this.year(Me.getUTCFullYear()),this.month(Me.getUTCMonth()),this.date(Me.getUTCDate()),this}U("Q",0,"Qo","quarter"),Re("Q",Ve),Pr("Q",function(g,S){S[Vn]=(mr(g)-1)*3});function G9(g){return g==null?Math.ceil((this.month()+1)/3):this.month((g-1)*3+this.month()%3)}U("D",["DD",2],"Do","date"),Re("D",Tt,Ne),Re("DD",Tt,Se),Re("Do",function(g,S){return g?S._dayOfMonthOrdinalParse||S._ordinalParse:S._dayOfMonthOrdinalParseLenient}),Pr(["D","DD"],Yi),Pr("Do",function(g,S){S[Yi]=mr(g.match(Tt)[0])});var _D=Po("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),Re("DDD",fe),Re("DDDD",wt),Pr(["DDD","DDDD"],function(g,S,F){F._dayOfYear=mr(g)});function W9(g){var S=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?S:this.add(g-S,"d")}U("m",["mm",2],0,"minute"),Re("m",Tt,at),Re("mm",Tt,Se),Pr(["m","mm"],Xn);var Y9=Po("Minutes",!1);U("s",["ss",2],0,"second"),Re("s",Tt,at),Re("ss",Tt,Se),Pr(["s","ss"],Dn);var j9=Po("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return this.millisecond()*10}),U(0,["SSSSS",5],0,function(){return this.millisecond()*100}),U(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),U(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),U(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),U(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Re("S",fe,Ve),Re("SS",fe,Se),Re("SSS",fe,wt);var Ys,SD;for(Ys="SSSS";Ys.length<=9;Ys+="S")Re(Ys,Fe);function Z9(g,S){S[ji]=mr(("0."+g)*1e3)}for(Ys="S";Ys.length<=9;Ys+="S")Pr(Ys,Z9);SD=Po("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");function J9(){return this._isUTC?"UTC":""}function X9(){return this._isUTC?"Coordinated Universal Time":""}var Ze=A.prototype;Ze.add=zq,Ze.calendar=Jq,Ze.clone=Xq,Ze.diff=i9,Ze.endOf=d9,Ze.format=u9,Ze.from=l9,Ze.fromNow=c9,Ze.to=f9,Ze.toNow=p9,Ze.get=Gl,Ze.invalidAt=S9,Ze.isAfter=Qq,Ze.isBefore=Kq,Ze.isBetween=e9,Ze.isSame=t9,Ze.isSameOrAfter=r9,Ze.isSameOrBefore=n9,Ze.isValid=w9,Ze.lang=gD,Ze.locale=hD,Ze.localeData=vD,Ze.max=wq,Ze.min=bq,Ze.parsingFlags=_9,Ze.set=Mf,Ze.startOf=m9,Ze.subtract=Hq,Ze.toArray=y9,Ze.toObject=x9,Ze.toDate=v9,Ze.toISOString=o9,Ze.inspect=s9,typeof Symbol<"u"&&Symbol.for!=null&&(Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ze.toJSON=b9,Ze.toString=a9,Ze.unix=g9,Ze.valueOf=h9,Ze.creationData=A9,Ze.eraName=D9,Ze.eraNarrow=C9,Ze.eraAbbr=N9,Ze.eraYear=F9,Ze.year=ns,Ze.isLeapYear=zl,Ze.weekYear=R9,Ze.isoWeekYear=L9,Ze.quarter=Ze.quarters=G9,Ze.month=JM,Ze.daysInMonth=v6,Ze.week=Ze.weeks=E6,Ze.isoWeek=Ze.isoWeeks=T6,Ze.weeksInYear=q9,Ze.weeksInWeekYear=z9,Ze.isoWeeksInYear=U9,Ze.isoWeeksInISOWeekYear=V9,Ze.date=_D,Ze.day=Ze.days=L6,Ze.weekday=U6,Ze.isoWeekday=V6,Ze.dayOfYear=W9,Ze.hour=Ze.hours=j6,Ze.minute=Ze.minutes=Y9,Ze.second=Ze.seconds=j9,Ze.millisecond=Ze.milliseconds=SD,Ze.utcOffset=Nq,Ze.utc=Iq,Ze.local=Pq,Ze.parseZone=Bq,Ze.hasAlignedHourOffset=kq,Ze.isDST=$q,Ze.isLocal=Rq,Ze.isUtcOffset=Lq,Ze.isUtc=cD,Ze.isUTC=cD,Ze.zoneAbbr=J9,Ze.zoneName=X9,Ze.dates=M("dates accessor is deprecated. Use date instead.",_D),Ze.months=M("months accessor is deprecated. Use month instead",JM),Ze.years=M("years accessor is deprecated. Use year instead",ns),Ze.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Fq),Ze.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oq);function Q9(g){return on(g*1e3)}function K9(){return on.apply(null,arguments).parseZone()}function AD(g){return g}var kr=q.prototype;kr.calendar=B,kr.longDateFormat=ye,kr.invalidDate=we,kr.ordinal=Qe,kr.preparse=AD,kr.postformat=AD,kr.relativeTime=Q,kr.pastFuture=xe,kr.set=P,kr.eras=E9,kr.erasParse=T9,kr.erasConvertYear=M9,kr.erasAbbrRegex=P9,kr.erasNameRegex=I9,kr.erasNarrowRegex=B9,kr.months=Br,kr.monthsShort=In,kr.monthsParse=is,kr.monthsRegex=x6,kr.monthsShortRegex=y6,kr.week=w6,kr.firstDayOfYear=A6,kr.firstDayOfWeek=S6,kr.weekdays=B6,kr.weekdaysMin=$6,kr.weekdaysShort=k6,kr.weekdaysParse=R6,kr.weekdaysRegex=q6,kr.weekdaysShortRegex=z6,kr.weekdaysMinRegex=H6,kr.isPM=W6,kr.meridiem=Z6;function Sm(g,S,F,$){var H=os(),ie=p().set($,S);return H[F](ie,g)}function ED(g,S,F){if(l(g)&&(S=g,g=void 0),g=g||"",S!=null)return Sm(g,S,F,"month");var $,H=[];for($=0;$<12;$++)H[$]=Sm(g,$,F,"month");return H}function Fy(g,S,F,$){typeof g=="boolean"?(l(S)&&(F=S,S=void 0),S=S||""):(S=g,F=S,g=!1,l(S)&&(F=S,S=void 0),S=S||"");var H=os(),ie=g?H._week.dow:0,Me,dt=[];if(F!=null)return Sm(S,(F+ie)%7,$,"day");for(Me=0;Me<7;Me++)dt[Me]=Sm(S,(Me+ie)%7,$,"day");return dt}function e7(g,S){return ED(g,S,"months")}function t7(g,S){return ED(g,S,"monthsShort")}function r7(g,S,F){return Fy(g,S,F,"weekdays")}function n7(g,S,F){return Fy(g,S,F,"weekdaysShort")}function i7(g,S,F){return Fy(g,S,F,"weekdaysMin")}Ws("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var S=g%10,F=mr(g%100/10)===1?"th":S===1?"st":S===2?"nd":S===3?"rd":"th";return g+F}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",Ws),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",os);var ss=Math.abs;function a7(){var g=this._data;return this._milliseconds=ss(this._milliseconds),this._days=ss(this._days),this._months=ss(this._months),g.milliseconds=ss(g.milliseconds),g.seconds=ss(g.seconds),g.minutes=ss(g.minutes),g.hours=ss(g.hours),g.months=ss(g.months),g.years=ss(g.years),this}function TD(g,S,F,$){var H=lo(S,F);return g._milliseconds+=$*H._milliseconds,g._days+=$*H._days,g._months+=$*H._months,g._bubble()}function o7(g,S){return TD(this,g,S,1)}function s7(g,S){return TD(this,g,S,-1)}function MD(g){return g<0?Math.floor(g):Math.ceil(g)}function u7(){var g=this._milliseconds,S=this._days,F=this._months,$=this._data,H,ie,Me,dt,Qt;return g>=0&&S>=0&&F>=0||g<=0&&S<=0&&F<=0||(g+=MD(Iy(F)+S)*864e5,S=0,F=0),$.milliseconds=g%1e3,H=Un(g/1e3),$.seconds=H%60,ie=Un(H/60),$.minutes=ie%60,Me=Un(ie/60),$.hours=Me%24,S+=Un(Me/24),Qt=Un(DD(S)),F+=Qt,S-=MD(Iy(Qt)),dt=Un(F/12),F%=12,$.days=S,$.months=F,$.years=dt,this}function DD(g){return g*4800/146097}function Iy(g){return g*146097/4800}function l7(g){if(!this.isValid())return NaN;var S,F,$=this._milliseconds;if(g=re(g),g==="month"||g==="quarter"||g==="year")switch(S=this._days+$/864e5,F=this._months+DD(S),g){case"month":return F;case"quarter":return F/3;case"year":return F/12}else switch(S=this._days+Math.round(Iy(this._months)),g){case"week":return S/7+$/6048e5;case"day":return S+$/864e5;case"hour":return S*24+$/36e5;case"minute":return S*1440+$/6e4;case"second":return S*86400+$/1e3;case"millisecond":return Math.floor(S*864e5)+$;default:throw new Error("Unknown unit "+g)}}function us(g){return function(){return this.as(g)}}var CD=us("ms"),c7=us("s"),f7=us("m"),p7=us("h"),m7=us("d"),d7=us("w"),h7=us("M"),g7=us("Q"),v7=us("y"),y7=CD;function x7(){return lo(this)}function b7(g){return g=re(g),this.isValid()?this[g+"s"]():NaN}function Hu(g){return function(){return this.isValid()?this._data[g]:NaN}}var w7=Hu("milliseconds"),_7=Hu("seconds"),S7=Hu("minutes"),A7=Hu("hours"),E7=Hu("days"),T7=Hu("months"),M7=Hu("years");function D7(){return Un(this.days()/7)}var ls=Math.round,Zl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function C7(g,S,F,$,H){return H.relativeTime(S||1,!!F,g,$)}function N7(g,S,F,$){var H=lo(g).abs(),ie=ls(H.as("s")),Me=ls(H.as("m")),dt=ls(H.as("h")),Qt=ls(H.as("d")),_r=ls(H.as("M")),Pi=ls(H.as("w")),cs=ls(H.as("y")),js=ie<=F.ss&&["s",ie]||ie<F.s&&["ss",ie]||Me<=1&&["m"]||Me<F.m&&["mm",Me]||dt<=1&&["h"]||dt<F.h&&["hh",dt]||Qt<=1&&["d"]||Qt<F.d&&["dd",Qt];return F.w!=null&&(js=js||Pi<=1&&["w"]||Pi<F.w&&["ww",Pi]),js=js||_r<=1&&["M"]||_r<F.M&&["MM",_r]||cs<=1&&["y"]||["yy",cs],js[2]=S,js[3]=+g>0,js[4]=$,C7.apply(null,js)}function F7(g){return g===void 0?ls:typeof g=="function"?(ls=g,!0):!1}function I7(g,S){return Zl[g]===void 0?!1:S===void 0?Zl[g]:(Zl[g]=S,g==="s"&&(Zl.ss=S-1),!0)}function P7(g,S){if(!this.isValid())return this.localeData().invalidDate();var F=!1,$=Zl,H,ie;return typeof g=="object"&&(S=g,g=!1),typeof g=="boolean"&&(F=g),typeof S=="object"&&($=Object.assign({},Zl,S),S.s!=null&&S.ss==null&&($.ss=S.s-1)),H=this.localeData(),ie=N7(this,!F,$,H),F&&(ie=H.pastFuture(+this,ie)),H.postformat(ie)}var Py=Math.abs;function Jl(g){return(g>0)-(g<0)||+g}function Am(){if(!this.isValid())return this.localeData().invalidDate();var g=Py(this._milliseconds)/1e3,S=Py(this._days),F=Py(this._months),$,H,ie,Me,dt=this.asSeconds(),Qt,_r,Pi,cs;return dt?($=Un(g/60),H=Un($/60),g%=60,$%=60,ie=Un(F/12),F%=12,Me=g?g.toFixed(3).replace(/\.?0+$/,""):"",Qt=dt<0?"-":"",_r=Jl(this._months)!==Jl(dt)?"-":"",Pi=Jl(this._days)!==Jl(dt)?"-":"",cs=Jl(this._milliseconds)!==Jl(dt)?"-":"",Qt+"P"+(ie?_r+ie+"Y":"")+(F?_r+F+"M":"")+(S?Pi+S+"D":"")+(H||$||g?"T":"")+(H?cs+H+"H":"")+($?cs+$+"M":"")+(g?cs+Me+"S":"")):"P0D"}var Ar=vm.prototype;Ar.isValid=Tq,Ar.abs=a7,Ar.add=o7,Ar.subtract=s7,Ar.as=l7,Ar.asMilliseconds=CD,Ar.asSeconds=c7,Ar.asMinutes=f7,Ar.asHours=p7,Ar.asDays=m7,Ar.asWeeks=d7,Ar.asMonths=h7,Ar.asQuarters=g7,Ar.asYears=v7,Ar.valueOf=y7,Ar._bubble=u7,Ar.clone=x7,Ar.get=b7,Ar.milliseconds=w7,Ar.seconds=_7,Ar.minutes=S7,Ar.hours=A7,Ar.days=E7,Ar.weeks=D7,Ar.months=T7,Ar.years=M7,Ar.humanize=P7,Ar.toISOString=Am,Ar.toString=Am,Ar.toJSON=Am,Ar.locale=hD,Ar.localeData=vD,Ar.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Am),Ar.lang=gD,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Re("x",$e),Re("X",G),Pr("X",function(g,S,F){F._d=new Date(parseFloat(g)*1e3)}),Pr("x",function(g,S,F){F._d=new Date(mr(g))});return e.version="2.30.1",t(on),e.fn=Ze,e.min=_q,e.max=Sq,e.now=Aq,e.utc=p,e.unix=Q9,e.months=e7,e.isDate=s,e.locale=Ws,e.invalid=x,e.duration=lo,e.isMoment=y,e.weekdays=r7,e.parseZone=K9,e.localeData=os,e.isDuration=ym,e.monthsShort=t7,e.weekdaysMin=i7,e.defineLocale=by,e.updateLocale=K6,e.locales=eq,e.weekdaysShort=n7,e.normalizeUnits=re,e.relativeTimeRounding=F7,e.relativeTimeThreshold=I7,e.calendarFormat=Zq,e.prototype=Ze,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var qm=qn(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.P_HELPERS=Zi.ParserHelpers=Zi.validateRegexFlags=Zi.validateRange=Zi.getIndex=Zi.arrayUnion=void 0;var zy=zm();function W7(r,e){if(r===void 0&&e===void 0)return;if(r===void 0)return e;if(e===void 0)return r;let t=[...r];for(let n of e)t.includes(n)||t.push(n);return t}Zi.arrayUnion=W7;function Y7(r){return r===void 0?-1:r.index}Zi.getIndex=Y7;function j7(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}Zi.validateRange=j7;function Z7(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Zi.validateRegexFlags=Z7;var Vm=class{followedBy(e){return new zy.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new zy.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new zy.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Zi.ParserHelpers=Vm;Zi.P_HELPERS=new Vm});var zD=qn(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.ParserContext=void 0;var Hy=qm(),Gy=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,Hy.getIndex)(e.furthest),i=(0,Hy.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,Hy.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};Hm.ParserContext=Gy});var ma=qn(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.P_UTILS=void 0;var Gm=zm(),Wr=Ji(),Wy=class r{static position(){return new Gm.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Gm.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Gm.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Gm.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Wr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Wr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Wr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Wr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Wr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return Wr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Wr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Wr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Wr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Wr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Wr.P.string("\r")}static lf(){return Wr.P.string(`
`)}static crlf(){return Wr.P.string(`\r
`)}static newline(){return Wr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return Wr.P.sequenceMap((i,a)=>i.reduce((o,u)=>n(u,o),a),e.many(),t)}static postfix(e,t,n){return Wr.P.sequenceMap((i,a)=>a.reduce((o,u)=>n(u,o),i),t,e.many())}static binaryRight(e,t,n){return Wr.P.sequenceMap((i,a)=>i.reverse().reduce((o,u)=>{let[l,s]=u;return n(l,s,o)},a),Wr.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return Wr.P.sequenceMap((i,a)=>a.reduce((o,u)=>{let[l,s]=u;return n(o,l,s)},i),t,Wr.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return Wr.P.sequenceMap((i,a,o)=>i.reverse().reduce((u,l)=>{let[s,c,f]=l;return n({from:s,to:o},c,f,u)},a),Wr.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return Wr.P.sequenceMap((i,a,o)=>o.reduce((u,l)=>{let[s,c,f]=l;return n({from:i,to:f},u,s,c)},a),r.position(),t,Wr.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?Wr.P.string(e):e;return Wr.P.sequenceMap((a,o,u,l,s,c)=>n(a,l),i,Wr.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),Wr.P.string(")"))}};Wm.P_UTILS=Wy});var GD=qn(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.ParsingError=nc.createParsingErrorMessage=void 0;function HD(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],u=`${e.furthest.line} |   `;i+=`

${u}${o}`,i+=`
${" ".repeat(e.furthest.column-1+u.length)}^ (${n})`}return i}nc.createParsingErrorMessage=HD;var Yy=class extends Error{constructor(e,t){super(HD(e,t,!0))}};nc.ParsingError=Yy});var zm=qn(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.Parser=void 0;var J7=zD(),La=Ji(),jy=qm(),ic=ma(),X7=GD(),Zy=class r{constructor(e){this.p=e}tryParse(e){return this.p(new J7.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new X7.ParsingError(e,t)}or(e){return La.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(La.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let u=a.merge(o,n.p(a));if(!u.success)return u;let l=a.merge(u,t.p(a));return l.success?a.merge(l,a.succeed(u.value)):l})}wrapString(e,t){return this.wrap(La.P.string(e),La.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return La.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let u=n.copy(),l=e.p(u);if(i=n.merge(i,l),i.success){if(u.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(u.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,jy.validateRange)(e,t);let n=this;return new r(function(a){let o,u,l=[],s=0;for(;s<e;s++)if(o=n.p(a),u=a.merge(u,o),o.success)l.push(o.value);else return u;for(;s<t;s++){let c=a.copy();if(o=n.p(c),u=a.merge(u,o),o.success)a.moveToPosition(c.position),l.push(o.value);else break}return a.merge(u,a.succeed(l))})}atMost(e){return this.repeat(0,e)}atLeast(e){return La.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return La.P.separateBy(this,e)}separateByNotEmpty(e){return La.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return La.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},ic.P_UTILS.position(),this,ic.P_UTILS.position())}namedMarker(e){return La.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},ic.P_UTILS.position(),this,ic.P_UTILS.position())}node(e){return La.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},ic.P_UTILS.position(),this,ic.P_UTILS.position())}followedBy(e){return this.skip(jy.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(jy.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(La.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let u=e(a.value).p(i);return i.merge(a,u)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let u=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(u),c=i.get(u);if(s!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},s)}let l=e.p(o);return n.set(u,Object.assign({},l)),i.set(u,o.getPosition()),l})}};Ym.Parser=Zy});var Ji=qn(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.P=void 0;var da=zm(),jm=qm(),Jy=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new da.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let l=e[o].p(n);if(i=n.merge(i,l),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new da.Parser(function(i){let a,o=new Array(t.length);for(let u=0;u<t.length;u++){let s=t[u].p(i);if(a=i.merge(a,s),!a.success)return a;o[u]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new da.Parser(function(n){let i;for(let a of e){let o=a,u=n.copy(),l=o.p(u);if(i=n.merge(i,l),i.success)return n.moveToPosition(u.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new da.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,jm.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new da.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let l=t??0;if(l>=0&&l<=u.length){let c=u[0],f=u[l];return a.succeedOffset(c.length,f)}let s="expected valid match group (0 to "+u.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new da.Parser(function(a){let o=a.input.slice(a.position.index),u=e.exec(o);if(u!==null){let l=u[0];return a.succeedOffset(l.length,l)}else return a.fail(n)})}static succeed(e){return new da.Parser(function(n){return n.succeed(e)})}static fail(e){return new da.Parser(function(n){return n.fail(e)})}static oneOf(e){return jm.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return jm.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new da.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new da.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new da.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return jm.P_HELPERS.test(function(o){let u=o.charCodeAt(0);return n<=u&&u<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new da.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new da.Parser(function(n){return e().p(n)})}};Zm.P=Jy});var Ib=qn((Nb,Fb)=>{(function(r,e){typeof Nb=="object"&&typeof Fb<"u"?Fb.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r["'typed'"]=e())})(Nb,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(j){return typeof j=="object"&&j!==null&&j.constructor===Object}let u=[{name:"number",test:function(j){return typeof j=="number"}},{name:"string",test:function(j){return typeof j=="string"}},{name:"boolean",test:function(j){return typeof j=="boolean"}},{name:"Function",test:function(j){return typeof j=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(j){return j instanceof Date}},{name:"RegExp",test:function(j){return j instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(j){return j===null}},{name:"undefined",test:function(j){return j===void 0}}],l={name:"any",test:r,isAny:!0},s,c,f=0,p={createCount:0};function m(j){let le=s.get(j);if(le)return le;let fe='Unknown type "'+j+'"',Pe=j.toLowerCase(),ke;for(ke of c)if(ke.toLowerCase()===Pe){fe+='. Did you mean "'+ke+'" ?';break}throw new TypeError(fe)}function d(j){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",fe=le?m(le).index:c.length,Pe=[];for(let Fe=0;Fe<j.length;++Fe){if(!j[Fe]||typeof j[Fe].name!="string"||typeof j[Fe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let $e=j[Fe].name;if(s.has($e))throw new TypeError('Duplicate type name "'+$e+'"');Pe.push($e),s.set($e,{name:$e,test:j[Fe].test,isAny:j[Fe].isAny,index:fe+Fe,conversionsTo:[]})}let ke=c.slice(fe);c=c.slice(0,fe).concat(Pe).concat(ke);for(let Fe=fe+Pe.length;Fe<c.length;++Fe)s.get(c[Fe]).index=Fe}function h(){s=new Map,c=[],f=0,d([l],!1)}h(),d(u);function w(){let j;for(j of c)s.get(j).conversionsTo=[];f=0}function x(j){let le=c.filter(fe=>{let Pe=s.get(fe);return!Pe.isAny&&Pe.test(j)});return le.length?le:["any"]}function E(j){return j&&typeof j=="function"&&"_typedFunctionData"in j}function v(j,le,fe){if(!E(j))throw new TypeError(n);let Pe=fe&&fe.exact,ke=Array.isArray(le)?le.join(","):le,Fe=D(ke),$e=y(Fe);if(!Pe||$e in j.signatures){let ge=j._typedFunctionData.signatureMap.get($e);if(ge)return ge}let ze=Fe.length,N;if(Pe){N=[];let ge;for(ge in j.signatures)N.push(j._typedFunctionData.signatureMap.get(ge))}else N=j._typedFunctionData.signatures;for(let ge=0;ge<ze;++ge){let Ne=Fe[ge],at=[],yt;for(yt of N){let Re=q(yt.params,ge);if(!(!Re||Ne.restParam&&!Re.restParam)){if(!Re.hasAny){let Jn=b(Re);if(Ne.types.some(Ii=>!Jn.has(Ii.name)))continue}at.push(yt)}}if(N=at,N.length===0)break}let G;for(G of N)if(G.params.length<=ze)return G;throw new TypeError("Signature not found (signature: "+(j.name||"unnamed")+"("+y(Fe,", ")+"))")}function _(j,le,fe){return v(j,le,fe).implementation}function A(j,le){let fe=m(le);if(fe.test(j))return j;let Pe=fe.conversionsTo;if(Pe.length===0)throw new Error("There are no conversions to "+le+" defined.");for(let ke=0;ke<Pe.length;ke++)if(m(Pe[ke].from).test(j))return Pe[ke].convert(j);throw new Error("Cannot convert "+j+" to "+le)}function y(j){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return j.map(fe=>fe.name).join(le)}function T(j){let le=j.indexOf("...")===0,Pe=(le?j.length>3?j.slice(3):"any":j).split("|").map(ze=>m(ze.trim())),ke=!1,Fe=le?"...":"";return{types:Pe.map(function(ze){return ke=ze.isAny||ke,Fe+=ze.name+"|",{name:ze.name,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:null,conversionIndex:-1}}),name:Fe.slice(0,-1),hasAny:ke,hasConversion:!1,restParam:le}}function M(j){let le=j.types.map($e=>$e.name),fe=U(le),Pe=j.hasAny,ke=j.name,Fe=fe.map(function($e){let ze=m($e.from);return Pe=ze.isAny||Pe,ke+="|"+$e.from,{name:$e.from,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:$e,conversionIndex:$e.index}});return{types:j.types.concat(Fe),name:ke,hasAny:Pe,hasConversion:Fe.length>0,restParam:j.restParam}}function b(j){return j.typeSet||(j.typeSet=new Set,j.types.forEach(le=>j.typeSet.add(le.name))),j.typeSet}function D(j){let le=[];if(typeof j!="string")throw new TypeError("Signatures must be strings");let fe=j.trim();if(fe==="")return le;let Pe=fe.split(",");for(let ke=0;ke<Pe.length;++ke){let Fe=T(Pe[ke].trim());if(Fe.restParam&&ke!==Pe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Pe[ke]+'": only allowed for the last parameter');if(Fe.types.length===0)return null;le.push(Fe)}return le}function I(j){let le=Y(j);return le?le.restParam:!1}function P(j){if(!j||j.types.length===0)return r;if(j.types.length===1)return m(j.types[0].name).test;if(j.types.length===2){let le=m(j.types[0].name).test,fe=m(j.types[1].name).test;return function(ke){return le(ke)||fe(ke)}}else{let le=j.types.map(function(fe){return m(fe.name).test});return function(Pe){for(let ke=0;ke<le.length;ke++)if(le[ke](Pe))return!0;return!1}}}function R(j){let le,fe,Pe;if(I(j)){le=Qe(j).map(P);let ke=le.length,Fe=P(Y(j)),$e=function(ze){for(let N=ke;N<ze.length;N++)if(!Fe(ze[N]))return!1;return!0};return function(N){for(let G=0;G<le.length;G++)if(!le[G](N[G]))return!1;return $e(N)&&N.length>=ke+1}}else return j.length===0?function(Fe){return Fe.length===0}:j.length===1?(fe=P(j[0]),function(Fe){return fe(Fe[0])&&Fe.length===1}):j.length===2?(fe=P(j[0]),Pe=P(j[1]),function(Fe){return fe(Fe[0])&&Pe(Fe[1])&&Fe.length===2}):(le=j.map(P),function(Fe){for(let $e=0;$e<le.length;$e++)if(!le[$e](Fe[$e]))return!1;return Fe.length===le.length})}function q(j,le){return le<j.length?j[le]:I(j)?Y(j):null}function L(j,le){let fe=q(j,le);return fe?b(fe):new Set}function k(j){return j.conversion===null||j.conversion===void 0}function B(j,le){let fe=new Set;return j.forEach(Pe=>{let ke=L(Pe.params,le),Fe;for(Fe of ke)fe.add(Fe)}),fe.has("any")?["any"]:Array.from(fe)}function W(j,le,fe){let Pe,ke,Fe=j||"unnamed",$e=fe,ze;for(ze=0;ze<le.length;ze++){let Ne=[];if($e.forEach(at=>{let yt=q(at.params,ze),Re=P(yt);(ze<at.params.length||I(at.params))&&Re(le[ze])&&Ne.push(at)}),Ne.length===0){if(ke=B($e,ze),ke.length>0){let at=x(le[ze]);return Pe=new TypeError("Unexpected type of argument in function "+Fe+" (expected: "+ke.join(" or ")+", actual: "+at.join(" | ")+", index: "+ze+")"),Pe.data={category:"wrongType",fn:Fe,index:ze,actual:at,expected:ke},Pe}}else $e=Ne}let N=$e.map(function(Ne){return I(Ne.params)?1/0:Ne.params.length});if(le.length<Math.min.apply(null,N))return ke=B($e,ze),Pe=new TypeError("Too few arguments in function "+Fe+" (expected: "+ke.join(" or ")+", index: "+le.length+")"),Pe.data={category:"tooFewArgs",fn:Fe,index:le.length,expected:ke},Pe;let G=Math.max.apply(null,N);if(le.length>G)return Pe=new TypeError("Too many arguments in function "+Fe+" (expected: "+G+", actual: "+le.length+")"),Pe.data={category:"tooManyArgs",fn:Fe,index:le.length,expectedLength:G},Pe;let ge=[];for(let Ne=0;Ne<le.length;++Ne)ge.push(x(le[Ne]).join("|"));return Pe=new TypeError('Arguments of type "'+ge.join(", ")+'" do not match any of the defined signatures of function '+Fe+"."),Pe.data={category:"mismatch",actual:ge},Pe}function O(j){let le=c.length+1;for(let fe=0;fe<j.types.length;fe++)k(j.types[fe])&&(le=Math.min(le,j.types[fe].typeIndex));return le}function X(j){let le=f+1;for(let fe=0;fe<j.types.length;fe++)k(j.types[fe])||(le=Math.min(le,j.types[fe].conversionIndex));return le}function ne(j,le){if(j.hasAny){if(!le.hasAny)return 1}else if(le.hasAny)return-1;if(j.restParam){if(!le.restParam)return 1}else if(le.restParam)return-1;if(j.hasConversion){if(!le.hasConversion)return 1}else if(le.hasConversion)return-1;let fe=O(j)-O(le);if(fe<0)return-1;if(fe>0)return 1;let Pe=X(j)-X(le);return Pe<0?-1:Pe>0?1:0}function Z(j,le){let fe=j.params,Pe=le.params,ke=Y(fe),Fe=Y(Pe),$e=I(fe),ze=I(Pe);if($e&&ke.hasAny){if(!ze||!Fe.hasAny)return 1}else if(ze&&Fe.hasAny)return-1;let N=0,G=0,ge;for(ge of fe)ge.hasAny&&++N,ge.hasConversion&&++G;let Ne=0,at=0;for(ge of Pe)ge.hasAny&&++Ne,ge.hasConversion&&++at;if(N!==Ne)return N-Ne;if($e&&ke.hasConversion){if(!ze||!Fe.hasConversion)return 1}else if(ze&&Fe.hasConversion)return-1;if(G!==at)return G-at;if($e){if(!ze)return 1}else if(ze)return-1;let yt=(fe.length-Pe.length)*($e?-1:1);if(yt!==0)return yt;let Re=[],Jn=0;for(let nn=0;nn<fe.length;++nn){let Un=ne(fe[nn],Pe[nn]);Re.push(Un),Jn+=Un}if(Jn!==0)return Jn;let Ii;for(Ii of Re)if(Ii!==0)return Ii;return 0}function U(j){if(j.length===0)return[];let le=j.map(m);j.length>1&&le.sort((ke,Fe)=>ke.index-Fe.index);let fe=le[0].conversionsTo;if(j.length===1)return fe;fe=fe.concat([]);let Pe=new Set(j);for(let ke=1;ke<le.length;++ke){let Fe;for(Fe of le[ke].conversionsTo)Pe.has(Fe.from)||(fe.push(Fe),Pe.add(Fe.from))}return fe}function pe(j,le){let fe=le;if(j.some(ke=>ke.hasConversion)){let ke=I(j),Fe=j.map(me);fe=function(){let ze=[],N=ke?arguments.length-1:arguments.length;for(let G=0;G<N;G++)ze[G]=Fe[G](arguments[G]);return ke&&(ze[N]=arguments[N].map(Fe[N])),le.apply(this,ze)}}let Pe=fe;if(I(j)){let ke=j.length-1;Pe=function(){return fe.apply(this,Q(arguments,0,ke).concat([Q(arguments,ke)]))}}return Pe}function me(j){let le,fe,Pe,ke,Fe=[],$e=[];switch(j.types.forEach(function(ze){ze.conversion&&(Fe.push(m(ze.conversion.from).test),$e.push(ze.conversion.convert))}),$e.length){case 0:return function(N){return N};case 1:return le=Fe[0],Pe=$e[0],function(N){return le(N)?Pe(N):N};case 2:return le=Fe[0],fe=Fe[1],Pe=$e[0],ke=$e[1],function(N){return le(N)?Pe(N):fe(N)?ke(N):N};default:return function(N){for(let G=0;G<$e.length;G++)if(Fe[G](N))return $e[G](N);return N}}}function oe(j){function le(fe,Pe,ke){if(Pe<fe.length){let Fe=fe[Pe],$e=[];if(Fe.restParam){let ze=Fe.types.filter(k);ze.length<Fe.types.length&&$e.push({types:ze,name:"..."+ze.map(N=>N.name).join("|"),hasAny:ze.some(N=>N.isAny),hasConversion:!1,restParam:!0}),$e.push(Fe)}else $e=Fe.types.map(function(ze){return{types:[ze],name:ze.name,hasAny:ze.isAny,hasConversion:ze.conversion,restParam:!1}});return J($e,function(ze){return le(fe,Pe+1,ke.concat([ze]))})}else return[ke]}return le(j,0,[])}function ve(j,le){let fe=Math.max(j.length,le.length);for(let ze=0;ze<fe;ze++){let N=L(j,ze),G=L(le,ze),ge=!1,Ne;for(Ne of G)if(N.has(Ne)){ge=!0;break}if(!ge)return!1}let Pe=j.length,ke=le.length,Fe=I(j),$e=I(le);return Fe?$e?Pe===ke:ke>=Pe:$e?Pe>=ke:Pe===ke}function _e(j){return j.map(le=>Ve(le)?Ae(le.referToSelf.callback):Te(le)?se(le.referTo.references,le.referTo.callback):le)}function ye(j,le,fe){let Pe=[],ke;for(ke of j){let Fe=fe[ke];if(typeof Fe!="number")throw new TypeError('No definition for referenced signature "'+ke+'"');if(Fe=le[Fe],typeof Fe!="function")return!1;Pe.push(Fe)}return Pe}function be(j,le,fe){let Pe=_e(j),ke=new Array(Pe.length).fill(!1),Fe=!0;for(;Fe;){Fe=!1;let $e=!0;for(let ze=0;ze<Pe.length;++ze){if(ke[ze])continue;let N=Pe[ze];if(Ve(N))Pe[ze]=N.referToSelf.callback(fe),Pe[ze].referToSelf=N.referToSelf,ke[ze]=!0,$e=!1;else if(Te(N)){let G=ye(N.referTo.references,Pe,le);G?(Pe[ze]=N.referTo.callback.apply(this,G),Pe[ze].referTo=N.referTo,ke[ze]=!0,$e=!1):Fe=!0}}if($e&&Fe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Pe}function we(j){let le=/\bthis(\(|\.signatures\b)/;Object.keys(j).forEach(fe=>{let Pe=j[fe];if(le.test(Pe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ee(j,le){if(p.createCount++,Object.keys(le).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&we(le);let fe=[],Pe=[],ke={},Fe=[],$e;for($e in le){if(!Object.prototype.hasOwnProperty.call(le,$e))continue;let Ye=D($e);if(!Ye)continue;fe.forEach(function(Pn){if(ve(Pn,Ye))throw new TypeError('Conflicting signatures "'+y(Pn)+'" and "'+y(Ye)+'".')}),fe.push(Ye);let Ut=Pe.length;Pe.push(le[$e]);let Br=Ye.map(M),In;for(In of oe(Br)){let Pn=y(In);Fe.push({params:In,name:Pn,fn:Ut}),In.every(is=>!is.hasConversion)&&(ke[Pn]=Ut)}}Fe.sort(Z);let ze=be(Pe,ke,Xe),N;for(N in ke)Object.prototype.hasOwnProperty.call(ke,N)&&(ke[N]=ze[ke[N]]);let G=[],ge=new Map;for(N of Fe)ge.has(N.name)||(N.fn=ze[N.fn],G.push(N),ge.set(N.name,N));let Ne=G[0]&&G[0].params.length<=2&&!I(G[0].params),at=G[1]&&G[1].params.length<=2&&!I(G[1].params),yt=G[2]&&G[2].params.length<=2&&!I(G[2].params),Re=G[3]&&G[3].params.length<=2&&!I(G[3].params),Jn=G[4]&&G[4].params.length<=2&&!I(G[4].params),Ii=G[5]&&G[5].params.length<=2&&!I(G[5].params),nn=Ne&&at&&yt&&Re&&Jn&&Ii;for(let Ye=0;Ye<G.length;++Ye)G[Ye].test=R(G[Ye].params);let Un=Ne?P(G[0].params[0]):e,mr=at?P(G[1].params[0]):e,Gs=yt?P(G[2].params[0]):e,Pr=Re?P(G[3].params[0]):e,Wi=Jn?P(G[4].params[0]):e,Oa=Ii?P(G[5].params[0]):e,pa=Ne?P(G[0].params[1]):e,Mn=at?P(G[1].params[1]):e,Vn=yt?P(G[2].params[1]):e,Yi=Re?P(G[3].params[1]):e,fn=Jn?P(G[4].params[1]):e,Xn=Ii?P(G[5].params[1]):e;for(let Ye=0;Ye<G.length;++Ye)G[Ye].implementation=pe(G[Ye].params,G[Ye].fn);let Dn=Ne?G[0].implementation:t,ji=at?G[1].implementation:t,Tf=yt?G[2].implementation:t,ql=Re?G[3].implementation:t,rs=Jn?G[4].implementation:t,ns=Ii?G[5].implementation:t,zl=Ne?G[0].params.length:-1,Po=at?G[1].params.length:-1,uo=yt?G[2].params.length:-1,Hl=Re?G[3].params.length:-1,Gl=Jn?G[4].params.length:-1,Mf=Ii?G[5].params.length:-1,Df=nn?6:0,an=G.length,V=G.map(Ye=>Ye.test),ee=G.map(Ye=>Ye.implementation),Ie=function(){for(let Ut=Df;Ut<an;Ut++)if(V[Ut](arguments))return ee[Ut].apply(this,arguments);return p.onMismatch(j,arguments,G)};function Xe(Ye,Ut){return arguments.length===zl&&Un(Ye)&&pa(Ut)?Dn.apply(this,arguments):arguments.length===Po&&mr(Ye)&&Mn(Ut)?ji.apply(this,arguments):arguments.length===uo&&Gs(Ye)&&Vn(Ut)?Tf.apply(this,arguments):arguments.length===Hl&&Pr(Ye)&&Yi(Ut)?ql.apply(this,arguments):arguments.length===Gl&&Wi(Ye)&&fn(Ut)?rs.apply(this,arguments):arguments.length===Mf&&Oa(Ye)&&Xn(Ut)?ns.apply(this,arguments):Ie.apply(this,arguments)}try{Object.defineProperty(Xe,"name",{value:j})}catch{}return Xe.signatures=ke,Xe._typedFunctionData={signatures:G,signatureMap:ge},Xe}function qe(j,le,fe){throw W(j,le,fe)}function Qe(j){return Q(j,0,j.length-1)}function Y(j){return j[j.length-1]}function Q(j,le,fe){return Array.prototype.slice.call(j,le,fe)}function xe(j,le){for(let fe=0;fe<j.length;fe++)if(le(j[fe]))return j[fe]}function J(j,le){return Array.prototype.concat.apply([],j.map(le))}function re(){let j=Qe(arguments).map(fe=>y(D(fe))),le=Y(arguments);if(typeof le!="function")throw new TypeError("Callback function expected as last argument");return se(j,le)}function se(j,le){return{referTo:{references:j,callback:le}}}function Ae(j){if(typeof j!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:j}}}function Te(j){return j&&typeof j.referTo=="object"&&Array.isArray(j.referTo.references)&&typeof j.referTo.callback=="function"}function Ve(j){return j&&typeof j.referToSelf=="object"&&typeof j.referToSelf.callback=="function"}function Se(j,le){if(!j)return le;if(le&&le!==j){let fe=new Error("Function names do not match (expected: "+j+", actual: "+le+")");throw fe.data={actual:le,expected:j},fe}return j}function wt(j){let le;for(let fe in j)Object.prototype.hasOwnProperty.call(j,fe)&&(E(j[fe])||typeof j[fe].signature=="string")&&(le=Se(le,j[fe].name));return le}function Dt(j,le){let fe;for(fe in le)if(Object.prototype.hasOwnProperty.call(le,fe)){if(fe in j&&le[fe]!==j[fe]){let Pe=new Error('Signature "'+fe+'" is defined twice');throw Pe.data={signature:fe,sourceFunction:le[fe],destFunction:j[fe]},Pe}j[fe]=le[fe]}}let jt=p;p=function(j){let le=typeof j=="string",fe=le?1:0,Pe=le?j:"",ke={};for(let Fe=fe;Fe<arguments.length;++Fe){let $e=arguments[Fe],ze={},N;if(typeof $e=="function"?(N=$e.name,typeof $e.signature=="string"?ze[$e.signature]=$e:E($e)&&(ze=$e.signatures)):o($e)&&(ze=$e,le||(N=wt($e))),Object.keys(ze).length===0){let G=new TypeError("Argument to 'typed' at index "+Fe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw G.data={index:Fe,argument:$e},G}le||(Pe=Se(Pe,N)),Dt(ke,ze)}return Ee(Pe||"",ke)},p.create=i,p.createCount=jt.createCount,p.onMismatch=qe,p.throwMismatchError=qe,p.createError=W,p.clear=h,p.clearConversions=w,p.addTypes=d,p._findType=m,p.referTo=re,p.referToSelf=Ae,p.convert=A,p.findSignature=v,p.find=_,p.isTypedFunction=E,p.warnAgainstDeprecatedThis=!0,p.addType=function(j,le){let fe="any";le!==!1&&s.has("Object")&&(fe="Object"),p.addTypes([j],fe)};function Tt(j){if(!j||typeof j.from!="string"||typeof j.to!="string"||typeof j.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(j.to===j.from)throw new SyntaxError('Illegal to define conversion from "'+j.from+'" to itself.')}return p.addConversion=function(j){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Tt(j);let fe=m(j.to),Pe=fe.conversionsTo.find(ke=>ke.from===j.from);if(Pe)if(le&&le.override)p.removeConversion({from:Pe.from,to:j.to,convert:Pe.convert});else throw new Error('There is already a conversion from "'+j.from+'" to "'+fe.name+'"');fe.conversionsTo.push({from:j.from,convert:j.convert,index:f++})},p.addConversions=function(j,le){j.forEach(fe=>p.addConversion(fe,le))},p.removeConversion=function(j){Tt(j);let le=m(j.to),fe=xe(le.conversionsTo,ke=>ke.from===j.from);if(!fe)throw new Error("Attempt to remove nonexistent conversion from "+j.from+" to "+j.to);if(fe.convert!==j.convert)throw new Error("Conversion to remove does not match existing conversion");let Pe=le.conversionsTo.indexOf(fe);le.conversionsTo.splice(Pe,1)},p.resolve=function(j,le){if(!E(j))throw new TypeError(n);let fe=j._typedFunctionData.signatures;for(let Pe=0;Pe<fe.length;++Pe)if(fe[Pe].test(le))return fe[Pe];return null},p}var a=i();return a})});var h2=qn((Wb,d2)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var c=Math.PI/4;if(-c>s||s>c)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,c){var f=Math.abs(s),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=s/c):p=c/s,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(s,c){var f=Math.abs(s),p=Math.abs(c);return s===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(s*s+c*c)*.5:(s=s/2,c=c/2,.5*Math.log(s*s+c*c)+Math.LN2)}var u=function(s,c){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(c!==void 0)f.re=s,f.im=c;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return l.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return l.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var p=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,d=0;p===null&&a();for(var h=0;h<p.length;h++){var w=p[h];w===" "||w==="	"||w===`
`||(w==="+"?m++:w==="-"?d++:w==="i"||w==="I"?(m+d===0&&a(),p[h+1]!==" "&&!isNaN(p[h+1])?(f.im+=parseFloat((d%2?"-":"")+p[h+1]),h++):f.im+=parseFloat((d%2?"-":"")+"1"),m=d=0):((m+d===0||isNaN(w))&&a(),p[h+1]==="i"||p[h+1]==="I"?(f.im+=parseFloat((d%2?"-":"")+w),h++):f.re+=parseFloat((d%2?"-":"")+w),m=d=0))}m+d>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function l(s,c){if(!(this instanceof l))return new l(s,c);var f=u(s,c);this.re=f.re,this.im=f.im}l.prototype={re:0,im:0,sign:function(){var s=this.abs();return new l(this.re/s,this.im/s)},add:function(s,c){var f=new l(s,c);return this.isInfinite()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:new l(this.re+f.re,this.im+f.im)},sub:function(s,c){var f=new l(s,c);return this.isInfinite()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:new l(this.re-f.re,this.im-f.im)},mul:function(s,c){var f=new l(s,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?l.NAN:this.isInfinite()||f.isInfinite()?l.INFINITY:f.im===0&&this.im===0?new l(this.re*f.re,0):new l(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,c){var f=new l(s,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return l.NAN;if(this.isInfinite()||f.isZero())return l.INFINITY;if(this.isZero()||f.isInfinite())return l.ZERO;s=this.re,c=this.im;var p=f.re,m=f.im,d,h;return m===0?new l(s/p,c/p):Math.abs(p)<Math.abs(m)?(h=p/m,d=p*h+m,new l((s*h+c)/d,(c*h-s)/d)):(h=m/p,d=m*h+p,new l((s+c*h)/d,(c-s*h)/d))},pow:function(s,c){var f=new l(s,c);if(s=this.re,c=this.im,f.isZero())return l.ONE;if(f.im===0){if(c===0&&s>0)return new l(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new l(Math.pow(c,f.re),0);case 1:return new l(0,Math.pow(c,f.re));case 2:return new l(-Math.pow(c,f.re),0);case 3:return new l(0,-Math.pow(c,f.re))}}if(s===0&&c===0&&f.re>0&&f.im>=0)return l.ZERO;var p=Math.atan2(c,s),m=o(s,c);return s=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new l(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){var s=this.re,c=this.im,f=this.abs(),p,m;if(s>=0){if(c===0)return new l(Math.sqrt(s),0);p=.5*Math.sqrt(2*(f+s))}else p=Math.abs(c)/Math.sqrt(2*(f-s));return s<=0?m=.5*Math.sqrt(2*(f-s)):m=Math.abs(c)/Math.sqrt(2*(f+s)),new l(p,c<0?-m:m)},exp:function(){var s=Math.exp(this.re);return this.im,new l(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,c=this.im;return new l(Math.expm1(s)*Math.cos(c)+n(c),Math.exp(s)*Math.sin(c))},log:function(){var s=this.re,c=this.im;return c===0&&s>0,new l(o(s,c),Math.atan2(c,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,c=this.im;return new l(Math.sin(s)*e(c),Math.cos(s)*t(c))},cos:function(){var s=this.re,c=this.im;return new l(Math.cos(s)*e(c),-Math.sin(s)*t(c))},tan:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)+e(c);return new l(Math.sin(s)/f,t(c)/f)},cot:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)-e(c);return new l(-Math.sin(s)/f,t(c)/f)},sec:function(){var s=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*s);return new l(Math.cos(s)*e(c)/f,Math.sin(s)*t(c)/f)},csc:function(){var s=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*s);return new l(Math.sin(s)*e(c)/f,-Math.cos(s)*t(c)/f)},asin:function(){var s=this.re,c=this.im,f=new l(c*c-s*s+1,-2*s*c).sqrt(),p=new l(f.re-c,f.im+s).log();return new l(p.im,-p.re)},acos:function(){var s=this.re,c=this.im,f=new l(c*c-s*s+1,-2*s*c).sqrt(),p=new l(f.re-c,f.im+s).log();return new l(Math.PI/2-p.im,p.re)},atan:function(){var s=this.re,c=this.im;if(s===0){if(c===1)return new l(0,1/0);if(c===-1)return new l(0,-1/0)}var f=s*s+(1-c)*(1-c),p=new l((1-c*c-s*s)/f,-2*s/f).log();return new l(-.5*p.im,.5*p.re)},acot:function(){var s=this.re,c=this.im;if(c===0)return new l(Math.atan2(1,s),0);var f=s*s+c*c;return f!==0?new l(s/f,-c/f).atan():new l(s!==0?s/0:0,c!==0?-c/0:0).atan()},asec:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new l(0,1/0);var f=s*s+c*c;return f!==0?new l(s/f,-c/f).acos():new l(s!==0?s/0:0,c!==0?-c/0:0).acos()},acsc:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new l(Math.PI/2,1/0);var f=s*s+c*c;return f!==0?new l(s/f,-c/f).asin():new l(s!==0?s/0:0,c!==0?-c/0:0).asin()},sinh:function(){var s=this.re,c=this.im;return new l(t(s)*Math.cos(c),e(s)*Math.sin(c))},cosh:function(){var s=this.re,c=this.im;return new l(e(s)*Math.cos(c),t(s)*Math.sin(c))},tanh:function(){var s=2*this.re,c=2*this.im,f=e(s)+Math.cos(c);return new l(t(s)/f,Math.sin(c)/f)},coth:function(){var s=2*this.re,c=2*this.im,f=e(s)-Math.cos(c);return new l(t(s)/f,-Math.sin(c)/f)},csch:function(){var s=this.re,c=this.im,f=Math.cos(2*c)-e(2*s);return new l(-2*t(s)*Math.cos(c)/f,2*e(s)*Math.sin(c)/f)},sech:function(){var s=this.re,c=this.im,f=Math.cos(2*c)+e(2*s);return new l(2*e(s)*Math.cos(c)/f,-2*t(s)*Math.sin(c)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var c=this.asin();return this.re=-this.im,this.im=s,s=c.re,c.re=-c.im,c.im=s,c},acosh:function(){var s=this.acos();if(s.im<=0){var c=s.re;s.re=-s.im,s.im=c}else{var c=s.im;s.im=-s.re,s.re=c}return s},atanh:function(){var s=this.re,c=this.im,f=s>1&&c===0,p=1-s,m=1+s,d=p*p+c*c,h=d!==0?new l((m*p-c*c)/d,(c*p+m*c)/d):new l(s!==-1?s/0:0,c!==0?c/0:0),w=h.re;return h.re=o(h.re,h.im)/2,h.im=Math.atan2(h.im,w)/2,f&&(h.im=-h.im),h},acoth:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new l(0,Math.PI/2);var f=s*s+c*c;return f!==0?new l(s/f,-c/f).atanh():new l(s!==0?s/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var s=this.re,c=this.im;if(c===0)return new l(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+c*c;return f!==0?new l(s/f,-c/f).asinh():new l(s!==0?s/0:0,c!==0?-c/0:0).asinh()},asech:function(){var s=this.re,c=this.im;if(this.isZero())return l.INFINITY;var f=s*s+c*c;return f!==0?new l(s/f,-c/f).acosh():new l(s!==0?s/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var s=this.re,c=this.im,f=s*s+c*c;return new l(s/f,-c/f)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new l(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new l(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new l(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,c){var f=new l(s,c);return Math.abs(f.re-this.re)<=l.EPSILON&&Math.abs(f.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var s=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<l.EPSILON&&(s=0),Math.abs(c)<l.EPSILON&&(c=0),c===0?f+s:(s!==0?(f+=s,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return l}):typeof Wb=="object"?(Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Complex=l,d2.exports=l):r.Complex=l})(Wb)});var GB=qn((oke,HB)=>{HB.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,u=/^0/,l=function(v){return r.insensitive&&(""+v).toLowerCase()||""+v},s=l(e).replace(i,"")||"",c=l(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),d=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,h,w;if(d){if(m<d)return-1;if(m>d)return 1}for(var x=0,E=Math.max(f.length,p.length);x<E;x++){if(h=!(f[x]||"").match(u)&&parseFloat(f[x])||f[x]||0,w=!(p[x]||"").match(u)&&parseFloat(p[x])||p[x]||0,isNaN(h)!==isNaN(w))return isNaN(h)?1:-1;if(typeof h!=typeof w&&(h+="",w+=""),h<w)return-1;if(h>w)return 1}return 0}});var Zk=qn((D3e,jk)=>{"use strict";var dS=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Dee={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Cee={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Nee=function(e,t){return dS({},e,t)};jk.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?Nee:i,o=String(r),u="",l=a(dS({},Dee),n?dS({},Cee):{}),s=Object.keys(l),c=function(){var p=!1;s.forEach(function(m,d){p||o.length>=m.length&&o.slice(0,m.length)===m&&(u+=l[s[d]],o=o.slice(m.length,o.length),p=!0)}),p||(u+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return u}});var T4=qn((E4,hA)=>{(function(r,e,t){function n(u){var l=this,s=o();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=s(" "),l.s1=s(" "),l.s2=s(" "),l.s0-=s(u),l.s0<0&&(l.s0+=1),l.s1-=s(u),l.s1<0&&(l.s1+=1),l.s2-=s(u),l.s2<0&&(l.s2+=1),s=null}function i(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function a(u,l){var s=new n(u),c=l&&l.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,s),f.state=function(){return i(s,{})}),f}function o(){var u=4022871197,l=function(s){s=String(s);for(var c=0;c<s.length;c++){u+=s.charCodeAt(c);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(E4,typeof hA=="object"&&hA,typeof define=="function"&&define)});var D4=qn((M4,gA)=>{(function(r,e,t){function n(o){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},o===(o|0)?u.x=o:l+=o;for(var s=0;s<l.length+64;s++)u.x^=l.charCodeAt(s)|0,u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u}function a(o,u){var l=new n(o),s=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,s&&(typeof s=="object"&&i(s,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(M4,typeof gA=="object"&&gA,typeof define=="function"&&define)});var N4=qn((C4,vA)=>{(function(r,e,t){function n(o){var u=this,l="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,o===(o|0)?u.x=o:l+=o;for(var s=0;s<l.length+64;s++)u.x^=l.charCodeAt(s)|0,s==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(o,u){return u.x=o.x,u.y=o.y,u.z=o.z,u.w=o.w,u.v=o.v,u.d=o.d,u}function a(o,u){var l=new n(o),s=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,s&&(typeof s=="object"&&i(s,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(C4,typeof vA=="object"&&vA,typeof define=="function"&&define)});var I4=qn((F4,yA)=>{(function(r,e,t){function n(o){var u=this;u.next=function(){var s=u.x,c=u.i,f,p,m;return f=s[c],f^=f>>>7,p=f^f<<24,f=s[c+1&7],p^=f^f>>>10,f=s[c+3&7],p^=f^f>>>3,f=s[c+4&7],p^=f^f<<7,f=s[c+7&7],f=f^f<<13,p^=f^f<<9,s[c]=p,u.i=c+1&7,p};function l(s,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],s.x=m,s.i=0,f=256;f>0;--f)s.next()}l(u,o)}function i(o,u){return u.x=o.x.slice(),u.i=o.i,u}function a(o,u){o==null&&(o=+new Date);var l=new n(o),s=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,s&&(s.x&&i(s,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(F4,typeof yA=="object"&&yA,typeof define=="function"&&define)});var B4=qn((P4,xA)=>{(function(r,e,t){function n(o){var u=this;u.next=function(){var s=u.w,c=u.X,f=u.i,p,m;return u.w=s=s+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,u.i=f,m+(s^s>>>16)|0};function l(s,c){var f,p,m,d,h,w=[],x=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,x=Math.max(x,c.length)),m=0,d=-32;d<x;++d)c&&(p^=c.charCodeAt((d+32)%c.length)),d===0&&(h=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,d>=0&&(h=h+1640531527|0,f=w[d&127]^=p+h,m=f==0?m+1:0);for(m>=128&&(w[(c&&c.length||0)&127]=-1),m=127,d=4*128;d>0;--d)p=w[m+34&127],f=w[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,w[m]=p^f;s.w=h,s.X=w,s.i=m}l(u,o)}function i(o,u){return u.i=o.i,u.w=o.w,u.X=o.X.slice(),u}function a(o,u){o==null&&(o=+new Date);var l=new n(o),s=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,s&&(s.X&&i(s,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(P4,typeof xA=="object"&&xA,typeof define=="function"&&define)});var $4=qn((k4,bA)=>{(function(r,e,t){function n(o){var u=this,l="";u.next=function(){var c=u.b,f=u.c,p=u.d,m=u.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,u.b=c=c<<20^c>>>12^f,u.c=f=f-p|0,u.d=p<<16^f>>>16^m,u.a=m-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,o===Math.floor(o)?(u.a=o/4294967296|0,u.b=o|0):l+=o;for(var s=0;s<l.length+20;s++)u.b^=l.charCodeAt(s)|0,u.next()}function i(o,u){return u.a=o.a,u.b=o.b,u.c=o.c,u.d=o.d,u}function a(o,u){var l=new n(o),s=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=l.next,c.quick=c,s&&(typeof s=="object"&&i(s,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(k4,typeof bA=="object"&&bA,typeof define=="function"&&define)});var R4=qn((O4,Lg)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",u=t.pow(n,i),l=t.pow(2,a),s=l*2,c=n-1,f;function p(v,_,A){var y=[];_=_==!0?{entropy:!0}:_||{};var T=w(h(_.entropy?[v,E(e)]:v??x(),3),y),M=new m(y),b=function(){for(var D=M.g(i),I=u,P=0;D<l;)D=(D+P)*n,I*=n,P=M.g(1);for(;D>=s;)D/=2,I/=2,P>>>=1;return(D+P)/I};return b.int32=function(){return M.g(4)|0},b.quick=function(){return M.g(4)/4294967296},b.double=b,w(E(M.S),e),(_.pass||A||function(D,I,P,R){return R&&(R.S&&d(R,M),D.state=function(){return d(M,{})}),P?(t[o]=D,I):D})(b,T,"global"in _?_.global:this==t,_.state)}function m(v){var _,A=v.length,y=this,T=0,M=y.i=y.j=0,b=y.S=[];for(A||(v=[A++]);T<n;)b[T]=T++;for(T=0;T<n;T++)b[T]=b[M=c&M+v[T%A]+(_=b[T])],b[M]=_;(y.g=function(D){for(var I,P=0,R=y.i,q=y.j,L=y.S;D--;)I=L[R=c&R+1],P=P*n+L[c&(L[R]=L[q=c&q+I])+(L[q]=I)];return y.i=R,y.j=q,P})(n)}function d(v,_){return _.i=v.i,_.j=v.j,_.S=v.S.slice(),_}function h(v,_){var A=[],y=typeof v,T;if(_&&y=="object")for(T in v)try{A.push(h(v[T],_-1))}catch{}return A.length?A:y=="string"?v:v+"\0"}function w(v,_){for(var A=v+"",y,T=0;T<A.length;)_[c&T]=c&(y^=_[c&T]*19)+A.charCodeAt(T++);return E(_)}function x(){try{var v;return f&&(v=f.randomBytes)?v=v(n):(v=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(v)),E(v)}catch{var _=r.navigator,A=_&&_.plugins;return[+new Date,r,A,r.screen,E(e)]}}function E(v){return String.fromCharCode.apply(0,v)}if(w(t.random(),e),typeof Lg=="object"&&Lg.exports){Lg.exports=p;try{f=require("crypto")}catch{}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self<"u"?self:O4,[],Math)});var U4=qn((XYe,L4)=>{var Yte=T4(),jte=D4(),Zte=N4(),Jte=I4(),Xte=B4(),Qte=$4(),Pl=R4();Pl.alea=Yte;Pl.xor128=jte;Pl.xorwow=Zte;Pl.xorshift7=Jte;Pl.xor4096=Xte;Pl.tychei=Qte;L4.exports=Pl});var Nae={};L7(Nae,{MetaBindBuild:()=>jM,default:()=>gy});module.exports=U7(Nae);var Ef=require("obsidian");var Bi=(t=>(t.INLINE="inline",t.BLOCK="block",t))(Bi||{}),Xl=(l=>(l.INPUT="INPUT",l.VIEW="VIEW",l.JS_VIEW="JS_VIEW",l.TABLE="TABLE",l.BUTTON_GROUP="BUTTON_GROUP",l.BUTTON="BUTTON",l.EMBED="EMBED",l.EXCLUDED="EXCLUDED",l))(Xl||{}),Zs=class{constructor(e){this.linePosition=e}getPosition(){return this.linePosition}};function Tm(r){return r==="INPUT"||r==="VIEW"||r==="BUTTON_GROUP"}var Js=(y=>(y.TOGGLE="toggle",y.SLIDER="slider",y.TEXT="text",y.TEXT_AREA="textArea",y.SELECT="select",y.MULTI_SELECT="multiSelect",y.DATE="date",y.TIME="time",y.DATE_PICKER="datePicker",y.NUMBER="number",y.SUGGESTER="suggester",y.EDITOR="editor",y.IMAGE_SUGGESTER="imageSuggester",y.PROGRESS_BAR="progressBar",y.INLINE_SELECT="inlineSelect",y.LIST="list",y.LIST_SUGGESTER="listSuggester",y.INLINE_LIST_SUGGESTER="inlineListSuggester",y.INLINE_LIST="inlineList",y.IMAGE_LIST_SUGGESTER="imageListSuggester",y.DATE_TIME="dateTime",y.INVALID="invalid",y))(Js||{}),sn=(E=>(E.CLASS="class",E.ADD_LABELS="addLabels",E.MIN_VALUE="minValue",E.MAX_VALUE="maxValue",E.STEP_SIZE="stepSize",E.OPTION="option",E.TITLE="title",E.OPTION_QUERY="optionQuery",E.SHOWCASE="showcase",E.ON_VALUE="onValue",E.OFF_VALUE="offValue",E.DEFAULT_VALUE="defaultValue",E.PLACEHOLDER="placeholder",E.USE_LINKS="useLinks",E.LIMIT="limit",E.MULTI_LINE="multiLine",E.ALLOW_OTHER="allowOther",E.INVALID="invalid",E))(sn||{}),Mm={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},imageListSuggester:{type:"imageListSuggester",allowInBlock:!0,allowInline:!1},dateTime:{type:"dateTime",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var Er={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},multiLine:{type:"multiLine",allowedFieldTypes:["list"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},allowOther:{type:"allowOther",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Bf=(a=>(a.MATH="math",a.TEXT="text",a.LINK="link",a.IMAGE="image",a.INVALID="invalid",a))(Bf||{}),Gu=(i=>(i.RENDER_MARKDOWN="renderMarkdown",i.HIDDEN="hidden",i.CLASS="class",i.INVALID="invalid",i))(Gu||{}),Ql={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Dm=8;var zn=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},zt=class extends zn{getErrorType(){return"MB_INTERNAL"}},co=class extends zn{getErrorType(){return"MB_PARSING"}},Xs=class extends zn{getErrorType(){return"MB_VALIDATION"}},Cm=class extends zn{getErrorType(){return"MB_BIND_TARGET"}};var Lr=class extends zn{getErrorType(){return"MB_ARGUMENT"}},fs=class extends zn{getErrorType(){return"MB_JS"}},fo=class extends zn{getErrorType(){return"MB_EXPRESSION"}};var kf=class extends zn{getErrorType(){return"MB_EXAMPLE"}};var ps=class extends zn{getErrorType(){return"MB_BUTTON"}},Wu=class extends zn{getErrorType(){return"MB_DEPENDENCY"}};var Ra=class{static get(e,t){return t.get(e).child}static tryGet(e,t){return t.tryGet(e)?.child}static fullGet(e,t){return t.get(e)}static set(e,t,n){t.set(e,n)}static setAndCreate(e,t,n){t.setAndCreate(e,n)}};var Kl=class{constructor(e,t){this.id=e,this.manager=t,this.cache=new Map}validateStoragePath(e,t,n,i){return i.validateStoragePathAsFilePath(e,n)}resolveBindTargetScope(e,t,n){return e}createCacheItem(e){let t=this.cache.get(e);if(t!==void 0)throw new zt({errorLevel:"CRITICAL",effect:"can not create cache item",cause:"cache item already exists"});return t=this.getDefaultCacheItem(e),this.cache.set(e,t),t}getOrCreateCacheItem(e){let t=this.getCacheItemForStoragePath(e);return t===void 0&&(t=this.getDefaultCacheItem(e),this.cache.set(e,t)),t}subscribe(e){if(e.bindTarget===void 0)throw new zt({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let t=this.getOrCreateCacheItem(e.bindTarget.storagePath);return t.subscriptions.push(e),t}unsubscribe(e){if(e.bindTarget===void 0)throw new zt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let t=this.cache.get(e.bindTarget.storagePath);if(t===void 0)throw new zt({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return t.subscriptions=t.subscriptions.filter(n=>n.uuid!==e.uuid),t}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}deleteCache(e){this.cache.delete(e.storagePath)}writeCache(e,t){let n=this.getOrCreateCacheItem(t.storagePath);return Ra.setAndCreate(n.data,t.storageProp,e),n}writeEntireCache(e,t){t.data=e}readCache(e){if(e.storageType!==this.id)throw new zt({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let t=this.getCacheItemForStoragePath(e.storagePath);return t===void 0?Ra.tryGet(this.readExternal(e.storagePath),e.storageProp):this.readCacheItem(t,e.storageProp)}readCacheItem(e,t){return Ra.tryGet(e.data,t)}readEntireCacheItem(e){return e.data}};function Hn(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new $f("ERROR","parsiNOM parser",e,t)}var $f=class extends zn{constructor(e,t,n,i){super({errorLevel:e,effect:"Failed to parse. Check that your syntax is correct.",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=n,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let t=this.str.split(`
`)[this.parseFailure.furthest.line-1],n=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),n=`^ (${this.cause})`;return t+n}},Bn=class extends zn{constructor(e,t,n,i,a,o){super({errorLevel:e,effect:"Failed to validate the result of the parser.",cause:n,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let t=this.str.split(`
`)[this.position.from.line-1],n=`${this.position.from.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length,t.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let n=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return n+a}};var Nm=class extends Kl{readExternal(e){return{}}getDefaultCacheItem(e){return{data:{},storagePath:e,...this.manager.getDefaultCacheItem()}}async syncExternal(e){}},Fm=class{constructor(e,t){this.id=e,this.manager=t,this.cache={data:{},...this.manager.getDefaultCacheItem()}}createCacheItem(e){return this.cache}getOrCreateCacheItem(e){return this.cache}validateStoragePath(e,t,n,i){if(t)throw new Bn("ERROR","Bind target validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,t,n){return e}deleteCache(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,t){return Ra.tryGet(e.data,t)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(t=>t.uuid!==e.uuid),this.cache}writeCache(e,t){return Ra.setAndCreate(this.cache.data,t.storageProp,e),this.cache}writeEntireCache(e,t){t.data=e}readEntireCacheItem(e){return e.data}},Im=class{constructor(e,t){this.id=e,this.manager=t}createCacheItem(e){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}getOrCreateCacheItem(e){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}validateStoragePath(e,t,n,i){if(t)throw new Bn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'scope' does not support a storage path.",n,e.position);return""}resolveBindTargetScope(e,t,n){return n.resolveScope(e,t)}deleteCache(e){}getCacheItemForStoragePath(e){}iterateCacheItems(){return[][Symbol.iterator]()}onCycle(e){}readCache(e){}readCacheItem(e,t){}shouldDelete(e){return!0}subscribe(e){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}syncExternal(e){}unsubscribe(e){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}writeCache(e,t){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}writeEntireCache(e,t){}readEntireCacheItem(e){throw new zt({errorLevel:"CRITICAL",effect:"action not permitted",cause:"source 'scope' should have no cache items or subscriptions"})}};function Of(r,e,t){return Math.min(Math.max(r,e),t)}function Bm(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function By(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function ky(r,e){return(r%e+e)%e}function Pm(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||typeof r!=typeof e)return!1;if(typeof r=="object"&&typeof e=="object"){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;for(let i=0;i<r.length;i++)if(!Pm(r[i],e[i]))return!1;return!0}let t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i of t)if(!Pm(r[i],e[i]))return!1;return!0}return r===e}function FD(r){return!!r}function $y(r){if(r===void 0)return r;let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&$y(n)}return Object.freeze(r)}function ID(r){return structuredClone(r)}function Vr(){return window.crypto.randomUUID()}function ec(r){try{return new URL(r),!0}catch{return!1}}function km(r){window.open(r,"_blank")}function PD(r,e,t=", ",n="and"){return r.length===0?"":(r=r.map(e),r.length===1?r[0]:r.length===2?`${r[0]} ${n} ${r[1]}`:`${r.slice(0,-1).join(t)} ${n} ${r.slice(-1)}`)}function di(r,e){r.innerHTML="",r.className="";let t=document.createElement("span");t.className="mb-warning mb-unloaded",t.innerText=`[MB_UNLOADED] ${e}`,r.appendChild(t)}var ct=class{static createElement(e,t,n){let i=document.createElement(t);return n?.text&&(i.innerText=n.text),n?.class&&(i.className=n.class),e.appendChild(i),i}static addClass(e,t){e.classList.add(...t.split(" "))}static addClasses(e,t){e.classList.add(...t)}static removeClass(e,t){e.classList.remove(...t.split(" "))}static hasClass(e,t){return e.classList.contains(t)}static removeAllClasses(e){e.className=""}static empty(e){for(;e.lastChild;)e.removeChild(e.lastChild)}};function Oy(...r){let e=r[0];for(let t=1;t<r.length;t++){let n=e.endsWith("/"),i=r[t].startsWith("/");n&&i?e=e.substring(0,e.length-1):!n&&!i&&(e+="/"),e+=r[t]}return e}function Ry(r,e){return e=e.startsWith(".")?e:"."+e,r.endsWith(e)?r:r+e}var $m=class{constructor(e,t,n,i,a,o,u){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=u,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+Vr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){try{let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.bindTarget!==void 0&&this.metadataManager.write(t,this.bindTarget,this.uuid)}catch(e){let t=e instanceof Error?e:String(e);console.warn(new zt({errorLevel:"ERROR",effect:"Failed to compute value of computed subscription",cause:t}))}}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var Om=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.write(e,this.bindTarget,this.uuid)}notify(e){try{this.callbackSignal.set(e)}catch(t){let n=t instanceof Error?t:String(t);console.warn(new zt({errorLevel:"ERROR",effect:"Failed to notify subscription of updated value in the cache",cause:n}))}}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var BD=5,V7=5*60;function Ly(r,e){return r===void 0||e===void 0||r.storageType!==e.storageType||r.storagePath!==e.storagePath?!1:kD(r.storageProp,e.storageProp,e.listenToChildren)}function kD(r,e,t){let n=r.path,i=e.path;for(let a=0;a<Math.min(n.length,i.length);a++)if(n[a].type!==i[a].type||n[a].prop!==i[a].prop)return!1;return n.length>i.length?t:!0}function q7(r){return r===void 0?"undefined":`${r.storagePath}#${r.storageProp.toString()}`}var Rm=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new zt({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,t,n,i){let a=new Om(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let u=new $m(e,t,this,n,i,a,o);return this.checkForLoops(u),u.init(),this.subscribeSubscription(u),u}unsubscribe(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new zt({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.unsubscribe(e);n.subscriptions.length===0&&(n.inactive=!0)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new zt({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let n=t.subscribe(e);n.inactive=!1,n.cyclesSinceInactive=0,e.notify(t.readCacheItem(n,e.bindTarget.storageProp))}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.at(0),n=e.at(-1);if(!(n===void 0||t===void 0)){if(Ly(t.bindTarget,n.bindTarget))throw new Cm({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${q7(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheItemForBindTarget(e);if(!t)return[];let n=[];for(let i of t.subscriptions)Ly(i.bindTarget,e)&&n.push(i);return t.subscriptions.filter(i=>Ly(i.bindTarget,e))}getCacheItemForBindTarget(e){return this.getSource(e.storageType)?.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let t=[];for(let n of e.iterateCacheItems()){if(e.onCycle(n),n.pendingInternalChange){try{e.syncExternal(n)}catch(i){console.warn("failed to update frontmatter",i)}n.pendingInternalChange=!1}n.cyclesSinceInternalChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>V7&&e.shouldDelete(n)&&t.push(n)}for(let n of t)e.deleteCache(n)}}write(e,t,n){let i=this.getSource(t.storageType);if(i===void 0)throw new zt({errorLevel:"ERROR",effect:"can not write to cache",cause:`Source "${t.storageType}" does not exist`});let a=i.writeCache(e,t);a.pendingInternalChange=!0,a.cyclesSinceInternalChange=0,this.notifyListeners(t,n)}read(e){let t=this.getSource(e.storageType);if(t===void 0)throw new zt({errorLevel:"ERROR",effect:"can not read metadata",cause:`Source "${e.storageType}" does not exist`});return t.readCache(e)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<BD}notifyListeners(e,t){let n=this.getSource(e.storageType);if(n===void 0)throw new zt({errorLevel:"ERROR",effect:"can notify listeners metadata",cause:`Source "${e.storageType}" does not exist`});let i=n.getCacheItemForStoragePath(e.storagePath);if(i!==void 0){for(let a of i.subscriptions)if(!(t!==void 0&&t===a.uuid||a.bindTarget===void 0)&&kD(e.storageProp,a.bindTarget.storageProp,a.bindTarget.listenToChildren)){let o=n.readCache(a.bindTarget);a.notify(o)}}}notifyAllListeners(e,t){for(let n of t.subscriptions){if(n.bindTarget===void 0)continue;let i=e.readCache(n.bindTarget);n.notify(i)}}deleteCachesForStoragePath(e){for(let t of this.sources.values()){let n=t.getCacheItemForStoragePath(e);n!==void 0&&(n.subscriptions.forEach(i=>i.delete()),t.deleteCache(n))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:BD+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,t,n){let i=e.getCacheItemForStoragePath(t);if(i===void 0||this.isCacheExternalWriteLocked(i))return;let a=e.readEntireCacheItem(i);e.writeEntireCache(n,i);for(let o of i.subscriptions){if(o.bindTarget===void 0)continue;let u=o.bindTarget.storageProp,l=Ra.tryGet(n,u),s=Ra.tryGet(a,u);l!==s&&o.notify(l)}}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,t){this.deleteCachesForStoragePath(e)}};var Lm=class{constructor(){this.activeMountables=new Map}unloadFile(e){for(let t of this.activeMountables.values())t.getFilePath()===e&&t.unmount()}unload(){for(let e of this.activeMountables.values())e.unmount()}registerMountable(e){this.activeMountables.set(e.getUuid(),e)}unregisterMountable(e){this.activeMountables.delete(e.getUuid())}};var Vy=$r(Rf()),Qn=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Vy.default)(e,r.dateFormat)}static getDefaultDate(){return(0,Vy.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var $D=["January","February","March","April","May","June","July","August","September","October","November","December"],Yu=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],po={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",firstWeekday:Yu[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,enableEditorRightClickMenu:!0,inputFieldTemplates:[],buttonTemplates:[],excludedFolders:["templates"]};var OD=$r(Rf());var qy=Yu[1];function RD(r){qy=r}function LD(r){return $D[r]}function UD(r,e){let t=(0,OD.default)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=z7(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function z7(r){return ky(r.getDay()-qy.index,7)}function VD(){return Yu.map(e=>({index:ky(e.index-qy.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function qD(){let r=0;return()=>++r}function Um(r){var e=r.statementIndent,t=r.jsonld,n=r.json||t,i=r.typescript,a=r.wordCharacters||/[\w$\xa1-\uffff]/,o=function(){function V(In){return{type:In,style:"keyword"}}var ee=V("keyword a"),Ie=V("keyword b"),Xe=V("keyword c"),Ye=V("keyword d"),Ut=V("operator"),Br={type:"atom",style:"atom"};return{if:V("if"),while:ee,with:ee,else:Ie,do:Ie,try:Ie,finally:Ie,return:Ye,break:Ye,continue:Ye,new:V("new"),delete:Xe,void:Xe,throw:Xe,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:Ut,typeof:Ut,instanceof:Ut,true:Br,false:Br,null:Br,undefined:Br,NaN:Br,Infinity:Br,this:V("this"),class:V("class"),super:V("atom"),yield:Xe,export:V("export"),import:V("import"),extends:Xe,await:Xe}}(),u=/[+\-*&%=<>!?|~^@]/,l=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function s(V){for(var ee=!1,Ie,Xe=!1;(Ie=V.next())!=null;){if(!ee){if(Ie=="/"&&!Xe)return;Ie=="["?Xe=!0:Xe&&Ie=="]"&&(Xe=!1)}ee=!ee&&Ie=="\\"}}var c,f;function p(V,ee,Ie){return c=V,f=Ie,ee}function m(V,ee){var Ie=V.next();if(Ie=='"'||Ie=="'")return ee.tokenize=d(Ie),ee.tokenize(V,ee);if(Ie=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if(Ie=="."&&V.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ie))return p(Ie);if(Ie=="="&&V.eat(">"))return p("=>","operator");if(Ie=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(Ie))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if(Ie=="/")return V.eat("*")?(ee.tokenize=h,h(V,ee)):V.eat("/")?(V.skipToEnd(),p("comment","comment")):an(V,ee,1)?(s(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string.special")):(V.eat("="),p("operator","operator",V.current()));if(Ie=="`")return ee.tokenize=w,w(V,ee);if(Ie=="#"&&V.peek()=="!")return V.skipToEnd(),p("meta","meta");if(Ie=="#"&&V.eatWhile(a))return p("variable","property");if(Ie=="<"&&V.match("!--")||Ie=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),p("comment","comment");if(u.test(Ie))return(Ie!=">"||!ee.lexical||ee.lexical.type!=">")&&(V.eat("=")?(Ie=="!"||Ie=="=")&&V.eat("="):/[<>*+\-|&?]/.test(Ie)&&(V.eat(Ie),Ie==">"&&V.eat(Ie))),Ie=="?"&&V.eat(".")?p("."):p("operator","operator",V.current());if(a.test(Ie)){V.eatWhile(a);var Xe=V.current();if(ee.lastType!="."){if(o.propertyIsEnumerable(Xe)){var Ye=o[Xe];return p(Ye.type,Ye.style,Xe)}if(Xe=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",Xe)}return p("variable","variable",Xe)}}function d(V){return function(ee,Ie){var Xe=!1,Ye;if(t&&ee.peek()=="@"&&ee.match(l))return Ie.tokenize=m,p("jsonld-keyword","meta");for(;(Ye=ee.next())!=null&&!(Ye==V&&!Xe);)Xe=!Xe&&Ye=="\\";return Xe||(Ie.tokenize=m),p("string","string")}}function h(V,ee){for(var Ie=!1,Xe;Xe=V.next();){if(Xe=="/"&&Ie){ee.tokenize=m;break}Ie=Xe=="*"}return p("comment","comment")}function w(V,ee){for(var Ie=!1,Xe;(Xe=V.next())!=null;){if(!Ie&&(Xe=="`"||Xe=="$"&&V.eat("{"))){ee.tokenize=m;break}Ie=!Ie&&Xe=="\\"}return p("quasi","string.special",V.current())}var x="([{}])";function E(V,ee){ee.fatArrowAt&&(ee.fatArrowAt=null);var Ie=V.string.indexOf("=>",V.start);if(!(Ie<0)){if(i){var Xe=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,Ie));Xe&&(Ie=Xe.index)}for(var Ye=0,Ut=!1,Br=Ie-1;Br>=0;--Br){var In=V.string.charAt(Br),Pn=x.indexOf(In);if(Pn>=0&&Pn<3){if(!Ye){++Br;break}if(--Ye==0){In=="("&&(Ut=!0);break}}else if(Pn>=3&&Pn<6)++Ye;else if(a.test(In))Ut=!0;else if(/["'\/`]/.test(In))for(;;--Br){if(Br==0)return;var is=V.string.charAt(Br-1);if(is==In&&V.string.charAt(Br-2)!="\\"){Br--;break}}else if(Ut&&!Ye){++Br;break}}Ut&&!Ye&&(ee.fatArrowAt=Br)}}var v={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function _(V,ee,Ie,Xe,Ye,Ut){this.indented=V,this.column=ee,this.type=Ie,this.prev=Ye,this.info=Ut,Xe!=null&&(this.align=Xe)}function A(V,ee){for(var Ie=V.localVars;Ie;Ie=Ie.next)if(Ie.name==ee)return!0;for(var Xe=V.context;Xe;Xe=Xe.prev)for(var Ie=Xe.vars;Ie;Ie=Ie.next)if(Ie.name==ee)return!0}function y(V,ee,Ie,Xe,Ye){var Ut=V.cc;for(T.state=V,T.stream=Ye,T.marked=null,T.cc=Ut,T.style=ee,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var Br=Ut.length?Ut.pop():n?me:U;if(Br(Ie,Xe)){for(;Ut.length&&Ut[Ut.length-1].lex;)Ut.pop()();return T.marked?T.marked:Ie=="variable"&&A(V,Xe)?"variableName.local":ee}}}var T={state:null,column:null,marked:null,cc:null};function M(){for(var V=arguments.length-1;V>=0;V--)T.cc.push(arguments[V])}function b(){return M.apply(null,arguments),!0}function D(V,ee){for(var Ie=ee;Ie;Ie=Ie.next)if(Ie.name==V)return!0;return!1}function I(V){var ee=T.state;if(T.marked="def",ee.context){if(ee.lexical.info=="var"&&ee.context&&ee.context.block){var Ie=P(V,ee.context);if(Ie!=null){ee.context=Ie;return}}else if(!D(V,ee.localVars)){ee.localVars=new L(V,ee.localVars);return}}r.globalVars&&!D(V,ee.globalVars)&&(ee.globalVars=new L(V,ee.globalVars))}function P(V,ee){if(ee)if(ee.block){var Ie=P(V,ee.prev);return Ie?Ie==ee.prev?ee:new q(Ie,ee.vars,!0):null}else return D(V,ee.vars)?ee:new q(ee.prev,new L(V,ee.vars),!1);else return null}function R(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function q(V,ee,Ie){this.prev=V,this.vars=ee,this.block=Ie}function L(V,ee){this.name=V,this.next=ee}var k=new L("this",new L("arguments",null));function B(){T.state.context=new q(T.state.context,T.state.localVars,!1),T.state.localVars=k}function W(){T.state.context=new q(T.state.context,T.state.localVars,!0),T.state.localVars=null}B.lex=W.lex=!0;function O(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}O.lex=!0;function X(V,ee){var Ie=function(){var Xe=T.state,Ye=Xe.indented;if(Xe.lexical.type=="stat")Ye=Xe.lexical.indented;else for(var Ut=Xe.lexical;Ut&&Ut.type==")"&&Ut.align;Ut=Ut.prev)Ye=Ut.indented;Xe.lexical=new _(Ye,T.stream.column(),V,null,Xe.lexical,ee)};return Ie.lex=!0,Ie}function ne(){var V=T.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}ne.lex=!0;function Z(V){function ee(Ie){return Ie==V?b():V==";"||Ie=="}"||Ie==")"||Ie=="]"?M():b(ee)}return ee}function U(V,ee){return V=="var"?b(X("vardef",ee),yt,Z(";"),ne):V=="keyword a"?b(X("form"),ve,U,ne):V=="keyword b"?b(X("form"),U,ne):V=="keyword d"?T.stream.match(/^\s*$/,!1)?b():b(X("stat"),ye,Z(";"),ne):V=="debugger"?b(Z(";")):V=="{"?b(X("}"),W,Dt,ne,O):V==";"?b():V=="if"?(T.state.lexical.info=="else"&&T.state.cc[T.state.cc.length-1]==ne&&T.state.cc.pop()(),b(X("form"),ve,U,ne,mr)):V=="function"?b(Oa):V=="for"?b(X("form"),W,Gs,U,O,ne):V=="class"||i&&ee=="interface"?(T.marked="keyword",b(X("form",V=="class"?V:ee),fn,ne)):V=="variable"?i&&ee=="declare"?(T.marked="keyword",b(U)):i&&(ee=="module"||ee=="enum"||ee=="type")&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword",ee=="enum"?b(Gl):ee=="type"?b(Mn,Z("operator"),fe,Z(";")):b(X("form"),Re,Z("{"),X("}"),Dt,ne,ne)):i&&ee=="namespace"?(T.marked="keyword",b(X("form"),me,U,ne)):i&&ee=="abstract"?(T.marked="keyword",b(U)):b(X("stat"),re):V=="switch"?b(X("form"),ve,Z("{"),X("}","switch"),W,Dt,ne,ne,O):V=="case"?b(me,Z(":")):V=="default"?b(Z(":")):V=="catch"?b(X("form"),B,pe,U,ne,O):V=="export"?b(X("stat"),Tf,ne):V=="import"?b(X("stat"),rs,ne):V=="async"?b(U):ee=="@"?b(me,U):M(X("stat"),me,Z(";"),ne)}function pe(V){if(V=="(")return b(Vn,Z(")"))}function me(V,ee){return _e(V,ee,!1)}function oe(V,ee){return _e(V,ee,!0)}function ve(V){return V!="("?M():b(X(")"),ye,Z(")"),ne)}function _e(V,ee,Ie){if(T.state.fatArrowAt==T.stream.start){var Xe=Ie?Y:Qe;if(V=="(")return b(B,X(")"),Se(Vn,")"),ne,Z("=>"),Xe,O);if(V=="variable")return M(B,Re,Z("=>"),Xe,O)}var Ye=Ie?we:be;return v.hasOwnProperty(V)?b(Ye):V=="function"?b(Oa,Ye):V=="class"||i&&ee=="interface"?(T.marked="keyword",b(X("form"),Yi,ne)):V=="keyword c"||V=="async"?b(Ie?oe:me):V=="("?b(X(")"),ye,Z(")"),ne,Ye):V=="operator"||V=="spread"?b(Ie?oe:me):V=="["?b(X("]"),Hl,ne,Ye):V=="{"?wt(Ae,"}",null,Ye):V=="quasi"?M(Ee,Ye):V=="new"?b(Q(Ie)):b()}function ye(V){return V.match(/[;\}\)\],]/)?M():M(me)}function be(V,ee){return V==","?b(ye):we(V,ee,!1)}function we(V,ee,Ie){var Xe=Ie==!1?be:we,Ye=Ie==!1?me:oe;if(V=="=>")return b(B,Ie?Y:Qe,O);if(V=="operator")return/\+\+|--/.test(ee)||i&&ee=="!"?b(Xe):i&&ee=="<"&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?b(X(">"),Se(fe,">"),ne,Xe):ee=="?"?b(me,Z(":"),Ye):b(Ye);if(V=="quasi")return M(Ee,Xe);if(V!=";"){if(V=="(")return wt(oe,")","call",Xe);if(V==".")return b(se,Xe);if(V=="[")return b(X("]"),ye,Z("]"),ne,Xe);if(i&&ee=="as")return T.marked="keyword",b(fe,Xe);if(V=="regexp")return T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),b(Ye)}}function Ee(V,ee){return V!="quasi"?M():ee.slice(ee.length-2)!="${"?b(Ee):b(ye,qe)}function qe(V){if(V=="}")return T.marked="string.special",T.state.tokenize=w,b(Ee)}function Qe(V){return E(T.stream,T.state),M(V=="{"?U:me)}function Y(V){return E(T.stream,T.state),M(V=="{"?U:oe)}function Q(V){return function(ee){return ee=="."?b(V?J:xe):ee=="variable"&&i?b(ge,V?we:be):M(V?oe:me)}}function xe(V,ee){if(ee=="target")return T.marked="keyword",b(be)}function J(V,ee){if(ee=="target")return T.marked="keyword",b(we)}function re(V){return V==":"?b(ne,U):M(be,Z(";"),ne)}function se(V){if(V=="variable")return T.marked="property",b()}function Ae(V,ee){if(V=="async")return T.marked="property",b(Ae);if(V=="variable"||T.style=="keyword"){if(T.marked="property",ee=="get"||ee=="set")return b(Te);var Ie;return i&&T.state.fatArrowAt==T.stream.start&&(Ie=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+Ie[0].length),b(Ve)}else{if(V=="number"||V=="string")return T.marked=t?"property":T.style+" property",b(Ve);if(V=="jsonld-keyword")return b(Ve);if(i&&R(ee))return T.marked="keyword",b(Ae);if(V=="[")return b(me,jt,Z("]"),Ve);if(V=="spread")return b(oe,Ve);if(ee=="*")return T.marked="keyword",b(Ae);if(V==":")return M(Ve)}}function Te(V){return V!="variable"?M(Ve):(T.marked="property",b(Oa))}function Ve(V){if(V==":")return b(oe);if(V=="(")return M(Oa)}function Se(V,ee,Ie){function Xe(Ye,Ut){if(Ie?Ie.indexOf(Ye)>-1:Ye==","){var Br=T.state.lexical;return Br.info=="call"&&(Br.pos=(Br.pos||0)+1),b(function(In,Pn){return In==ee||Pn==ee?M():M(V)},Xe)}return Ye==ee||Ut==ee?b():Ie&&Ie.indexOf(";")>-1?M(V):b(Z(ee))}return function(Ye,Ut){return Ye==ee||Ut==ee?b():M(V,Xe)}}function wt(V,ee,Ie){for(var Xe=3;Xe<arguments.length;Xe++)T.cc.push(arguments[Xe]);return b(X(ee,Ie),Se(V,ee),ne)}function Dt(V){return V=="}"?b():M(U,Dt)}function jt(V,ee){if(i){if(V==":")return b(fe);if(ee=="?")return b(jt)}}function Tt(V,ee){if(i&&(V==":"||ee=="in"))return b(fe)}function j(V){if(i&&V==":")return T.stream.match(/^\s*\w+\s+is\b/,!1)?b(me,le,fe):b(fe)}function le(V,ee){if(ee=="is")return T.marked="keyword",b()}function fe(V,ee){if(ee=="keyof"||ee=="typeof"||ee=="infer"||ee=="readonly")return T.marked="keyword",b(ee=="typeof"?oe:fe);if(V=="variable"||ee=="void")return T.marked="type",b(G);if(ee=="|"||ee=="&")return b(fe);if(V=="string"||V=="number"||V=="atom")return b(G);if(V=="[")return b(X("]"),Se(fe,"]",","),ne,G);if(V=="{")return b(X("}"),ke,ne,G);if(V=="(")return b(Se(N,")"),Pe,G);if(V=="<")return b(Se(fe,">"),fe);if(V=="quasi")return M($e,G)}function Pe(V){if(V=="=>")return b(fe)}function ke(V){return V.match(/[\}\)\]]/)?b():V==","||V==";"?b(ke):M(Fe,ke)}function Fe(V,ee){if(V=="variable"||T.style=="keyword")return T.marked="property",b(Fe);if(ee=="?"||V=="number"||V=="string")return b(Fe);if(V==":")return b(fe);if(V=="[")return b(Z("variable"),Tt,Z("]"),Fe);if(V=="(")return M(pa,Fe);if(!V.match(/[;\}\)\],]/))return b()}function $e(V,ee){return V!="quasi"?M():ee.slice(ee.length-2)!="${"?b($e):b(fe,ze)}function ze(V){if(V=="}")return T.marked="string.special",T.state.tokenize=w,b($e)}function N(V,ee){return V=="variable"&&T.stream.match(/^\s*[?:]/,!1)||ee=="?"?b(N):V==":"?b(fe):V=="spread"?b(N):M(fe)}function G(V,ee){if(ee=="<")return b(X(">"),Se(fe,">"),ne,G);if(ee=="|"||V=="."||ee=="&")return b(fe);if(V=="[")return b(fe,Z("]"),G);if(ee=="extends"||ee=="implements")return T.marked="keyword",b(fe);if(ee=="?")return b(fe,Z(":"),fe)}function ge(V,ee){if(ee=="<")return b(X(">"),Se(fe,">"),ne,G)}function Ne(){return M(fe,at)}function at(V,ee){if(ee=="=")return b(fe)}function yt(V,ee){return ee=="enum"?(T.marked="keyword",b(Gl)):M(Re,jt,nn,Un)}function Re(V,ee){if(i&&R(ee))return T.marked="keyword",b(Re);if(V=="variable")return I(ee),b();if(V=="spread")return b(Re);if(V=="[")return wt(Ii,"]");if(V=="{")return wt(Jn,"}")}function Jn(V,ee){return V=="variable"&&!T.stream.match(/^\s*:/,!1)?(I(ee),b(nn)):(V=="variable"&&(T.marked="property"),V=="spread"?b(Re):V=="}"?M():V=="["?b(me,Z("]"),Z(":"),Jn):b(Z(":"),Re,nn))}function Ii(){return M(Re,nn)}function nn(V,ee){if(ee=="=")return b(oe)}function Un(V){if(V==",")return b(yt)}function mr(V,ee){if(V=="keyword b"&&ee=="else")return b(X("form","else"),U,ne)}function Gs(V,ee){if(ee=="await")return b(Gs);if(V=="(")return b(X(")"),Pr,ne)}function Pr(V){return V=="var"?b(yt,Wi):V=="variable"?b(Wi):M(Wi)}function Wi(V,ee){return V==")"?b():V==";"?b(Wi):ee=="in"||ee=="of"?(T.marked="keyword",b(me,Wi)):M(me,Wi)}function Oa(V,ee){if(ee=="*")return T.marked="keyword",b(Oa);if(V=="variable")return I(ee),b(Oa);if(V=="(")return b(B,X(")"),Se(Vn,")"),ne,j,U,O);if(i&&ee=="<")return b(X(">"),Se(Ne,">"),ne,Oa)}function pa(V,ee){if(ee=="*")return T.marked="keyword",b(pa);if(V=="variable")return I(ee),b(pa);if(V=="(")return b(B,X(")"),Se(Vn,")"),ne,j,O);if(i&&ee=="<")return b(X(">"),Se(Ne,">"),ne,pa)}function Mn(V,ee){if(V=="keyword"||V=="variable")return T.marked="type",b(Mn);if(ee=="<")return b(X(">"),Se(Ne,">"),ne)}function Vn(V,ee){return ee=="@"&&b(me,Vn),V=="spread"?b(Vn):i&&R(ee)?(T.marked="keyword",b(Vn)):i&&V=="this"?b(jt,nn):M(Re,jt,nn)}function Yi(V,ee){return V=="variable"?fn(V,ee):Xn(V,ee)}function fn(V,ee){if(V=="variable")return I(ee),b(Xn)}function Xn(V,ee){if(ee=="<")return b(X(">"),Se(Ne,">"),ne,Xn);if(ee=="extends"||ee=="implements"||i&&V==",")return ee=="implements"&&(T.marked="keyword"),b(i?fe:me,Xn);if(V=="{")return b(X("}"),Dn,ne)}function Dn(V,ee){if(V=="async"||V=="variable"&&(ee=="static"||ee=="get"||ee=="set"||i&&R(ee))&&T.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return T.marked="keyword",b(Dn);if(V=="variable"||T.style=="keyword")return T.marked="property",b(ji,Dn);if(V=="number"||V=="string")return b(ji,Dn);if(V=="[")return b(me,jt,Z("]"),ji,Dn);if(ee=="*")return T.marked="keyword",b(Dn);if(i&&V=="(")return M(pa,Dn);if(V==";"||V==",")return b(Dn);if(V=="}")return b();if(ee=="@")return b(me,Dn)}function ji(V,ee){if(ee=="!"||ee=="?")return b(ji);if(V==":")return b(fe,nn);if(ee=="=")return b(oe);var Ie=T.state.lexical.prev,Xe=Ie&&Ie.info=="interface";return M(Xe?pa:Oa)}function Tf(V,ee){return ee=="*"?(T.marked="keyword",b(uo,Z(";"))):ee=="default"?(T.marked="keyword",b(me,Z(";"))):V=="{"?b(Se(ql,"}"),uo,Z(";")):M(U)}function ql(V,ee){if(ee=="as")return T.marked="keyword",b(Z("variable"));if(V=="variable")return M(oe,ql)}function rs(V){return V=="string"?b():V=="("?M(me):V=="."?M(be):M(ns,zl,uo)}function ns(V,ee){return V=="{"?wt(ns,"}"):(V=="variable"&&I(ee),ee=="*"&&(T.marked="keyword"),b(Po))}function zl(V){if(V==",")return b(ns,zl)}function Po(V,ee){if(ee=="as")return T.marked="keyword",b(ns)}function uo(V,ee){if(ee=="from")return T.marked="keyword",b(me)}function Hl(V){return V=="]"?b():M(Se(oe,"]"))}function Gl(){return M(X("form"),Re,Z("{"),X("}"),Se(Mf,"}"),ne,ne)}function Mf(){return M(Re,nn)}function Df(V,ee){return V.lastType=="operator"||V.lastType==","||u.test(ee.charAt(0))||/[,.]/.test(ee.charAt(0))}function an(V,ee,Ie){return ee.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ee.lastType)||ee.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(Ie||0)))}return{name:r.name,startState:function(V){var ee={tokenize:m,lastType:"sof",cc:[],lexical:new _(-V,0,"block",!1),localVars:r.localVars,context:r.localVars&&new q(null,null,!1),indented:0};return r.globalVars&&typeof r.globalVars=="object"&&(ee.globalVars=r.globalVars),ee},token:function(V,ee){if(V.sol()&&(ee.lexical.hasOwnProperty("align")||(ee.lexical.align=!1),ee.indented=V.indentation(),E(V,ee)),ee.tokenize!=h&&V.eatSpace())return null;var Ie=ee.tokenize(V,ee);return c=="comment"?Ie:(ee.lastType=c=="operator"&&(f=="++"||f=="--")?"incdec":c,y(ee,Ie,c,f,V))},indent:function(V,ee,Ie){if(V.tokenize==h||V.tokenize==w)return null;if(V.tokenize!=m)return 0;var Xe=ee&&ee.charAt(0),Ye=V.lexical,Ut;if(!/^\s*else\b/.test(ee))for(var Br=V.cc.length-1;Br>=0;--Br){var In=V.cc[Br];if(In==ne)Ye=Ye.prev;else if(In!=mr&&In!=O)break}for(;(Ye.type=="stat"||Ye.type=="form")&&(Xe=="}"||(Ut=V.cc[V.cc.length-1])&&(Ut==be||Ut==we)&&!/^[,\.=+\-*:?[\(]/.test(ee));)Ye=Ye.prev;e&&Ye.type==")"&&Ye.prev.type=="stat"&&(Ye=Ye.prev);var Pn=Ye.type,is=Xe==Pn;return Pn=="vardef"?Ye.indented+(V.lastType=="operator"||V.lastType==","?Ye.info.length+1:0):Pn=="form"&&Xe=="{"?Ye.indented:Pn=="form"?Ye.indented+Ie.unit:Pn=="stat"?Ye.indented+(Df(V,ee)?e||Ie.unit:0):Ye.info=="switch"&&!is&&r.doubleIndentSwitch!=!1?Ye.indented+(/^(?:case|default)\b/.test(ee)?Ie.unit:2*Ie.unit):Ye.align?Ye.column+(is?0:1):Ye.indented+(is?0:Ie.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:n?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}var Lf=Um({name:"javascript"}),foe=Um({name:"json",json:!0}),poe=Um({name:"json",jsonld:!0}),moe=Um({name:"typescript",typescript:!0});var H7=["true","false","on","off","yes","no"],G7=new RegExp("\\b(("+H7.join(")|(")+"))$","i"),Uf={name:"yaml",token:function(r,e){var t=r.peek(),n=e.escaped;if(e.escaped=!1,t=="#"&&(r.pos==0||/\s/.test(r.string.charAt(r.pos-1))))return r.skipToEnd(),"comment";if(r.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(e.literal&&r.indentation()>e.keyCol)return r.skipToEnd(),"string";if(e.literal&&(e.literal=!1),r.sol()){if(e.keyCol=0,e.pair=!1,e.pairStart=!1,r.match("---")||r.match("..."))return"def";if(r.match(/^\s*-\s+/))return"meta"}if(r.match(/^(\{|\}|\[|\])/))return t=="{"?e.inlinePairs++:t=="}"?e.inlinePairs--:t=="["?e.inlineList++:e.inlineList--,"meta";if(e.inlineList>0&&!n&&t==",")return r.next(),"meta";if(e.inlinePairs>0&&!n&&t==",")return e.keyCol=0,e.pair=!1,e.pairStart=!1,r.next(),"meta";if(e.pairStart){if(r.match(/^\s*(\||\>)\s*/))return e.literal=!0,"meta";if(r.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(e.inlinePairs==0&&r.match(/^\s*-?[0-9\.\,]+\s?$/)||e.inlinePairs>0&&r.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(r.match(G7))return"keyword"}return!e.pair&&r.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(e.pair=!0,e.keyCol=r.indentation(),"atom"):e.pair&&r.match(/^:\s*/)?(e.pairStart=!0,"meta"):(e.pairStart=!1,e.escaped=t=="\\",r.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}};var rc=class{constructor(e,t){this.range=e,this.tokenClass=t}};var Xy=$r(Ji());var $t=class r{static sequence(...e){return Xy.P.sequenceMap((...t)=>t.flat(2).filter(n=>n!==void 0),...e)}static separateBy(e,t){return r.sequence(e,r.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((n,i)=>[new rc(i,t)])}static highlightStr(e,t){return r.highlight(Xy.P.string(e),t)}};var ms=class{constructor(e,t,n){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=n}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new rc({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};function WD(r){if(!r.settings.enableSyntaxHighlighting)return;window.CodeMirror.defineMode("meta-bind-button",t=>({startState:()=>Uf.startState?.(4),blankLine:i=>Uf.blankLine?.(i,4),copyState:i=>Uf.startState?.(4),token:(i,a)=>`line-HyperMD-codeblock ${Uf.token?.(i,a)}`})),window.CodeMirror.defineMode("meta-bind-js-view",t=>({startState:()=>Lf.startState?.(4),blankLine:i=>Lf.blankLine?.(i,4),copyState:i=>Lf.startState?.(4),token:(i,a)=>`line-HyperMD-codeblock ${Lf.token?.(i,a)}`}));let e=/^\s*(```+|~~~+)/;window.CodeMirror.defineMode("meta-bind",t=>({startState:()=>({str:void 0,mdrcType:void 0,highlights:void 0,line:1}),token:(i,a)=>{if(a.str===void 0){let l=[i.string],s=1,c=i.lookAhead(s);for(;c!==void 0&&!e.test(c)&&(l.push(c),s+=1,c=i.lookAhead(s),!(s>100)););a.str=l.filter(p=>p.trim()!=="").join(`
`);let f=r.api.isInlineFieldDeclarationAndGetType(a.str.trim());f===void 0?a.highlights=new ms(a.str,[]):(a.fieldType=f,a.highlights=r.api.syntaxHighlighting.highlight(a.str,a.fieldType,!0))}let u=a.highlights.getHighlights().filter(l=>l.range.from.line===a.line).find(l=>l.range.from.column===i.pos+1);return u===void 0?(i.next(),i.eol()&&(a.line+=1),"line-HyperMD-codeblock"):(i.eatWhile(()=>i.pos+1<u.range.to.column)||i.next(),i.eol()&&(a.line+=1),`line-HyperMD-codeblock mb-highlight-${u.tokenClass}`)}}))}var ox=require("@codemirror/language"),Zu=require("@codemirror/view");var mn=class extends Error{},Vf=class extends Error{};var ac=function(r){return this instanceof ac?(this.v=r,this):new ac(r)},K7=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(d,h){a.push([p,m,d,h])>1||u(p,m)})})}function u(p,m){try{l(n[p](m))}catch(d){f(a[0][3],d)}}function l(p){p.value instanceof ac?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},mo;(function(r){r[r.SHORTEST=0]="SHORTEST",r[r.LONGEST=1]="LONGEST",r[r.STRICT_EQUAL=2]="STRICT_EQUAL"})(mo||(mo={}));function*Qy(r,e,...t){if(t.length===0)return;let n=[];for(let i of t)n.push(YD(i));e:for(;;){let i=ZD.map(n,l=>l.next()),a=[],o=!0,u=!1;for(let l of i){let s;l.done?(o=!1,s=e):(u=!0,s=l.value),a.push(s)}if(!o&&u)switch(r){case mo.SHORTEST:break e;case mo.STRICT_EQUAL:throw new Vf("Iterators must have equal lengths")}if(!u)break;yield a}}function Ky(r,e,...t){return K7(this,arguments,function*(){if(t.length===0)return yield ac(void 0);let i=[];for(let a of t)i.push(jD(a));e:for(;;){let a=[];for(let s of i){let c=yield ac(s.next());a.push(c)}let o=[],u=!0,l=!1;for(let s of a){let c;s.done?(u=!1,c=e):(l=!0,c=s.value),o.push(c)}if(!u&&l)switch(r){case mo.SHORTEST:break e;case mo.STRICT_EQUAL:throw new Vf("Iterators must have equal lengths")}if(!l)break;yield yield ac(o)}})}var JD=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}},ds=function(r){return this instanceof ds?(this.v=r,this):new ds(r)},XD=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(d,h){a.push([p,m,d,h])>1||u(p,m)})})}function u(p,m){try{l(n[p](m))}catch(d){f(a[0][3],d)}}function l(p){p.value instanceof ds?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*QD(...r){for(let e of Qy(mo.SHORTEST,void 0,...r))yield e}function KD(...r){return XD(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=JD(Ky(mo.SHORTEST,void 0,...r)),l;l=yield ds(u.next()),t=l.done,!t;){a=l.value,o=!1;try{yield yield ds(a)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield ds(i.call(u)))}finally{if(n)throw n.error}}})}function*eC(...r){for(let e of Qy(mo.STRICT_EQUAL,void 0,...r))yield e}function tC(...r){return XD(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=JD(Ky(mo.STRICT_EQUAL,void 0,...r)),l;l=yield ds(u.next()),t=l.done,!t;){a=l.value,o=!1;try{yield yield ds(a)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield ds(i.call(u)))}finally{if(n)throw n.error}}})}var rC=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{s(n.next(c))}catch(f){o(f)}}function l(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(u,l)}s((n=n.apply(r,e||[])).next())})},ez=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}};function tz(r,e,t){let n=t;for(let i of Or(r))n=e(n,i);return n}function rz(r,e,t){var n,i,a,o;return rC(this,void 0,void 0,function*(){let u=t;try{for(var l=!0,s=ez(Rr(r)),c;c=yield s.next(),n=c.done,!n;){o=c.value,l=!1;try{u=yield e(u,o)}finally{l=!0}}}catch(f){i={error:f}}finally{try{!l&&!n&&(a=s.return)&&(yield a.call(s))}finally{if(i)throw i.error}}return u})}function ex(r){switch(!0){case r instanceof Array:return r.length;case Bo(r):return r.length;case r instanceof Set:return r.size;case r instanceof Map:return r.size}return tz(r,e=>e+1,0)}function nC(r){return rC(this,void 0,void 0,function*(){switch(!0){case r instanceof Array:case Bo(r):case r instanceof Set:case r instanceof Map:return ex(r)}return yield rz(r,e=>e+1,0)})}var ho=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{s(n.next(c))}catch(f){o(f)}}function l(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(u,l)}s((n=n.apply(r,e||[])).next())})},hs=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}};function iC(r,e){for(let t of Or(r))if(!e(t))return!1;return!0}function aC(r,e){var t,n,i,a;return ho(this,void 0,void 0,function*(){try{for(var o=!0,u=hs(Rr(r)),l;l=yield u.next(),t=l.done,!t;){a=l.value,o=!1;try{if(!(yield e(a)))return!1}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!0})}function oC(r){let e=new Set;for(let t of Or(r)){if(e.has(t))return!1;e.add(t)}return!0}function sC(r){var e,t,n,i;return ho(this,void 0,void 0,function*(){let a=new Set;try{for(var o=!0,u=hs(Rr(r)),l;l=yield u.next(),e=l.done,!e;){i=l.value,o=!1;try{let s=i;if(a.has(s))return!1;a.add(s)}finally{o=!0}}}catch(s){t={error:s}}finally{try{!o&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(t)throw t.error}}return!0})}function uC(r,e){for(let t of Or(r))if(e(t))return!0;return!1}function lC(r,e){var t,n,i,a;return ho(this,void 0,void 0,function*(){try{for(var o=!0,u=hs(Rr(r)),l;l=yield u.next(),t=l.done,!t;){a=l.value,o=!1;try{if(yield e(a))return!0}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!1})}function cC(r,e,t){if(e<0)return!1;t===void 0&&(t=i=>!!i);let n=0;for(let i of Or(r))if(t(i)&&(n++,n>e))return!1;return n===e}function fC(r,e,t){var n,i,a,o;return ho(this,void 0,void 0,function*(){if(e<0)return!1;t===void 0&&(t=f=>!!f);let u=0;try{for(var l=!0,s=hs(Rr(r)),c;c=yield s.next(),n=c.done,!n;){o=c.value,l=!1;try{if((yield t(o))&&(u++,u>e))return!1}finally{l=!0}}}catch(f){i={error:f}}finally{try{!l&&!n&&(a=s.return)&&(yield a.call(s))}finally{if(i)throw i.error}}return u===e})}function pC(r){for(let e of Or(r))return!1;return!0}function mC(r){var e,t,n,i;return ho(this,void 0,void 0,function*(){try{for(var a=!0,o=hs(Rr(r)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let l=i;return!1}finally{a=!0}}}catch(l){t={error:l}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function Xi(r){return r==null?!1:typeof r[Symbol.iterator]=="function"}function gs(r){return r==null?!1:typeof r[Symbol.asyncIterator]=="function"}function Ua(r){return r==null?!1:r.next!==void 0&&typeof r.next=="function"}function dC(r){for(let[e,t]of ju(Or(r)))if(e<t)return!1;return!0}function hC(r){var e,t,n,i;return ho(this,void 0,void 0,function*(){try{for(var a=!0,o=hs(zf(Rr(r))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[l,s]=i;if(l<s)return!1}finally{a=!0}}}catch(l){t={error:l}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function gC(r){for(let[e,t]of ju(Or(r)))if(e>t)return!1;return!0}function vC(r){var e,t,n,i;return ho(this,void 0,void 0,function*(){try{for(var a=!0,o=hs(zf(Rr(r))),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let[l,s]=i;if(l>s)return!1}finally{a=!0}}}catch(l){t={error:l}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function Bo(r){return typeof r=="string"||r instanceof String}function yC(r,e){for(let t of Or(r))if(e(t))return!1;return!0}function xC(r,e){var t,n,i,a;return ho(this,void 0,void 0,function*(){try{for(var o=!0,u=hs(Rr(r)),l;l=yield u.next(),t=l.done,!t;){a=l.value,o=!1;try{if(yield e(a))return!1}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield i.call(u))}finally{if(n)throw n.error}}return!0})}function bC(...r){try{for(let e of eC(...r))for(let[t,n]of ju(e))if(t!==n)return!1}catch{return!1}return!0}function wC(...r){var e,t,n,i;return ho(this,void 0,void 0,function*(){try{try{for(var a=!0,o=hs(tC(...r)),u;u=yield o.next(),e=u.done,!e;){i=u.value,a=!1;try{let l=i;for(let[s,c]of ju(l))if(s!==c)return!1}finally{a=!0}}}catch(l){t={error:l}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}}catch{return!1}return!0})}function _C(...r){if(r.length<=1)return!0;let e=r.map(t=>ex(t));return new Set(e).size===1}function SC(...r){return ho(this,void 0,void 0,function*(){if(r.length<=1)return!0;let e=yield Jm(r,t=>ho(this,void 0,void 0,function*(){return yield nC(t)}));return new Set(yield qf(e)).size===1})}var nz=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function u(c){try{s(n.next(c))}catch(f){o(f)}}function l(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(u,l)}s((n=n.apply(r,e||[])).next())})},ko=function(r){return this instanceof ko?(this.v=r,this):new ko(r)},tx=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(d,h){a.push([p,m,d,h])>1||u(p,m)})})}function u(p,m){try{l(n[p](m))}catch(d){f(a[0][3],d)}}function l(p){p.value instanceof ko?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}},AC=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}};function Or(r){if(Xi(r))return r;if(Ua(r))return{[Symbol.iterator](){return r}};if(typeof r=="object"&&r!==null)return function*(){for(let e in r)Object.prototype.hasOwnProperty.call(r,e)&&(yield[e,r[e]])}();throw new mn("Given collection is not iterable or iterator.")}function Rr(r){if(gs(r))return r;if(Ua(r))return{[Symbol.asyncIterator](){return tx(this,arguments,function*(){for(;;){let t=yield ko(r.next());if(t.done)return yield ko(void 0);yield yield ko(t.value)}})}};if(typeof r=="object"&&r!==null&&(r=Or(r)),Xi(r))return{[Symbol.asyncIterator](){return tx(this,arguments,function*(){for(let t of r)yield yield ko(t)})}};throw new mn("Given collection is not async iterable or iterator.")}function YD(r){if(Ua(r))return r;if(Xi(r))return function*(){for(let e of r)yield e}();throw new mn("Given collection is not iterable or iterator.")}function jD(r){if((Ua(r)||Xi(r))&&(r=Rr(r)),gs(r))return function(){return tx(this,arguments,function*(){var e,t,n,i;try{for(var a=!0,o=AC(r),u;u=yield ko(o.next()),e=u.done,!e;){i=u.value,a=!1;try{yield yield ko(i)}finally{a=!0}}}catch(l){t={error:l}}finally{try{!a&&!e&&(n=o.return)&&(yield ko(n.call(o)))}finally{if(t)throw t.error}}})}();throw new mn("Given collection is not iterable or iterator.")}function rx(r){let e=[];for(let t of Or(r))e.push(t);return e}function qf(r){var e,t,n,i;return nz(this,void 0,void 0,function*(){let a=[];try{for(var o=!0,u=AC(Rr(r)),l;l=yield u.next(),e=l.done,!e;){i=l.value,o=!1;try{let s=i;a.push(s)}finally{o=!0}}}catch(s){t={error:s}}finally{try{!o&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(t)throw t.error}}return a})}var Qs=function(r){return this instanceof Qs?(this.v=r,this):new Qs(r)},iz=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}},az=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(d,h){a.push([p,m,d,h])>1||u(p,m)})})}function u(p,m){try{l(n[p](m))}catch(d){f(a[0][3],d)}}function l(p){p.value instanceof Qs?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*nx(r,e){let t=new Set;if(r instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of r){let i=e(n);t.has(i)||(yield n,t.add(i))}}else{e===void 0&&(e=n=>n);for(let n of Or(r)){let i=e(n);t.has(i)||(yield n,t.add(i))}}}function EC(r,e){return az(this,arguments,function*(){var n,i,a,o;let u=new Set;if(r instanceof Map)for(let f of nx(r,e))yield yield Qs(yield Qs(f));else{e===void 0&&(e=f=>f);try{for(var l=!0,s=iz(Rr(r)),c;c=yield Qs(s.next()),n=c.done,!n;){o=c.value,l=!1;try{let f=o,p=e(f);u.has(p)||(yield yield Qs(f),u.add(p))}finally{l=!0}}}catch(f){i={error:f}}finally{try{!l&&!n&&(a=s.return)&&(yield Qs(a.call(s)))}finally{if(i)throw i.error}}}})}var Cn=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(u,l){o=r[a](o),i(u,l,o.done,o.value)})}}function i(a,o,u,l){Promise.resolve(l).then(function(s){a({value:s,done:u})},o)}},tt=function(r){return this instanceof tt?(this.v=r,this):new tt(r)},Gn=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(d,h){a.push([p,m,d,h])>1||u(p,m)})})}function u(p,m){try{l(n[p](m))}catch(d){f(a[0][3],d)}}function l(p){p.value instanceof tt?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){u("next",p)}function c(p){u("throw",p)}function f(p,m){p(m),a.shift(),a.length&&u(a[0][0],a[0][1])}};function*TC(r,e){for(let t of Or(r))yield e(t)}function Jm(r,e){return Gn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,l=Cn(Rr(r)),s;s=yield tt(l.next()),n=s.done,!n;){o=s.value,u=!1;try{yield yield tt(yield tt(e(o)))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=l.return)&&(yield tt(a.call(l)))}finally{if(i)throw i.error}}})}function*MC(r,e){for(let[t,n]of QD(r,e))n&&(yield t)}function DC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,l=Cn(KD(r,e)),s;s=yield tt(l.next()),n=s.done,!n;){o=s.value,u=!1;try{let[c,f]=o;f&&(yield yield tt(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=l.return)&&(yield tt(a.call(l)))}finally{if(i)throw i.error}}})}function*CC(r,e){let t=!0;for(let n of Or(r)){if(t){if(!e(n)){t=!1,yield n;continue}continue}yield n}}function NC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;let u=!0;try{for(var l=!0,s=Cn(Rr(r)),c;c=yield tt(s.next()),n=c.done,!n;){o=c.value,l=!1;try{let f=o;if(u){if(!(yield tt(e(f)))){u=!1,yield yield tt(f);continue}continue}yield yield tt(f)}finally{l=!0}}}catch(f){i={error:f}}finally{try{!l&&!n&&(a=s.return)&&(yield tt(a.call(s)))}finally{if(i)throw i.error}}})}function*FC(r,e){for(let t of Or(r))if(e(t))yield t;else break}function IC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,l=Cn(Rr(r)),s;s=yield tt(l.next()),n=s.done,!n;){o=s.value,u=!1;try{let c=o;if(yield tt(e(c)))yield yield tt(c);else break}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=l.return)&&(yield tt(a.call(l)))}finally{if(i)throw i.error}}})}function*PC(r,e){if(e<0)throw new mn(`Number of repetitions cannot be negative: ${e}`);for(let t=e;t>0;--t)yield r}function BC(r,e){return Gn(this,arguments,function*(){if(e<0)throw new mn(`Number of repetitions cannot be negative: ${e}`);let n=yield tt(r);for(let i=e;i>0;--i)yield yield tt(n)})}function*kC(r,e){for(let t of Or(r)){let n=e(t,e);if(Xi(n))for(let i of Or(n))yield i;else yield n}}function $C(r,e){return Gn(this,arguments,function*(){var n,i,a,o,u,l,s,c;try{for(var f=!0,p=Cn(Rr(r)),m;m=yield tt(p.next()),n=m.done,!n;){o=m.value,f=!1;try{let E=yield tt(e(o,e));if(Xi(E)||gs(E))try{for(var d=!0,h=(l=void 0,Cn(Rr(E))),w;w=yield tt(h.next()),u=w.done,!u;){c=w.value,d=!1;try{yield yield tt(c)}finally{d=!0}}}catch(v){l={error:v}}finally{try{!d&&!u&&(s=h.return)&&(yield tt(s.call(h)))}finally{if(l)throw l.error}}else yield yield tt(E)}finally{f=!0}}}catch(x){i={error:x}}finally{try{!f&&!n&&(a=p.return)&&(yield tt(a.call(p)))}finally{if(i)throw i.error}}})}function*ix(r,e=1/0){if(e<1){for(let t of Or(r))r instanceof Map&&(t=t[1]),yield t;return}for(let t of Or(r))if(r instanceof Map&&(t=t[1]),(Xi(t)||Ua(t))&&!Bo(t))for(let n of ix(t,e-1))yield n;else yield t}function ax(r,e=1/0){return Gn(this,arguments,function*(){var n,i,a,o,u,l,s,c,f,p,m,d;if(e<1){try{for(var h=!0,w=Cn(Rr(r)),x;x=yield tt(w.next()),n=x.done,!n;){o=x.value,h=!1;try{let M=o;r instanceof Map&&(M=M[1]),yield yield tt(M)}finally{h=!0}}}catch(M){i={error:M}}finally{try{!h&&!n&&(a=w.return)&&(yield tt(a.call(w)))}finally{if(i)throw i.error}}return yield tt(void 0)}try{for(var E=!0,v=Cn(Rr(r)),_;_=yield tt(v.next()),u=_.done,!u;){c=_.value,E=!1;try{let M=c;if(r instanceof Map&&(M=M[1]),(gs(M)||Xi(M)||Ua(M))&&!Bo(M))try{for(var A=!0,y=(p=void 0,Cn(ax(M,e-1))),T;T=yield tt(y.next()),f=T.done,!f;){d=T.value,A=!1;try{yield yield tt(d)}finally{A=!0}}}catch(b){p={error:b}}finally{try{!A&&!f&&(m=y.return)&&(yield tt(m.call(y)))}finally{if(p)throw p.error}}else yield yield tt(M)}finally{E=!0}}}catch(M){l={error:M}}finally{try{!E&&!u&&(s=v.return)&&(yield tt(s.call(v)))}finally{if(l)throw l.error}}})}function*OC(r,e){for(let t of Or(r))e(t)&&(yield t)}function RC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,l=Cn(Rr(r)),s;s=yield tt(l.next()),n=s.done,!n;){o=s.value,u=!1;try{let c=o;(yield tt(e(c)))&&(yield yield tt(c))}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=l.return)&&(yield tt(a.call(l)))}finally{if(i)throw i.error}}})}function*Xm(r,e,t,n=!0){if(e<1)throw new mn(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new mn("Overlap size must be less than chunk size");let i=[],a=!1;for(let o of Or(r))a=!1,i.push(o),i.length===e&&(yield i,i=i.slice(e-t),a=!0);!a&&i.length>0&&n&&(yield i)}function Qm(r,e,t,n=!0){return Gn(this,arguments,function*(){var a,o,u,l;if(e<1)throw new mn(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new mn("Overlap size must be less than chunk size");let s=[],c=!1;try{for(var f=!0,p=Cn(Rr(r)),m;m=yield tt(p.next()),a=m.done,!a;){l=m.value,f=!1;try{let d=l;c=!1,s.push(d),s.length===e&&(yield yield tt(s),s=s.slice(e-t),c=!0)}finally{f=!0}}}catch(d){o={error:d}}finally{try{!f&&!a&&(u=p.return)&&(yield tt(u.call(p)))}finally{if(o)throw o.error}}!c&&s.length>0&&n&&(yield yield tt(s))})}function*LC(r,e){for(let t of Xm(r,e,0))yield t}function UC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;try{for(var u=!0,l=Cn(Qm(r,e,0)),s;s=yield tt(l.next()),n=s.done,!n;){o=s.value,u=!1;try{yield yield tt(o)}finally{u=!0}}}catch(c){i={error:c}}finally{try{!u&&!n&&(a=l.return)&&(yield tt(a.call(l)))}finally{if(i)throw i.error}}})}function*ju(r){let e=Xm(r,2,1,!1);for(let t of e)yield t}function zf(r){return Gn(this,arguments,function*(){var t,n,i,a;let o=Qm(r,2,1,!1);try{for(var u=!0,l=Cn(o),s;s=yield tt(l.next()),t=s.done,!t;){a=s.value,u=!1;try{yield yield tt(a)}finally{u=!0}}}catch(c){n={error:c}}finally{try{!u&&!t&&(i=l.return)&&(yield tt(i.call(l)))}finally{if(n)throw n.error}}})}function*VC(r,e){if(e<0)throw new mn(`Limit must be \u2265 0. Got ${e}`);let t=0;for(let n of Or(r)){if(t>=e)return;yield n,++t}}function qC(r,e){return Gn(this,arguments,function*(){var n,i,a,o;if(e<0)throw new mn(`Limit must be \u2265 0. Got ${e}`);let u=0;try{for(var l=!0,s=Cn(Rr(r)),c;c=yield tt(s.next()),n=c.done,!n;){o=c.value,l=!1;try{let f=o;if(u>=e)return yield tt(void 0);yield yield tt(f),++u}finally{l=!0}}}catch(f){i={error:f}}finally{try{!l&&!n&&(a=s.return)&&(yield tt(a.call(s)))}finally{if(i)throw i.error}}})}function*zC(r){let e=0;for(let t of Or(r))yield[e++,t]}function HC(r){return Gn(this,arguments,function*(){var t,n,i,a;let o=0;try{for(var u=!0,l=Cn(Rr(r)),s;s=yield tt(l.next()),t=s.done,!t;){a=s.value,u=!1;try{let c=a;yield yield tt([o++,c])}finally{u=!0}}}catch(c){n={error:c}}finally{try{!u&&!t&&(i=l.return)&&(yield tt(i.call(l)))}finally{if(n)throw n.error}}})}function*GC(r,e=0,t,n=1){if(e<0)throw new mn("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new mn("Parameter 'count' cannot be negative");if(n<=0)throw new mn("Parameter 'step' must be positive");let i=0,a=0;for(let o of Or(r))if(!(i++<e||(i-e-1)%n!==0)){if(a++===t&&t!==void 0)break;yield o}}function WC(r,e=0,t,n=1){return Gn(this,arguments,function*(){var a,o,u,l;if(e<0)throw new mn("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new mn("Parameter 'count' cannot be negative");if(n<=0)throw new mn("Parameter 'step' must be positive");let s=0,c=0;try{for(var f=!0,p=Cn(Rr(r)),m;m=yield tt(p.next()),a=m.done,!a;){l=m.value,f=!1;try{let d=l;if(s++<e||(s-e-1)%n!==0)continue;if(c++===t&&t!==void 0)break;yield yield tt(d)}finally{f=!0}}}catch(d){o={error:d}}finally{try{!f&&!a&&(u=p.return)&&(yield tt(u.call(p)))}finally{if(o)throw o.error}}})}function*YC(r){for(let[e]of Or(r))yield e}function jC(r){return Gn(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=Cn(Rr(r)),l;l=yield tt(u.next()),t=l.done,!t;){a=l.value,o=!1;try{let[s]=a;yield yield tt(s)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield tt(i.call(u)))}finally{if(n)throw n.error}}})}function*ZC(r,e,t=0){if(e<0||t<0)throw new mn;let n=-t;for(let i of Or(r))(n<0||n>=e)&&(yield i),++n}function JC(r,e,t=0){return Gn(this,arguments,function*(){var i,a,o,u;if(e<0||t<0)throw new mn;let l=-t;try{for(var s=!0,c=Cn(Rr(r)),f;f=yield tt(c.next()),i=f.done,!i;){u=f.value,s=!1;try{let p=u;(l<0||l>=e)&&(yield yield tt(p)),++l}finally{s=!0}}}catch(p){a={error:p}}finally{try{!s&&!i&&(o=c.return)&&(yield tt(o.call(c)))}finally{if(a)throw a.error}}})}function*XC(r){for(let[,e]of Or(r))yield e}function QC(r){return Gn(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,u=Cn(Rr(r)),l;l=yield tt(u.next()),t=l.done,!t;){a=l.value,o=!1;try{let[,s]=a;yield yield tt(s)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=u.return)&&(yield tt(i.call(u)))}finally{if(n)throw n.error}}})}function*KC(r,e,t){let n=new Map,i=a=>{n.has(a)||(t!==void 0?n.set(a,{}):n.set(a,[]))};for(let a of Or(r)){let o=e(a),u=t!==void 0?t(a):void 0,l=(Xi(o)||Ua(o))&&!Bo(o)?o:[o];for(let s of nx(l))i(s),u===void 0?n.get(s).push(a):n.get(s)[u]=a}for(let a of n)yield a}function eN(r,e,t){return Gn(this,arguments,function*(){var i,a,o,u,l,s,c,f;let p=new Map,m=_=>{p.has(_)||(t!==void 0?p.set(_,{}):p.set(_,[]))};try{for(var d=!0,h=Cn(Rr(r)),w;w=yield tt(h.next()),i=w.done,!i;){u=w.value,d=!1;try{let _=u,A=yield tt(e(_)),y=t!==void 0?yield tt(t(_)):void 0,T=(gs(A)||Xi(A)||Ua(A))&&!Bo(A)?A:[A];try{for(var x=!0,E=(s=void 0,Cn(EC(T))),v;v=yield tt(E.next()),l=v.done,!l;){f=v.value,x=!1;try{let M=f;m(M),y===void 0?p.get(M).push(_):p.get(M)[y]=_}finally{x=!0}}}catch(M){s={error:M}}finally{try{!x&&!l&&(c=E.return)&&(yield tt(c.call(E)))}finally{if(s)throw s.error}}}finally{d=!0}}}catch(_){a={error:_}}finally{try{!d&&!i&&(o=h.return)&&(yield tt(o.call(h)))}finally{if(a)throw a.error}}for(let _ of p)yield yield tt(_)})}function*tN(r,e){let t=rx(r);e!==void 0?t.sort(e):t.sort();for(let n of t)yield n}function rN(r,e){return Gn(this,arguments,function*(){let n=yield tt(qf(r));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield tt(i)})}var ZD={chunkwise:LC,chunkwiseOverlap:Xm,compress:MC,dropWhile:CC,enumerate:zC,filter:OC,flatMap:kC,flatten:ix,groupBy:KC,keys:YC,limit:VC,map:TC,pairwise:ju,repeat:PC,skip:ZC,slice:GC,sort:tN,takeWhile:FC,values:XC,chunkwiseAsync:UC,chunkwiseOverlapAsync:Qm,compressAsync:DC,dropWhileAsync:NC,enumerateAsync:HC,filterAsync:RC,flatMapAsync:$C,flattenAsync:ax,groupByAsync:eN,keysAsync:jC,limitAsync:qC,mapAsync:Jm,pairwiseAsync:zf,repeatAsync:BC,skipAsync:JC,sliceAsync:WC,sortAsync:rN,takeWhileAsync:IC,valuesAsync:QC};var nN={allMatch:iC,allUnique:oC,anyMatch:uC,exactlyN:cC,isEmpty:pC,isAsyncIterable:gs,isIterable:Xi,isIterator:Ua,isReversed:dC,isSorted:gC,isString:Bo,noneMatch:yC,same:bC,sameCount:_C,allMatchAsync:aC,allUniqueAsync:sC,anyMatchAsync:lC,exactlyNAsync:fC,isEmptyAsync:mC,isReversedAsync:hC,isSortedAsync:vC,noneMatchAsync:xC,sameAsync:wC,sameCountAsync:SC};var Km=require("obsidian");var iN=require("obsidian");var vs=class{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static checkRangeOverlap(e,t,n,i){return e<=i&&n<=t}static getContent(e,t,n){return e.sliceDoc(t,n)}static getCurrentFile(e){return e.state.field(iN.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}static existsDecorationOfTypeBetween(e,t,n,i){let a=!1;return e.between(n,i,(o,u,l)=>{l.spec.mb_widgetType===t&&(a=!0)}),a}};function aN(r){return Zu.ViewPlugin.fromClass(class{constructor(e){this.component=new Km.Component,this.component.load(),this.decorations=this.renderWidgets(e)??Zu.Decoration.none,e.dom.addEventListener("click",t=>this.handleClick(t))}handleClick(e){if(e.target instanceof HTMLElement){let t=e.target;for(;t!==null;){if(t.classList.contains("mb-input")){e.stopPropagation();break}t=t.parentElement}}}isLivePreview(e){return e.field(Km.editorLivePreviewField)}update(e){this.decorations=this.decorations.map(e.changes),this.updateWidgets(e.view)}updateWidgets(e){this.decorations=this.decorations.update({filter:(t,n,i)=>nN.anyMatch(e.visibleRanges,o=>vs.checkRangeOverlap(t,n,o.from,o.to))?!0:(i.spec.mb_unload?.(),!1)});for(let{from:t,to:n}of e.visibleRanges)(0,ox.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,o=this.getRenderInfo(e,a);o.widgetType===void 0||o.content===void 0||(o.shouldRender?(this.removeDecoration(a,"field"),this.addDecoration(a,e,"field",o.content,o.widgetType)):o.shouldHighlight?(this.removeDecoration(a,"highlight"),this.addDecoration(a,e,"highlight",o.content,o.widgetType)):this.removeDecoration(a))}})}removeDecoration(e,t){this.decorations.between(e.from-1,e.to+1,(n,i,a)=>{this.decorations=this.decorations.update({filterFrom:n,filterTo:i,filter:(o,u,l)=>t&&l.spec.mb_widgetType===t?!0:(l.spec.mb_unload?.(),!1)})})}addDecoration(e,t,n,i,a){let o=e.from-1,u=e.to+1;if(vs.existsDecorationOfTypeBetween(this.decorations,n,o,u))return;let l=vs.getCurrentFile(t);if(!l)return;let s=this.renderWidget(e,a,n,i,l),c=Array.isArray(s)?s:[s];c.length!==0&&(this.decorations=this.decorations.update({add:c}))}getRenderInfo(e,t){let n=new Set(t.type.name?.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let i=e.state.selection,a=vs.checkSelectionOverlap(i,t.from-1,t.to+1),o=this.readNode(e,t.from,t.to),u=this.isLivePreview(e.state);return{shouldRender:!a&&u,shouldHighlight:(a||!u)&&r.settings.enableSyntaxHighlighting,content:o.content,widgetType:o.widgetType}}return{shouldRender:!1,shouldHighlight:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=vs.getContent(e.state,t,n);return{content:i,widgetType:r.api.isInlineFieldDeclarationAndGetType(i)}}renderWidgets(e){let t=vs.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,ox.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,u=this.getRenderInfo(e,o);if(!u.widgetType||!u.content)return;let l;u.shouldRender&&(l=this.renderWidget(o,u.widgetType,"field",u.content,t)),u.shouldHighlight&&(l=this.renderWidget(o,u.widgetType,"highlight",u.content,t)),l&&(Array.isArray(l)?n.push(...l):n.push(l))}});return Zu.Decoration.set(n,!0)}renderWidget(e,t,n,i,a){if(n==="field"){let o=r.api.constructMDRCWidget(t,i,a.path,this.component);return Zu.Decoration.replace({widget:o,mb_widgetType:"field",mb_unload:()=>{o.renderChild?.unload()}}).range(e.from-1,e.to+1)}else return r.api.syntaxHighlighting.highlight(i,t,!1).getHighlights().map(u=>Zu.Decoration.mark({class:`mb-highlight-${u.tokenClass}`}).range(e.from+u.range.from.index,e.from+u.range.to.index))}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var Jt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof zn?this.errors.push(e):this.otherError=e,console.warn(e)):(console.trace(""),console.warn("[MB_ERROR_CONTAINER] received invalid error type",e))}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var Hf=$r(ma()),Gf=$r(Ji());var oz=Gf.P.sequenceMap((r,e,t,n)=>{let i=parseInt(r),a=parseInt(e),o=parseInt(t);return new ha(i,a,o,n)},Hf.P_UTILS.digits().skip(Gf.P.string(".")),Hf.P_UTILS.digits().skip(Gf.P.string(".")),Hf.P_UTILS.digits(),Gf.P.string("-").then(Hf.P_UTILS.remaining()).optional()),ha=class r{constructor(e,t,n,i){this.major=e,this.minor=t,this.patch=n,this.prerelease=i}static fromString(e){return Hn(oz,e)}static lessThan(e,t){return e.major<t.major?!0:e.major>t.major?!1:e.minor<t.minor?!0:e.minor>t.minor?!1:e.patch<t.patch?!0:e.patch>t.patch||e.prerelease===void 0?!1:t.prerelease===void 0?!0:e.prerelease<t.prerelease}static greaterThan(e,t){return r.lessThan(t,e)}static equals(e,t){return e.major===t.major&&e.minor===t.minor&&e.patch===t.patch&&e.prerelease===t.prerelease}toString(){return`${this.major}.${this.minor}.${this.patch}${this.prerelease===void 0?"":`-${this.prerelease}`}`}};var ed=class{constructor(e,t){this.plugin=e,this.dependencies=t}getDependency(e){let t=this.dependencies.find(n=>n.pluginId===e);if(t===void 0)throw new Wu({errorLevel:"CRITICAL",effect:"Dependency violation detected",cause:`Attempted to access dependency ${e} which is not a listed dependency. Please report this error.`});return t}getPlugin(e){return this.plugin.app.plugins.getPlugin(e)}throwPluginNotFound(e){throw new Wu({errorLevel:"ERROR",effect:"Dependency violation detected",cause:`Plugin ${e} is required, but not installed. Please install the plugin.`})}checkDependencyVersion(e,t){if(ha.lessThan(t,e.minVersion))throw new Wu({errorLevel:"ERROR",effect:"Dependency violation detected",cause:`Plugin ${e.pluginId} is outdated. Required version is at least ${e.minVersion}, installed version is ${t}. Please update the plugin.`});if(e.maxVersion!==void 0&&(ha.greaterThan(t,e.maxVersion)||ha.equals(t,e.maxVersion)))throw new Wu({errorLevel:"ERROR",effect:"Dependency violation detected",cause:`Plugin ${e.pluginId} is too new. Required version is lower than ${e.maxVersion}, installed version is ${t}. Please downgrade the plugin.`})}checkDependency(e){let t=this.getDependency(e),n=this.getPlugin(e);if(n==null)throw this.throwPluginNotFound(e),Error("unreachable");let i=ha.fromString(n.manifest.version);return this.checkDependencyVersion(t,i),n}checkDependencyOnStartup(e){let t=this.getDependency(e);if(!this.plugin.app.plugins.enabledPlugins.has(e))throw this.throwPluginNotFound(e),Error("unreachable");let n=ha.fromString(this.plugin.app.plugins.manifests[e].version);this.checkDependencyVersion(t,n)}checkDependenciesOnStartup(){let e=new Jt("Dependency Validation");for(let t of this.dependencies)if(t.checkOnStartup)try{this.checkDependencyOnStartup(t.pluginId)}catch(n){e.add(n)}return e.hasErrors()?(this.plugin.internal.openErrorCollectionViewModal({text:"The following errors were detected during dependency validation. The plugin won't load until these errors have been resolved. Please install the required plugins and restart Obsidian.",errorCollection:e}),!0):!1}};var cN=require("obsidian");var oN={date:"date",datePicker:"datePicker",dateTime:"dateTime",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',imageListSuggester:'imageListSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",invalid:""},sx={image:[{title:"Image",declaration:"VIEW[{globalMemory^MB_VF_image_example}][image]",display:"VIEW[{imageExampleProperty}][image]",inputField:'INPUT[imageSuggester(optionQuery("")):globalMemory^MB_VF_image_example]'}],link:[{title:"Link",declaration:"VIEW[{globalMemory^MB_VF_link_example}][link]",display:"VIEW[{linkExampleProperty}][link]",inputField:'INPUT[suggester(optionQuery("")):globalMemory^MB_VF_link_example]'}],math:[{title:"Math",declaration:"VIEW[{globalMemory^MB_VF_math_example} + 2][math]",display:"VIEW[{mathExampleProperty} + 2][math]",inputField:"INPUT[number:globalMemory^MB_VF_math_example]"}],text:[{title:"Text",declaration:"VIEW[some text {globalMemory^MB_VF_text_example}][text]",display:"VIEW[some text {textExampleProperty}][text]",inputField:"INPUT[text:globalMemory^MB_VF_text_example]"},{title:"Markdown",declaration:"VIEW[**some markdown** {globalMemory^MB_VF_text_markdown_example}][text(renderMarkdown)]",display:"VIEW[**some markdown** {markdownExampleProperty}][text(renderMarkdown)]",inputField:"INPUT[text:globalMemory^MB_VF_text_markdown_example]"}],invalid:[]};function sN(r){let e=[];for(let[t,n]of Object.entries(oN)){if(n==="")continue;let i=r.api.inputFieldParser.fromString(`INPUT[${n}]`),a=r.api.inputFieldParser.fromSimpleDeclaration({inputFieldType:void 0,templateName:void 0,bindTarget:void 0,arguments:[{name:"showcase",value:["true"]},{name:"title",value:[t]}]});i=r.api.inputFieldParser.merge(i,a),i.declarationString=`INPUT[${n}]`;let o=r.api.inputFieldParser.validate(i,"",void 0);e.push([t,o])}return e}function uN(r){let e=[];for(let[t,n]of Object.entries(oN)){if(n==="")continue;let i=t,a="";Mm[i].allowInline?a=`\`INPUT[${n}:exampleProperty]\``:a=`
\`\`\`meta-bind
INPUT[${n}:exampleProperty]
\`\`\`
`,e.push([i,a])}return e.sort((t,n)=>t[0].localeCompare(n[0])),e}function lN(r){let e=[];for(let t of Object.values(sx))for(let n of t)e.push([n.title,`\`${n.display}\``]);return e.sort((t,n)=>t[0].localeCompare(n[0])),e}function fN(r,e,t){let n=uN(t),i=lN(t);r.addItem(a=>{a.setTitle("Meta Bind"),a.setIcon("blocks");let o=a.setSubmenu();o.addItem(u=>{u.setTitle("Input Field");let l=u.setSubmenu();for(let[s,c]of n)l.addItem(f=>{f.setTitle(s),f.onClick(()=>td(e,c))})}),o.addItem(u=>{u.setTitle("View Field");let l=u.setSubmenu();for(let[s,c]of i)l.addItem(f=>{f.setTitle(s),f.onClick(()=>td(e,c))})}),o.addItem(u=>{u.setTitle("Inline Button"),u.onClick(()=>{td(e,"`BUTTON[example-id]`")})}),o.addItem(u=>{u.setTitle("Button"),u.onClick(()=>{t.internal.openButtonBuilderModal({onOkay:l=>{td(e,`\`\`\`meta-bind-button
${(0,cN.stringifyYaml)(l)}
\`\`\``)},submitText:"Insert"})})})})}function td(r,e){r.replaceSelection(e)}var r6=require("obsidian");var AN=$r(ma());var vn=$r(ma()),fx=$r(Ji());var gN=$r(ma()),$i=$r(Ji());var Wf=$r(ma()),ga=$r(Ji()),hi=ga.P.sequence(ga.P.or(Wf.P_UTILS.unicodeLetter(),ga.P.oneOf("_$")),ga.P.or(Wf.P_UTILS.unicodeAlphanumeric(),ga.P.oneOf("-_$")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),pN=ga.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),hi,ga.P.sequence(Wf.P_UTILS.optionalWhitespace(),hi).many()).describe("identifier with spaces"),sz=ga.P.string("\\").then(Wf.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function mN(r){return ga.P.or(sz,ga.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(ga.P.string(r))}var rd=mN("'"),dN=mN('"'),oc=ga.P.manyNotOf("{}[]#^|:?").box("file path");function ki(r,e){return{value:r,position:e}}function va(r){if(r!==void 0)return typeof r=="string"?{value:r}:r}var Xu=(t=>(t.OBJECT="object",t.ARRAY="array",t))(Xu||{}),nd=class{constructor(e,t,n){this.parent=e,this.access=t,this.child=n}};function uz(r,e){return r[e]}function hN(r,e,t){r[e]=t}var Ju=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new nd(e,this,uz(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new nd(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");hN(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");hN(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var vN=hi.node((r,e)=>({type:"object",prop:ki(r,e)})),ux=$i.P.or(gN.P_UTILS.digits().wrap($i.P.string("["),$i.P.string("]")).node((r,e)=>({type:"array",prop:ki(r,e)})),dN.wrap($i.P.string("["),$i.P.string("]")).node((r,e)=>({type:"object",prop:ki(r,e)}))),lz=$i.P.or($i.P.sequenceMap(r=>({storagePath:void 0,listenToChildren:!1,storageProp:r}),ux.atLeast(1)),$i.P.sequenceMap((r,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[r,...e]}),vN,ux.many())),cz=$i.P.sequenceMap((r,e)=>[r,...e],vN,ux.many()),lx=$i.P.sequenceMap((r,e)=>(r.storageProp=r.storageProp.concat(e.flat()),r),lz,$i.P.string(".").then(cz).many()),$o=$i.P.sequenceMap((r,e,t)=>(t.storageType=r,t.storagePath=e,t),hi.describe("storage type").node(ki).skip($i.P.string("^").describe('storage type separator "^"')).optional(),oc.describe("storage path").node(ki).skip($i.P.string("#").describe('storage/file path separator "#"')).optional(),lx.describe("property path")).box("bind target");var id=$r(ma()),Oo=$r(Ji());var cx=Oo.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),fz=Oo.P.or(rd,cx).node(ki),pz=Oo.P.separateBy(fz,Oo.P.string(",").describe('argument value separator ","').trim(id.P_UTILS.optionalWhitespace())),mz=Oo.P.sequenceMap((r,e)=>({name:r,value:e}),hi.node(ki),pz.trim(id.P_UTILS.optionalWhitespace()).wrap(Oo.P.string("(").describe('argument value paren "("'),Oo.P.string(")").describe('argument value paren ")"')).optional([])),Yf=Oo.P.separateBy(mz,Oo.P.string(",").describe('argument separator ","').trim(id.P_UTILS.optionalWhitespace()));var Qi=$r(ma()),kn=$r(Ji());var dz=kn.P.string("\\").then(Qi.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),ad=kn.P.sequenceMap((r,e)=>r+e.flat().join(""),kn.P.manyNotOf("{}[]\\"),kn.P.sequence(dz,kn.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),hz=kn.P.sequenceMap((r,e)=>[r,...e.flat()],ad,kn.P.sequence($o.wrapString("{","}"),ad).many()),gz=kn.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},hi.node(ki).trim(Qi.P_UTILS.optionalWhitespace()).optional().describe("input field type"),Yf.trim(Qi.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(Qi.P_UTILS.optionalWhitespace()).optional([]),kn.P.sequence(kn.P.string(":").trim(Qi.P_UTILS.optionalWhitespace()),$o).trim(Qi.P_UTILS.optionalWhitespace()).optional()),yN=kn.P.sequenceMap((r,e,t,n)=>n===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(n.templateDeclaration=e,n),kn.P.string("VIEW"),hz.wrapString("[","]"),Qi.P_UTILS.optionalWhitespace(),gz.wrapString("[","]").optional(),Qi.P_UTILS.eof()),vz=kn.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),$o.wrapString("{","}"),kn.P.string(" and children").optional(),kn.P.string(" as "),hi),xN=kn.P.sequenceMap((r,e,t,n)=>({bindTargetMappings:r,writeToBindTarget:e,hidden:t!==void 0,code:n}),vz.separateBy(Qi.P_UTILS.whitespace()).skip(Qi.P_UTILS.whitespace()),kn.P.string("save to ").then($o.wrapString("{","}")).skip(Qi.P_UTILS.whitespace()).optional(),kn.P.string("hidden").skip(Qi.P_UTILS.whitespace()).optional(),kn.P.string("---").then(Qi.P_UTILS.remaining()));var px=$t.highlight(hi,"ident"),od=$t.highlight(hi,"keyword"),mx=$t.highlightStr(",","control"),sd=$t.highlightStr("(","control"),ud=$t.highlightStr(")","control"),sc=$t.highlightStr("[","control"),uc=$t.highlightStr("]","control"),yz=$t.highlight(rd,"string"),xz=$t.highlight(cx,"ident"),bz=fx.P.or(xz,yz),wz=$t.separateBy(bz,mx.trim(vn.P_UTILS.optionalWhitespace())),_z=$t.sequence(od,$t.sequence(sd,wz.trim(vn.P_UTILS.optionalWhitespace()),ud).optional()),dx=$t.separateBy(_z,mx.trim(vn.P_UTILS.optionalWhitespace())),lc=$t.sequence($t.sequence(px,$t.highlightStr("^","control")).optional(),$t.sequence($t.highlight(oc,"ident"),$t.highlightStr("#","control")).optional(),$t.highlight(lx,"ident")),Sz=$t.sequence(od.trim(vn.P_UTILS.optionalWhitespace()),$t.sequence(sd,dx.trim(vn.P_UTILS.optionalWhitespace()),ud).trim(vn.P_UTILS.optionalWhitespace()).optional(),$t.sequence($t.highlightStr(":","control").trim(vn.P_UTILS.optionalWhitespace()),lc).trim(vn.P_UTILS.optionalWhitespace()).optional()),Az=$t.sequence(od.trim(vn.P_UTILS.optionalWhitespace()).optional(),$t.sequence(sd,dx.trim(vn.P_UTILS.optionalWhitespace()),ud).trim(vn.P_UTILS.optionalWhitespace()).optional(),$t.sequence($t.highlightStr(":","control").trim(vn.P_UTILS.optionalWhitespace()),lc).trim(vn.P_UTILS.optionalWhitespace()).optional()),wN=fx.P.or($t.sequence($t.highlightStr("INPUT","control"),sc,px.trim(vn.P_UTILS.optionalWhitespace()),uc.skip(vn.P_UTILS.optionalWhitespace()),sc,Az,uc),$t.sequence($t.highlightStr("INPUT","control"),sc,Sz,uc)),bN=$t.highlight(ad,"ident"),Ez=$t.sequence($t.highlightStr("{","string"),lc,$t.highlightStr("}","string")),Tz=$t.sequence(bN,$t.sequence(Ez,bN).many()),Mz=$t.sequence(od.trim(vn.P_UTILS.optionalWhitespace()).optional(),$t.sequence(sd,dx.trim(vn.P_UTILS.optionalWhitespace()).optional(),ud).trim(vn.P_UTILS.optionalWhitespace()).optional(),$t.sequence($t.highlightStr(":","control").trim(vn.P_UTILS.optionalWhitespace()),lc).trim(vn.P_UTILS.optionalWhitespace()).optional()),_N=$t.sequence($t.highlightStr("VIEW","control"),sc,Tz,uc,$t.sequence(sc.skip(vn.P_UTILS.optionalWhitespace()),Mz,uc).optional()),SN=$t.sequence($t.highlightStr("BUTTON","control"),sc,$t.separateBy(px,mx.trim(vn.P_UTILS.optionalWhitespace())),uc);var ld=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,wN)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,_N)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,SN)}highlight(e,t,n){if(t==="INPUT")return this.highlightInputFieldDeclaration(e,n);if(t==="VIEW")return this.highlightViewFieldDeclaration(e,n);if(t==="BUTTON_GROUP")return this.highlightInlineButtonDeclaration(e,n);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,lc)}highlightWithParser(e,t,n){try{return t?new ms(e,Hn(n.trim(AN.P_UTILS.optionalWhitespace()).thenEof(),e)):new ms(e,Hn(n.thenEof(),e))}catch(i){return i instanceof $f?new ms(e,[],i):(console.error(i),new ms(e,[]))}}};var yn=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(yn||{}),Ks=(m=>(m.COMMAND="command",m.JS="js",m.OPEN="open",m.INPUT="input",m.SLEEP="sleep",m.TEMPLATER_CREATE_NOTE="templaterCreateNote",m.UPDATE_METADATA="updateMetadata",m.CREATE_NOTE="createNote",m.REPLACE_IN_NOTE="replaceInNote",m.REGEXP_REPLACE_IN_NOTE="regexpReplaceInNote",m.REPLACE_SELF="replaceSelf",m.INSERT_INTO_NOTE="insertIntoNote",m.INLINE_JS="inlineJS",m))(Ks||{});var Tr;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},r.getValidEnumValues=i=>{let a=r.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(let u of a)o[u]=i[u];return r.objectValues(o)},r.objectValues=i=>r.objectKeys(i).map(function(a){return i[a]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},r.find=(i,a)=>{for(let o of i)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Tr||(Tr={}));var gx;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(gx||(gx={}));var pt=Tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eu=r=>{switch(typeof r){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(r)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(r)?pt.array:r===null?pt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?pt.promise:typeof Map<"u"&&r instanceof Map?pt.map:typeof Set<"u"&&r instanceof Set?pt.set:typeof Date<"u"&&r instanceof Date?pt.date:pt.object;default:return pt.unknown}},We=Tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dz=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),ya=class r extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let u=n,l=0;for(;l<o.path.length;){let s=o.path[l];l===o.path.length-1?(u[s]=u[s]||{_errors:[]},u[s]._errors.push(t(o))):u[s]=u[s]||{_errors:[]},u=u[s],l++}}};return i(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};ya.create=r=>new ya(r);var pc=(r,e)=>{let t;switch(r.code){case We.invalid_type:r.received===pt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case We.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Tr.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:t=`Unrecognized key(s) in object: ${Tr.joinValues(r.keys,", ")}`;break;case We.invalid_union:t="Invalid input";break;case We.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Tr.joinValues(r.options)}`;break;case We.invalid_enum_value:t=`Invalid enum value. Expected ${Tr.joinValues(r.options)}, received '${r.received}'`;break;case We.invalid_arguments:t="Invalid function arguments";break;case We.invalid_return_type:t="Invalid function return type";break;case We.invalid_date:t="Invalid date";break;case We.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Tr.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case We.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case We.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case We.custom:t="Invalid input";break;case We.invalid_intersection_types:t="Intersection results could not be merged";break;case We.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case We.not_finite:t="Number must be finite";break;default:t=e.defaultError,Tr.assertNever(r)}return{message:t}},MN=pc;function Cz(r){MN=r}function cd(){return MN}var fd=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,a=[...t,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let u="",l=n.filter(s=>!!s).slice().reverse();for(let s of l)u=s(o,{data:e,defaultError:u}).message;return{...i,path:a,message:u}},Nz=[];function ot(r,e){let t=cd(),n=fd({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===pc?void 0:pc].filter(i=>!!i)});r.common.issues.push(n)}var gi=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return Zt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let i of t){let a=await i.key,o=await i.value;n.push({key:a,value:o})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Zt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},Zt=Object.freeze({status:"aborted"}),fc=r=>({status:"dirty",value:r}),Oi=r=>({status:"valid",value:r}),vx=r=>r.status==="aborted",yx=r=>r.status==="dirty",Jf=r=>r.status==="valid",Xf=r=>typeof Promise<"u"&&r instanceof Promise;function pd(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function DN(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t}var Ct;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(Ct||(Ct={}));var jf,Zf,qa=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},EN=(r,e)=>{if(Jf(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ya(r.common.issues);return this._error=t,this._error}}};function cr(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>{var l,s;let{message:c}=r;return o.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:(l=c??n)!==null&&l!==void 0?l:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(s=c??t)!==null&&s!==void 0?s:u.defaultError}},description:i}}var fr=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return eu(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:eu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gi,ctx:{common:e.parent.common,data:e.data,parsedType:eu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Xf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eu(e)},a=this._parseSync({data:e,path:i.path,parent:i});return EN(i,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eu(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Xf(i)?i:Promise.resolve(i));return EN(n,a)}refine(e,t){let n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),u=()=>a.addIssue({code:We.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new xa({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Va.create(this,this._def)}nullable(){return Lo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this,this._def)}promise(){return nu.create(this,this._def)}or(e){return il.create([this,e],this._def)}and(e){return al.create(this,e,this._def)}transform(e){return new xa({...cr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new cl({...cr(this._def),innerType:this,defaultValue:t,typeName:Ht.ZodDefault})}brand(){return new Qf({typeName:Ht.ZodBranded,type:this,...cr(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new fl({...cr(this._def),innerType:this,catchValue:t,typeName:Ht.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Kf.create(this,e)}readonly(){return pl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Fz=/^c[^\s-]{8,}$/i,Iz=/^[0-9a-z]+$/,Pz=/^[0-9A-HJKMNP-TV-Z]{26}$/,Bz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kz=/^[a-z0-9_-]{21}$/i,$z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",hx,Lz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uz=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Vz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qz=new RegExp(`^${CN}$`);function NN(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function zz(r){return new RegExp(`^${NN(r)}$`)}function FN(r){let e=`${CN}T${NN(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Hz(r,e){return!!((e==="v4"||!e)&&Lz.test(r)||(e==="v6"||!e)&&Uz.test(r))}var tu=class r extends fr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pt.string){let a=this._getOrReturnCtx(e);return ot(a,{code:We.invalid_type,expected:pt.string,received:a.parsedType}),Zt}let n=new gi,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,u=e.data.length<a.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?ot(i,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&ot(i,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Oz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"email",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")hx||(hx=new RegExp(Rz,"u")),hx.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"emoji",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Bz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"uuid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")kz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"nanoid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Fz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Iz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid2",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Pz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ulid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ot(i,{validation:"url",code:We.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"regex",code:We.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?FN(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?qz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?zz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:We.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?$z.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"duration",code:We.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Hz(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ip",code:We.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Vz.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"base64",code:We.invalid_string,message:a.message}),n.dirty()):Tr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:We.invalid_string,...Ct.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ct.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ct.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ct.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Ct.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ct.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ct.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ct.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Ct.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ct.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ct.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ct.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ct.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ct.errToObj(t)})}nonempty(e){return this.min(1,Ct.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};tu.create=r=>{var e;return new tu({checks:[],typeName:Ht.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...cr(r)})};function Gz(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,a=parseInt(r.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var Qu=class r extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pt.number){let a=this._getOrReturnCtx(e);return ot(a,{code:We.invalid_type,expected:pt.number,received:a.parsedType}),Zt}let n,i=new gi;for(let a of this._def.checks)a.kind==="int"?Tr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ot(n,{code:We.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Gz(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ot(n,{code:We.not_finite,message:a.message}),i.dirty()):Tr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ct.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ct.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tr.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Qu.create=r=>new Qu({checks:[],typeName:Ht.ZodNumber,coerce:r?.coerce||!1,...cr(r)});var Ku=class r extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pt.bigint){let a=this._getOrReturnCtx(e);return ot(a,{code:We.invalid_type,expected:pt.bigint,received:a.parsedType}),Zt}let n,i=new gi;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ot(n,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Tr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Ct.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Ku.create=r=>{var e;return new Ku({checks:[],typeName:Ht.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...cr(r)})};var el=class extends fr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pt.boolean){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.boolean,received:n.parsedType}),Zt}return Oi(e.data)}};el.create=r=>new el({typeName:Ht.ZodBoolean,coerce:r?.coerce||!1,...cr(r)});var tl=class r extends fr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pt.date){let a=this._getOrReturnCtx(e);return ot(a,{code:We.invalid_type,expected:pt.date,received:a.parsedType}),Zt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return ot(a,{code:We.invalid_date}),Zt}let n=new gi,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:We.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:We.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Tr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ct.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ct.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};tl.create=r=>new tl({checks:[],coerce:r?.coerce||!1,typeName:Ht.ZodDate,...cr(r)});var mc=class extends fr{_parse(e){if(this._getType(e)!==pt.symbol){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.symbol,received:n.parsedType}),Zt}return Oi(e.data)}};mc.create=r=>new mc({typeName:Ht.ZodSymbol,...cr(r)});var rl=class extends fr{_parse(e){if(this._getType(e)!==pt.undefined){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.undefined,received:n.parsedType}),Zt}return Oi(e.data)}};rl.create=r=>new rl({typeName:Ht.ZodUndefined,...cr(r)});var nl=class extends fr{_parse(e){if(this._getType(e)!==pt.null){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.null,received:n.parsedType}),Zt}return Oi(e.data)}};nl.create=r=>new nl({typeName:Ht.ZodNull,...cr(r)});var ru=class extends fr{constructor(){super(...arguments),this._any=!0}_parse(e){return Oi(e.data)}};ru.create=r=>new ru({typeName:Ht.ZodAny,...cr(r)});var xs=class extends fr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oi(e.data)}};xs.create=r=>new xs({typeName:Ht.ZodUnknown,...cr(r)});var go=class extends fr{_parse(e){let t=this._getOrReturnCtx(e);return ot(t,{code:We.invalid_type,expected:pt.never,received:t.parsedType}),Zt}};go.create=r=>new go({typeName:Ht.ZodNever,...cr(r)});var dc=class extends fr{_parse(e){if(this._getType(e)!==pt.undefined){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.void,received:n.parsedType}),Zt}return Oi(e.data)}};dc.create=r=>new dc({typeName:Ht.ZodVoid,...cr(r)});var bs=class r extends fr{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==pt.array)return ot(t,{code:We.invalid_type,expected:pt.array,received:t.parsedType}),Zt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(o||u)&&(ot(t,{code:o?We.too_big:We.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ot(t,{code:We.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ot(t,{code:We.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,u)=>i.type._parseAsync(new qa(t,o,t.path,u)))).then(o=>gi.mergeArray(n,o));let a=[...t.data].map((o,u)=>i.type._parseSync(new qa(t,o,t.path,u)));return gi.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:Ct.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:Ct.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:Ct.toString(t)}})}nonempty(e){return this.min(1,e)}};bs.create=(r,e)=>new bs({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...cr(e)});function cc(r){if(r instanceof Ki){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Va.create(cc(n))}return new Ki({...r._def,shape:()=>e})}else return r instanceof bs?new bs({...r._def,type:cc(r.element)}):r instanceof Va?Va.create(cc(r.unwrap())):r instanceof Lo?Lo.create(cc(r.unwrap())):r instanceof Ro?Ro.create(r.items.map(e=>cc(e))):r}var Ki=class r extends fr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Tr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==pt.object){let s=this._getOrReturnCtx(e);return ot(s,{code:We.invalid_type,expected:pt.object,received:s.parsedType}),Zt}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof go&&this._def.unknownKeys==="strip"))for(let s in i.data)o.includes(s)||u.push(s);let l=[];for(let s of o){let c=a[s],f=i.data[s];l.push({key:{status:"valid",value:s},value:c._parse(new qa(i,f,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof go){let s=this._def.unknownKeys;if(s==="passthrough")for(let c of u)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(s==="strict")u.length>0&&(ot(i,{code:We.unrecognized_keys,keys:u}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let c of u){let f=i.data[c];l.push({key:{status:"valid",value:c},value:s._parse(new qa(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let s=[];for(let c of l){let f=await c.key,p=await c.value;s.push({key:f,value:p,alwaysSet:c.alwaysSet})}return s}).then(s=>gi.mergeObjectSync(n,s)):gi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ct.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,a,o,u;let l=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=Ct.errToObj(e).message)!==null&&u!==void 0?u:l}:{message:l}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return Tr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return Tr.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return cc(this)}partial(e){let t={};return Tr.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return Tr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Va;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return IN(Tr.objectKeys(this.shape))}};Ki.create=(r,e)=>new Ki({shape:()=>r,unknownKeys:"strip",catchall:go.create(),typeName:Ht.ZodObject,...cr(e)});Ki.strictCreate=(r,e)=>new Ki({shape:()=>r,unknownKeys:"strict",catchall:go.create(),typeName:Ht.ZodObject,...cr(e)});Ki.lazycreate=(r,e)=>new Ki({shape:r,unknownKeys:"strip",catchall:go.create(),typeName:Ht.ZodObject,...cr(e)});var il=class extends fr{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(a){for(let u of a)if(u.result.status==="valid")return u.result;for(let u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let o=a.map(u=>new ya(u.ctx.common.issues));return ot(t,{code:We.invalid_union,unionErrors:o}),Zt}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let l of n){let s={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:s});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:s}),s.common.issues.length&&o.push(s.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let u=o.map(l=>new ya(l));return ot(t,{code:We.invalid_union,unionErrors:u}),Zt}}get options(){return this._def.options}};il.create=(r,e)=>new il({options:r,typeName:Ht.ZodUnion,...cr(e)});var ys=r=>r instanceof ol?ys(r.schema):r instanceof xa?ys(r.innerType()):r instanceof sl?[r.value]:r instanceof ul?r.options:r instanceof ll?Tr.objectValues(r.enum):r instanceof cl?ys(r._def.innerType):r instanceof rl?[void 0]:r instanceof nl?[null]:r instanceof Va?[void 0,...ys(r.unwrap())]:r instanceof Lo?[null,...ys(r.unwrap())]:r instanceof Qf||r instanceof pl?ys(r.unwrap()):r instanceof fl?ys(r._def.innerType):[],md=class r extends fr{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.object)return ot(t,{code:We.invalid_type,expected:pt.object,received:t.parsedType}),Zt;let n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ot(t,{code:We.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Zt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let a of t){let o=ys(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of o){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,a)}}return new r({typeName:Ht.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...cr(n)})}};function xx(r,e){let t=eu(r),n=eu(e);if(r===e)return{valid:!0,data:r};if(t===pt.object&&n===pt.object){let i=Tr.objectKeys(e),a=Tr.objectKeys(r).filter(u=>i.indexOf(u)!==-1),o={...r,...e};for(let u of a){let l=xx(r[u],e[u]);if(!l.valid)return{valid:!1};o[u]=l.data}return{valid:!0,data:o}}else if(t===pt.array&&n===pt.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=r[a],u=e[a],l=xx(o,u);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===pt.date&&n===pt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var al=class extends fr{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(vx(a)||vx(o))return Zt;let u=xx(a.value,o.value);return u.valid?((yx(a)||yx(o))&&t.dirty(),{status:t.value,value:u.data}):(ot(n,{code:We.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};al.create=(r,e,t)=>new al({left:r,right:e,typeName:Ht.ZodIntersection,...cr(t)});var Ro=class r extends fr{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.array)return ot(n,{code:We.invalid_type,expected:pt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return ot(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new qa(n,o,n.path,u)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>gi.mergeArray(t,o)):gi.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};Ro.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:r,typeName:Ht.ZodTuple,rest:null,...cr(e)})};var dd=class r extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.object)return ot(n,{code:We.invalid_type,expected:pt.object,received:n.parsedType}),Zt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let u in n.data)i.push({key:a._parse(new qa(n,u,n.path,u)),value:o._parse(new qa(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?gi.mergeObjectAsync(t,i):gi.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof fr?new r({keyType:e,valueType:t,typeName:Ht.ZodRecord,...cr(n)}):new r({keyType:tu.create(),valueType:e,typeName:Ht.ZodRecord,...cr(t)})}},hc=class extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.map)return ot(n,{code:We.invalid_type,expected:pt.map,received:n.parsedType}),Zt;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([u,l],s)=>({key:i._parse(new qa(n,u,n.path,[s,"key"])),value:a._parse(new qa(n,l,n.path,[s,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of o){let s=await l.key,c=await l.value;if(s.status==="aborted"||c.status==="aborted")return Zt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(s.value,c.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let l of o){let s=l.key,c=l.value;if(s.status==="aborted"||c.status==="aborted")return Zt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(s.value,c.value)}return{status:t.value,value:u}}}};hc.create=(r,e,t)=>new hc({valueType:e,keyType:r,typeName:Ht.ZodMap,...cr(t)});var gc=class r extends fr{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.set)return ot(n,{code:We.invalid_type,expected:pt.set,received:n.parsedType}),Zt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ot(n,{code:We.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ot(n,{code:We.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(l){let s=new Set;for(let c of l){if(c.status==="aborted")return Zt;c.status==="dirty"&&t.dirty(),s.add(c.value)}return{status:t.value,value:s}}let u=[...n.data.values()].map((l,s)=>a._parse(new qa(n,l,n.path,s)));return n.common.async?Promise.all(u).then(l=>o(l)):o(u)}min(e,t){return new r({...this._def,minSize:{value:e,message:Ct.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:Ct.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};gc.create=(r,e)=>new gc({valueType:r,minSize:null,maxSize:null,typeName:Ht.ZodSet,...cr(e)});var hd=class r extends fr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.function)return ot(t,{code:We.invalid_type,expected:pt.function,received:t.parsedType}),Zt;function n(u,l){return fd({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cd(),pc].filter(s=>!!s),issueData:{code:We.invalid_arguments,argumentsError:l}})}function i(u,l){return fd({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cd(),pc].filter(s=>!!s),issueData:{code:We.invalid_return_type,returnTypeError:l}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof nu){let u=this;return Oi(async function(...l){let s=new ya([]),c=await u._def.args.parseAsync(l,a).catch(m=>{throw s.addIssue(n(l,m)),s}),f=await Reflect.apply(o,this,c);return await u._def.returns._def.type.parseAsync(f,a).catch(m=>{throw s.addIssue(i(f,m)),s})})}else{let u=this;return Oi(function(...l){let s=u._def.args.safeParse(l,a);if(!s.success)throw new ya([n(l,s.error)]);let c=Reflect.apply(o,this,s.data),f=u._def.returns.safeParse(c,a);if(!f.success)throw new ya([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:Ro.create(e).rest(xs.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||Ro.create([]).rest(xs.create()),returns:t||xs.create(),typeName:Ht.ZodFunction,...cr(n)})}},ol=class extends fr{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};ol.create=(r,e)=>new ol({getter:r,typeName:Ht.ZodLazy,...cr(e)});var sl=class extends fr{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ot(t,{received:t.data,code:We.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:e.data}}get value(){return this._def.value}};sl.create=(r,e)=>new sl({value:r,typeName:Ht.ZodLiteral,...cr(e)});function IN(r,e){return new ul({values:r,typeName:Ht.ZodEnum,...cr(e)})}var ul=class r extends fr{constructor(){super(...arguments),jf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return ot(t,{expected:Tr.joinValues(n),received:t.parsedType,code:We.invalid_type}),Zt}if(pd(this,jf,"f")||DN(this,jf,new Set(this._def.values),"f"),!pd(this,jf,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return ot(t,{received:t.data,code:We.invalid_enum_value,options:n}),Zt}return Oi(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};jf=new WeakMap;ul.create=IN;var ll=class extends fr{constructor(){super(...arguments),Zf.set(this,void 0)}_parse(e){let t=Tr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==pt.string&&n.parsedType!==pt.number){let i=Tr.objectValues(t);return ot(n,{expected:Tr.joinValues(i),received:n.parsedType,code:We.invalid_type}),Zt}if(pd(this,Zf,"f")||DN(this,Zf,new Set(Tr.getValidEnumValues(this._def.values)),"f"),!pd(this,Zf,"f").has(e.data)){let i=Tr.objectValues(t);return ot(n,{received:n.data,code:We.invalid_enum_value,options:i}),Zt}return Oi(e.data)}get enum(){return this._def.values}};Zf=new WeakMap;ll.create=(r,e)=>new ll({values:r,typeName:Ht.ZodNativeEnum,...cr(e)});var nu=class extends fr{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pt.promise&&t.common.async===!1)return ot(t,{code:We.invalid_type,expected:pt.promise,received:t.parsedType}),Zt;let n=t.parsedType===pt.promise?t.data:Promise.resolve(t.data);return Oi(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};nu.create=(r,e)=>new nu({type:r,typeName:Ht.ZodPromise,...cr(e)});var xa=class extends fr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{ot(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async u=>{if(t.value==="aborted")return Zt;let l=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return l.status==="aborted"?Zt:l.status==="dirty"||t.value==="dirty"?fc(l.value):l});{if(t.value==="aborted")return Zt;let u=this._def.schema._parseSync({data:o,path:n.path,parent:n});return u.status==="aborted"?Zt:u.status==="dirty"||t.value==="dirty"?fc(u.value):u}}if(i.type==="refinement"){let o=u=>{let l=i.refinement(u,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Zt:(u.status==="dirty"&&t.dirty(),o(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Zt:(u.status==="dirty"&&t.dirty(),o(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jf(o))return o;let u=i.transform(o.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Jf(o)?Promise.resolve(i.transform(o.value,a)).then(u=>({status:t.value,value:u})):o);Tr.assertNever(i)}};xa.create=(r,e,t)=>new xa({schema:r,typeName:Ht.ZodEffects,effect:e,...cr(t)});xa.createWithPreprocess=(r,e,t)=>new xa({schema:e,effect:{type:"preprocess",transform:r},typeName:Ht.ZodEffects,...cr(t)});var Va=class extends fr{_parse(e){return this._getType(e)===pt.undefined?Oi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Va.create=(r,e)=>new Va({innerType:r,typeName:Ht.ZodOptional,...cr(e)});var Lo=class extends fr{_parse(e){return this._getType(e)===pt.null?Oi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Lo.create=(r,e)=>new Lo({innerType:r,typeName:Ht.ZodNullable,...cr(e)});var cl=class extends fr{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===pt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};cl.create=(r,e)=>new cl({innerType:r,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...cr(e)});var fl=class extends fr{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xf(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ya(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ya(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};fl.create=(r,e)=>new fl({innerType:r,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...cr(e)});var vc=class extends fr{_parse(e){if(this._getType(e)!==pt.nan){let n=this._getOrReturnCtx(e);return ot(n,{code:We.invalid_type,expected:pt.nan,received:n.parsedType}),Zt}return{status:"valid",value:e.data}}};vc.create=r=>new vc({typeName:Ht.ZodNaN,...cr(r)});var Wz=Symbol("zod_brand"),Qf=class extends fr{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Kf=class r extends fr{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Zt:a.status==="dirty"?(t.dirty(),fc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Zt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:Ht.ZodPipeline})}},pl=class extends fr{_parse(e){let t=this._def.innerType._parse(e),n=i=>(Jf(i)&&(i.value=Object.freeze(i.value)),i);return Xf(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}};pl.create=(r,e)=>new pl({innerType:r,typeName:Ht.ZodReadonly,...cr(e)});function PN(r,e={},t){return r?ru.create().superRefine((n,i)=>{var a,o;if(!r(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(a=u.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,s=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...s,fatal:l})}}):ru.create()}var Yz={object:Ki.lazycreate},Ht;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));var jz=(r,e={message:`Input not instance of ${r.name}`})=>PN(t=>t instanceof r,e),BN=tu.create,kN=Qu.create,Zz=vc.create,Jz=Ku.create,$N=el.create,Xz=tl.create,Qz=mc.create,Kz=rl.create,eH=nl.create,tH=ru.create,rH=xs.create,nH=go.create,iH=dc.create,aH=bs.create,oH=Ki.create,sH=Ki.strictCreate,uH=il.create,lH=md.create,cH=al.create,fH=Ro.create,pH=dd.create,mH=hc.create,dH=gc.create,hH=hd.create,gH=ol.create,vH=sl.create,yH=ul.create,xH=ll.create,bH=nu.create,TN=xa.create,wH=Va.create,_H=Lo.create,SH=xa.createWithPreprocess,AH=Kf.create,EH=()=>BN().optional(),TH=()=>kN().optional(),MH=()=>$N().optional(),DH={string:r=>tu.create({...r,coerce:!0}),number:r=>Qu.create({...r,coerce:!0}),boolean:r=>el.create({...r,coerce:!0}),bigint:r=>Ku.create({...r,coerce:!0}),date:r=>tl.create({...r,coerce:!0})},CH=Zt,he=Object.freeze({__proto__:null,defaultErrorMap:pc,setErrorMap:Cz,getErrorMap:cd,makeIssue:fd,EMPTY_PATH:Nz,addIssueToContext:ot,ParseStatus:gi,INVALID:Zt,DIRTY:fc,OK:Oi,isAborted:vx,isDirty:yx,isValid:Jf,isAsync:Xf,get util(){return Tr},get objectUtil(){return gx},ZodParsedType:pt,getParsedType:eu,ZodType:fr,datetimeRegex:FN,ZodString:tu,ZodNumber:Qu,ZodBigInt:Ku,ZodBoolean:el,ZodDate:tl,ZodSymbol:mc,ZodUndefined:rl,ZodNull:nl,ZodAny:ru,ZodUnknown:xs,ZodNever:go,ZodVoid:dc,ZodArray:bs,ZodObject:Ki,ZodUnion:il,ZodDiscriminatedUnion:md,ZodIntersection:al,ZodTuple:Ro,ZodRecord:dd,ZodMap:hc,ZodSet:gc,ZodFunction:hd,ZodLazy:ol,ZodLiteral:sl,ZodEnum:ul,ZodNativeEnum:ll,ZodPromise:nu,ZodEffects:xa,ZodTransformer:xa,ZodOptional:Va,ZodNullable:Lo,ZodDefault:cl,ZodCatch:fl,ZodNaN:vc,BRAND:Wz,ZodBranded:Qf,ZodPipeline:Kf,ZodReadonly:pl,custom:PN,Schema:fr,ZodSchema:fr,late:Yz,get ZodFirstPartyTypeKind(){return Ht},coerce:DH,any:tH,array:aH,bigint:Jz,boolean:$N,date:Xz,discriminatedUnion:lH,effect:TN,enum:yH,function:hH,instanceof:jz,intersection:cH,lazy:gH,literal:vH,map:mH,nan:Zz,nativeEnum:xH,never:nH,null:eH,nullable:_H,number:kN,object:oH,oboolean:MH,onumber:TH,optional:wH,ostring:EH,pipeline:AH,preprocess:SH,promise:bH,record:pH,set:dH,strictObject:sH,string:BN,symbol:Qz,transformer:TN,tuple:fH,undefined:Kz,union:uH,unknown:rH,void:iH,NEVER:CH,ZodIssueCode:We,quotelessJson:Dz,ZodError:ya});function LN(r,e){return(t,n)=>t[r]===void 0==(t[e]===void 0)?(n.addIssue({code:he.ZodIssueCode.custom,message:`Either ${r} or ${e} must be used, but not both.`}),!1):!0}function Ot(){return function(r){return r}}function un(r,e){let t=r.safeParse(e);if(!t.success)throw new zt({errorLevel:"CRITICAL",effect:"Failed to run function due to invalid arguments. Check that the arguments that you are passing to the function match the type definition of the function.",cause:t.error})}function UN(r,e){return r.safeParse(e,{errorMap:IH})}var ON=["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth"],RN=["twent","thirt","fort","fift","sixt","sevent","eight","ninet"];function FH(r){return r<20?ON[r]:r%10===0?RN[Math.floor(r/10)-2]+"ieth":RN[Math.floor(r/10)-2]+"y-"+ON[r%10]}var IH=(r,e)=>({message:`At '${r.path.map(n=>typeof n=="string"?n:FH(n+1)+" element").join(" > ")}'. ${e.defaultError}`});function gd(r,e,t){return he.number({required_error:`The ${r} action requires a specified ${t} with the '${e}' field.`,invalid_type_error:`The ${r} action requires the value of the '${e}' fields to be a number.`})}function ai(r,e,t){return he.string({required_error:`The ${r} action requires a specified ${t} with the '${e}' field.`,invalid_type_error:`The ${r} action requires the value of the '${e}' fields to be a string.`})}function ws(r,e,t){return he.boolean({required_error:`The ${r} action requires a specified ${t} with the '${e}' field.`,invalid_type_error:`The ${r} action requires the value of the '${e}' fields to be a boolean.`})}var PH=Ot()(he.object({type:he.literal("command"),command:ai("command","command","command to run")})),BH=Ot()(he.object({type:he.literal("js"),file:ai("js","file","file path to the file to run"),args:he.record(he.unknown()).optional()})),kH=Ot()(he.object({type:he.literal("open"),link:ai("open","link","link to open"),newTab:ws("open","newTab","").optional()})),$H=Ot()(he.object({type:he.literal("input"),str:ai("input","str","value to input")})),OH=Ot()(he.object({type:he.literal("sleep"),ms:gd("sleep","ms","duration")})),RH=Ot()(he.object({type:he.literal("templaterCreateNote"),templateFile:ai("templaterCreateNote","templateFile","template file path"),folderPath:ai("templaterCreateNote","folderPath","folder path").optional(),fileName:ai("templaterCreateNote","fileName","file name").optional(),openNote:ws("templaterCreateNote","openNote","value for whether to open the note").optional(),openIfAlreadyExists:ws("templaterCreateNote","openIfAlreadyExists","value for whether to open the note if it already exists").optional()})),LH=Ot()(he.object({type:he.literal("updateMetadata"),bindTarget:ai("updateMetadata","bindTarget","bind target to the metadata to update"),evaluate:ws("updateMetadata","evaluate","value for whether to evaluate the value as a JavaScript expression"),value:he.coerce.string({required_error:"The updateMetadata action requires a specified value for the update with the 'value' field.",invalid_type_error:"The updateMetadata action requires the value of the 'value' fields to be a string."})})),UH=Ot()(he.object({type:he.literal("createNote"),folderPath:ai("createNote","folderPath","folder path").optional(),fileName:ai("createNote","fileName","file name"),openNote:ws("createNote","openNote","value for whether to open the note").optional(),openIfAlreadyExists:ws("createNote","openIfAlreadyExists","value for whether to open the note if it already exists").optional()})),VH=Ot()(he.object({type:he.literal("replaceInNote"),fromLine:gd("replaceInNote","fromLine","line to replace from"),toLine:gd("replaceInNote","toLine","line to replace to"),replacement:ai("replaceInNote","replacement","replacement string"),templater:ws("replaceInNote","templater","value for whether to use Templater").optional()})),qH=Ot()(he.object({type:he.literal("replaceSelf"),replacement:ai("replaceSelf","replacement","replacement string"),templater:ws("replaceSelf","templater","value for whether to use Templater").optional()})),zH=Ot()(he.object({type:he.literal("regexpReplaceInNote"),regexp:ai("regexpReplaceInNote","regexp","search regular expression"),regexpFlags:ai("regexpReplaceInNote","regexpFlags","regular expression flags string").optional(),replacement:ai("regexpReplaceInNote","replacement","replacement string")})),HH=Ot()(he.object({type:he.literal("insertIntoNote"),line:gd("insertIntoNote","line","line to insert at"),value:ai("insertIntoNote","value","string to insert"),templater:ws("insertIntoNote","templater","value for whether to use Templater").optional()})),GH=Ot()(he.object({type:he.literal("inlineJS"),code:ai("inlineJS","code","code string to run")})),VN=Ot()(he.discriminatedUnion("type",[PH,BH,kH,$H,OH,RH,LH,UH,VH,qH,zH,HH,GH])),WH=he.nativeEnum(yn),yc=Ot()(he.object({label:he.string(),icon:he.string().optional(),style:WH,class:he.string().optional(),tooltip:he.string().optional(),id:he.string().optional(),hidden:he.boolean().optional(),action:VN.optional(),actions:VN.array().optional()}).superRefine(LN("action","actions")));var vi=class{constructor(){this.mounted=!1,this.targetEl=void 0,this.onUnmountCbs=[]}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl);for(let e of this.onUnmountCbs)e();this.targetEl=void 0}registerUnmountCb(e){this.onUnmountCbs.push(e)}};var $n=class extends vi{constructor(e,t,n){super(),this.plugin=e,this.filePath=n,this.uuid=t}getUuid(){return this.uuid}getFilePath(){return this.filePath}onMount(e){this.plugin.mountableManager.registerMountable(this)}onUnmount(e){this.plugin.mountableManager.unregisterMountable(this)}};var xc=class{constructor(e){this.scope=e}};var iu=class r{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let n of this.path.slice(1))t=n.get(t.child);return t}tryGet(e){try{return this.get(e)}catch{return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,t)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,t)),n=n.access.get(n.parent));n.access.set(n.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let n=this.getNextPathElement(e);return n===void 0?t:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new r(this.path.concat(e.path))}compareDiffArray(e){let t=Math.min(this.path.length,e.length);for(let n=0;n<t;n++){let i=this.path[n],a=e[n];if(i.prop!==a.toString())return!1}return!0}};var bc=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=Vr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let t of this.listeners)try{t.callback(e)}catch(n){let i=n instanceof Error?n:String(n);console.error(new zt({errorLevel:"ERROR",effect:"error while calling listener callback",cause:i}))}}},Yr=class extends bc{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},vd=class extends bc{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:n=>this.set(t(n))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var wa=Ot()(he.string()),wc=Ot()(he.nativeEnum(Bi)),ep=Ot()(he.nativeEnum(Xl)),zN=Ot()(he.nativeEnum(Js)),HN=Ot()(he.instanceof(HTMLElement)),_c=Ot()(he.instanceof(xc)),Aue=Ot()(he.instanceof(Yr)),Eue=Ot()(he.function().args().returns(he.void())),Tue=Ot()(he.instanceof($n)),GN=Ot()(he.instanceof(vi)),WN=Ot()(he.instanceof(Zs)),qN=Ot()(he.object({index:he.number(),line:he.number(),column:he.number()})),YH=Ot()(he.object({from:qN,to:qN})),au=Ot()(he.object({value:he.string(),position:YH.optional()})),YN=Ot()(he.object({name:au,value:au.array()})),jH=Ot()(he.object({type:he.nativeEnum(Xu),prop:au})),bx=Ot()(he.object({storageType:au.optional(),storagePath:au.optional(),storageProp:jH.array(),listenToChildren:he.boolean()})),Mue=Ot()(he.object({declarationString:he.string().optional(),inputFieldType:au.optional(),templateName:au.optional(),bindTarget:bx.optional(),arguments:YN.array(),errorCollection:he.instanceof(Jt)})),Due=Ot()(he.object({declarationString:he.string().optional(),templateDeclaration:he.array(he.union([he.string(),bx])).optional(),viewFieldType:au.optional(),arguments:YN.array(),writeToBindTarget:bx.optional(),errorCollection:he.instanceof(Jt)})),ba=Ot()(he.object({storageType:he.string(),storagePath:he.string(),storageProp:he.instanceof(iu),listenToChildren:he.boolean()})),jN=Ot()(he.object({name:he.string(),value:he.string().array()})),Cue=Ot()(he.object({type:he.nativeEnum(Xu),prop:he.string()})),ZN=Ot()(he.object({inputFieldType:zN.optional(),templateName:he.string().optional(),bindTarget:ba.optional(),arguments:jN.array().optional()})),JN=Ot()(he.object({viewFieldType:zN.optional(),templateDeclaration:he.union([he.string(),ba]).array().optional(),arguments:jN.array().optional(),writeToBindTarget:ba.optional()})),ZH=Ot()(he.object({bindTarget:ba,name:he.string()})),JH=Ot()(he.object({bindTargetMappings:ZH.array(),writeToBindTarget:ba.optional(),code:he.string()})),XH=Ot()(he.object({referencedButtonIds:he.string().array()})),XN=Ot()(he.object({renderChildType:wc,declaration:he.union([he.string(),ZN]),scope:_c.optional()})),QN=Ot()(he.object({renderChildType:wc,declaration:he.union([he.string(),JN]),scope:_c.optional()})),KN=Ot()(he.object({declaration:he.union([he.string(),JH])})),eF=Ot()(he.object({bindTarget:ba,tableHead:he.string().array(),columns:he.array(he.union([ZN,JN,he.string()]))})),tF=Ot()(he.object({renderChildType:wc,declaration:he.union([he.string(),XH]),position:WN.optional()})),rF=Ot()(he.object({declaration:he.union([he.string(),yc]),position:WN.optional(),isPreview:he.boolean()})),nF=Ot()(he.object({depth:he.number(),content:he.string()}));var iF=$r(ma()),Ri=$r(Ji());var QH=Ri.P.sequence(oc,Ri.P.string("#").then(Ri.P.manyNotOf("[]#|^:")).optional(),Ri.P.string("|").then(Ri.P.manyNotOf("[]")).optional()),wx=Ri.P.or(Ri.P.sequenceMap((r,e)=>new tp(r!==void 0,e[0],e[1],e[2],!0),Ri.P.string("!").optional(),QH.wrapString("[[","]]")),Ri.P.sequenceMap((r,e,t)=>{let n=!ec(t);return new tp(r!==void 0,t,void 0,e,n)},Ri.P.string("!").optional(),Ri.P.manyNotOf("[]").wrapString("[","]"),Ri.P.manyNotOf("()").wrapString("(",")"))),KH=Ri.P.separateBy(wx,Ri.P.string(",").trim(iF.P_UTILS.optionalWhitespace())),tp=class r{constructor(e,t,n,i,a){this.isEmbed=e,this.target=t,this.block=n,this.alias=i,this.internal=a??!0}static fromUrl(e){return new r(!1,e.href,void 0,e.hostname,!1)}fullTarget(){return this.block?`${this.target}#${this.block}`:this.target}open(e,t,n){this.internal?e.internal.file.open(this.fullTarget(),t,n):km(this.target)}},xn=class r{static parseLink(e){return Hn(wx.thenEof(),e)}static parseLinkList(e){return Hn(KH.thenEof(),e)}static isLink(e){return wx.thenEof().tryParse(e).success}static urlToLink(e){return tp.fromUrl(e)}static parseLinkOrUrl(e){return ec(e)?r.urlToLink(new URL(e)):r.parseLink(e)}static toLinkString(e){return r.isLink(e)?e:ec(e)?`[${new URL(e).hostname}](${e})`:r.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var rp=$r(ma()),ou=$r(Ji());var oF=ou.P.sequenceMap((r,e)=>r===void 0?e:-e,ou.P.string("-").optional(),ou.P.or(ou.P.sequenceMap((r,e,t)=>Number(r+e+t),rp.P_UTILS.digits(),ou.P.string("."),rp.P_UTILS.digits()),rp.P_UTILS.digits().map(r=>Number(r)))).thenEof(),sF=ou.P.sequenceMap((r,e)=>r===void 0?e:-e,ou.P.string("-").optional(),rp.P_UTILS.digits().map(r=>Number(r))).thenEof();function _a(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=oF.tryParse(r);return e.success?e.value:r}}function vo(r){return r===void 0||r===null?"":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function su(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function za(r){if(r!=null){if(su(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>su(e))}}function Sc(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=oF.tryParse(r);if(e.success)return e.value}}function Uo(r){return su(r)?vo(r):void 0}function uu(r){return su(r)?r:void 0}function yd(r,e){return Array.isArray(r)?r.map(t=>_x(t,e)).filter(t=>t!=="").join(", "):_x(r,e)}function _x(r,e){return r==null?e?"":"null":typeof r=="function"?"<function>":typeof r=="object"||Array.isArray(r)?JSON.stringify(r):r.toString()}function uF(r,e){return Array.isArray(r)?r.map(t=>aF(t,e)).filter(t=>t!==""):aF(r,e)}function aF(r,e){return typeof r=="string"?xn.isLink(r)?xn.parseLink(r):ec(r)?xn.urlToLink(new URL(r)):r:_x(r,e)}var xd=class{constructor(e){this.plugin=e}resolveFilePath(e,t){let n=xn.isLink(e)?xn.parseLink(e).target:e,i=this.plugin.internal.file.getPathByName(n,t);if(i===void 0)throw new co({errorLevel:"ERROR",cause:'Could not find a file that matches "${filePath}".',effect:`Could not resolve path or link "${e}" relative to "${t}".`});return i}createDefaultButtonConfig(){return{label:"This is a button",icon:"",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}async runButtonActions(e,t,n){try{if(e.action)await this.plugin.api.buttonActionRunner.runAction(e,e.action,t,n);else if(e.actions)for(let i of e.actions)await this.plugin.api.buttonActionRunner.runAction(e,i,t,n);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(i){console.warn("meta-bind | ButtonMDRC >> error while running action",i),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:"",args:{}};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"/",fileName:"",openNote:!0,openIfAlreadyExists:!1};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};if(e==="createNote")return{type:"createNote",folderPath:"/",fileName:"Untitled",openNote:!0,openIfAlreadyExists:!1};if(e==="replaceInNote")return{type:"replaceInNote",fromLine:0,toLine:0,replacement:"Replacement text"};if(e==="replaceSelf")return{type:"replaceSelf",replacement:"Replacement text"};if(e==="regexpReplaceInNote")return{type:"regexpReplaceInNote",regexp:"([A-Z])\\w+",replacement:"Replacement text"};if(e==="insertIntoNote")return{type:"insertIntoNote",line:0,value:"Some text"};if(e==="inlineJS")return{type:"inlineJS",code:'console.log("Hello world")'};throw new Error(`Unknown button action type: ${e}`)}async runAction(e,t,n,i){if(t.type==="command"){await this.runCommandAction(t);return}else if(t.type==="js"){await this.runJSAction(e,t,n,i);return}else if(t.type==="open"){await this.runOpenAction(t,n);return}else if(t.type==="input"){await this.runInputAction(t);return}else if(t.type==="sleep"){await this.runSleepAction(t);return}else if(t.type==="templaterCreateNote"){await this.runTemplaterCreateNoteAction(t);return}else if(t.type==="updateMetadata"){await this.runUpdateMetadataAction(t,n);return}else if(t.type==="createNote"){await this.runCreateNoteAction(t);return}else if(t.type==="replaceInNote"){await this.runReplaceInNoteAction(t,n);return}else if(t.type==="replaceSelf"){await this.runReplaceSelfAction(t,n,i);return}else if(t.type==="regexpReplaceInNote"){await this.runRegexpReplaceInNoteAction(t,n);return}else if(t.type==="insertIntoNote"){await this.runInsertIntoNoteAction(t,n);return}else if(t.type==="inlineJS"){await this.runInlineJsAction(e,t,n,i);return}throw new Error("Unknown button action type")}async runCommandAction(e){this.plugin.internal.executeCommandById(e.command)}async runJSAction(e,t,n,i){if(!this.plugin.settings.enableJs)throw new fs({errorLevel:"CRITICAL",effect:"Can't run button action that requires JS evaluation.",cause:"JS evaluation is disabled in the plugin settings."});let a={buttonConfig:structuredClone(e),args:structuredClone(t.args),buttonContext:structuredClone(i)};(await this.plugin.internal.jsEngineRunFile(t.file,n,a))()}async runOpenAction(e,t){xn.parseLinkOrUrl(e.link).open(this.plugin,t,e.newTab??!1)}async runInputAction(e){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.dispatchEvent(new Event("input",{bubbles:!0})))}async runSleepAction(e){await new Promise(t=>setTimeout(t,e.ms))}async runTemplaterCreateNoteAction(e){if(e.openIfAlreadyExists&&e.fileName){let t=Ry(Oy(e.folderPath??"",e.fileName),"md");if(await this.plugin.internal.file.exists(t)){this.plugin.internal.file.open(t,"",!1);return}}await this.plugin.internal.createNoteWithTemplater(e.templateFile,e.folderPath,e.fileName,e.openNote)}async runUpdateMetadataAction(e,t){let n=this.plugin.api.bindTargetParser.fromStringAndValidate(e.bindTarget,t);if(e.evaluate){if(!this.plugin.settings.enableJs)throw new fs({errorLevel:"CRITICAL",effect:"Can't run button action that requires JS evaluation.",cause:"JS evaluation is disabled in the plugin settings."});let i=new Function("x","getMetadata",`return ${e.value};`);this.plugin.api.updateMetadata(n,a=>i(a,o=>this.plugin.api.getMetadata(this.plugin.api.parseBindTarget(o,t))))}else this.plugin.api.setMetadata(n,_a(e.value))}async runCreateNoteAction(e){if(e.openIfAlreadyExists){let t=Ry(Oy(e.folderPath??"",e.fileName),"md");if(await this.plugin.internal.file.exists(t)){this.plugin.internal.file.open(t,"",!1);return}}await this.plugin.internal.file.create(e.folderPath??"",e.fileName,"md",e.openNote??!1)}async runReplaceInNoteAction(e,t){if(e.fromLine>e.toLine)throw new Error("From line cannot be greater than to line");let n=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(this.resolveFilePath(e.replacement),t):e.replacement;await this.plugin.internal.file.atomicModify(t,i=>{let a=i.split(`
`);if(e.fromLine<0||e.toLine>a.length+1)throw new Error("Line numbers out of bounds");return a=[...a.slice(0,e.fromLine-1),n,...a.slice(e.toLine)],a.join(`
`)})}async runReplaceSelfAction(e,t,n){if(n.isInline)throw new Error("Replace self action not supported for inline buttons");if(n.position===void 0)throw new Error("Position of the button in the note is unknown");if(n.position.lineStart>n.position.lineEnd)throw new Error("Position of the button in the note is invalid");let i=n.position,a=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(this.resolveFilePath(e.replacement),t):e.replacement;await this.plugin.internal.file.atomicModify(t,o=>{let u=o.split(`
`);if(i.lineStart<0||i.lineEnd>u.length+1)throw new Error("Position of the button in the note is out of bounds");return u=[...u.slice(0,i.lineStart),a,...u.slice(i.lineEnd+1)],u.join(`
`)})}async runRegexpReplaceInNoteAction(e,t){if(e.regexp==="")throw new Error("Regexp cannot be empty");await this.plugin.internal.file.atomicModify(t,n=>n.replace(new RegExp(e.regexp,e.regexpFlags??"g"),e.replacement))}async runInsertIntoNoteAction(e,t){let n=e.templater?await this.plugin.internal.evaluateTemplaterTemplate(this.resolveFilePath(e.value),t):e.value;await this.plugin.internal.file.atomicModify(t,i=>{let a=i.split(`
`);if(e.line<1||e.line>a.length+1)throw new Error("Line number out of bounds");return a=[...a.slice(0,e.line-1),n,...a.slice(e.line-1)],a.join(`
`)})}async runInlineJsAction(e,t,n,i){if(!this.plugin.settings.enableJs)throw new fs({errorLevel:"CRITICAL",effect:"Can't run button action that requires JS evaluation.",cause:"JS evaluation is disabled in the plugin settings."});let a={buttonConfig:structuredClone(e),buttonContext:structuredClone(i)};(await this.plugin.internal.jsEngineRunCode(t.code,n,a))()}};var lF="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(lF);var Ac="[",ml="[!",dl="]",lu={};var Li=Symbol(),ea=Symbol("filename"),cF=Symbol("hmr");var ip="font-weight: bold",ap="font-weight: normal";function fF(r,e,t){console.warn("hydration_attribute_changed")}function Ec(r){console.warn("hydration_mismatch")}function pF(){console.warn("lifecycle_double_unmount")}function Sx(r,e){console.warn("ownership_invalid_mutation")}function bd(r){console.warn("state_proxy_equality_mismatch")}var qo=Array.isArray,op=Array.from,Ax=Object.keys,Ha=Object.defineProperty,Ga=Object.getOwnPropertyDescriptor;var Ex=Object.prototype,mF=Array.prototype,Tc=Object.getPrototypeOf;var yo=()=>{};function wd(r){for(var e=0;e<r.length;e++)r[e]()}var zo=Symbol("$state"),hl=Symbol("$state metadata"),dF=Symbol("");function _d(r){return r===this.v}function Tx(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function Mc(r){return!Tx(r,this.v)}function Mx(){if(!1){let r=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead");throw r.name="Svelte error",r}else throw new Error("bind_invalid_checkbox_value")}function hF(){if(!1){let r=new Error(`derived_references_self
A derived value cannot reference itself recursively`);throw r.name="Svelte error",r}else throw new Error("derived_references_self")}function gF(r){if(!1){let e=new Error(`effect_in_teardown
\`${r}\` cannot be used inside an effect cleanup function`);throw e.name="Svelte error",e}else throw new Error("effect_in_teardown")}function vF(){if(!1){let r=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw r.name="Svelte error",r}else throw new Error("effect_in_unowned_derived")}function yF(r){if(!1){let e=new Error(`effect_orphan
\`${r}\` can only be used inside an effect (e.g. during component initialisation)`);throw e.name="Svelte error",e}else throw new Error("effect_orphan")}function Dx(){if(!1){let r=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw r.name="Svelte error",r}else throw new Error("effect_update_depth_exceeded")}function xF(){if(!1){let r=new Error(`hydration_failed
Failed to hydrate the application`);throw r.name="Svelte error",r}else throw new Error("hydration_failed")}function bF(){if(!1){let r=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`");throw r.name="Svelte error",r}else throw new Error("invalid_snippet")}function wF(r){if(!1){let e=new Error(`props_invalid_value
Cannot do \`bind:${r}={undefined}\` when \`${r}\` has a fallback value`);throw e.name="Svelte error",e}else throw new Error("props_invalid_value")}function _F(r){if(!1){let e=new Error(`props_rest_readonly
Rest element properties of \`$props()\` such as \`${r}\` are readonly`);throw e.name="Svelte error",e}else throw new Error("props_rest_readonly")}function SF(r){if(!1){let e=new Error(`rune_outside_svelte
The \`${r}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw e.name="Svelte error",e}else throw new Error("rune_outside_svelte")}function AF(){if(!1){let r=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.");throw r.name="Svelte error",r}else throw new Error("state_descriptors_fixed")}function EF(){if(!1){let r=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw r.name="Svelte error",r}else throw new Error("state_prototype_fixed")}function TF(){if(!1){let r=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state");throw r.name="Svelte error",r}else throw new Error("state_unsafe_local_read")}function MF(){if(!1){let r=new Error("state_unsafe_mutation\nUpdating state inside a derived is forbidden. If the value should not be reactive, declare it without `$state`");throw r.name="Svelte error",r}else throw new Error("state_unsafe_mutation")}var gl=new Set;function Nx(r){gl=r}function On(r){return{f:0,v:r,reactions:null,equals:_d,version:0}}function bt(r){return eG(On(r))}function cu(r){let e=On(r);return e.equals=Mc,Mr!==null&&Mr.l!==null&&(Mr.l.s??=[]).push(e),e}function eG(r){return tn!==null&&tn.f&2&&(bo===null?CF([r]):bo.push(r)),r}function Oe(r,e){if(tn!==null&&sp()&&tn.f&2&&(bo===null||!bo.includes(r))&&MF(),!r.equals(e)&&(r.v=e,r.version=Sd(),DF(r,1024),sp()&&gr!==null&&gr.f&512&&!(gr.f&32)&&(oi!==null&&oi.includes(r)?(Ui(gr,1024),Cc(gr)):_s===null?NF([r]):_s.push(r)),!1)){let n=Array.from(gl);var t=As;Dc(!0);try{for(let i of n)i.f&512&&Ui(i,2048),fu(i)&&vl(i)}finally{Dc(t)}gl.clear()}return e}function DF(r,e){var t=r.reactions;if(t!==null)for(var n=sp(),i=t.length,a=0;a<i;a++){var o=t[a],u=o.f;if(!(u&1024)&&!(!n&&o===gr)){if(!1){gl.add(o);continue}Ui(o,e),u&640&&(u&2?DF(o,2048):Cc(o))}}}function PF(r){gr===null&&tn===null&&yF(r),tn!==null&&tn.f&128&&vF(),Md&&gF(r)}function tG(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Nc(r,e,t,n=!0){var i=(r&64)!==0,a=gr;if(!1)for(;a!==null&&a.f&131072;)a=a.parent;var o={ctx:Mr,deps:null,nodes_start:null,nodes_end:null,f:r|1024,first:null,fn:e,last:null,next:null,parent:i?null:a,prev:null,teardown:null,transitions:null,version:0};if(!1,t){var u=As;try{Dc(!0),vl(o),o.f|=16384}catch(c){throw bi(o),c}finally{Dc(u)}}else e!==null&&Cc(o);var l=t&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null;if(!l&&!i&&n&&(a!==null&&tG(o,a),tn!==null&&tn.f&2)){var s=tn;(s.children??=[]).push(o)}return o}function ja(r){let e=Nc(8,null,!1);return Ui(e,512),e.teardown=r,e}function Za(r){PF("$effect");var e=gr!==null&&(gr.f&8)!==0&&Mr!==null&&!Mr.m;if(!1,e){var t=Mr;(t.e??=[]).push({fn:r,parent:gr})}else{var n=ta(r);return n}}function Px(r){let e=Nc(64,r,!0);return()=>{bi(e)}}function ta(r){return Nc(4,r,!1)}function Vi(r){return Nc(8,r,!0)}function Ue(r){return!1,Vi(r)}function Sa(r,e=0){return Nc(24|e,r,!0)}function xi(r,e=!0){return Nc(40,r,!0,e)}function Bx(r){var e=r.teardown;if(e!==null){let t=Md,n=tn;Fx(!0),Ad(null);try{e.call(null)}finally{Fx(t),Ad(n)}}}function bi(r,e=!0){var t=!1;if((e||r.f&262144)&&r.nodes_start!==null){for(var n=r.nodes_start,i=r.nodes_end;n!==null;){var a=n===i?null:wi(n);n.remove(),n=a}t=!0}Ox(r,e&&!t),bl(r,0),Ui(r,8192);var o=r.transitions;if(o!==null)for(let l of o)l.stop();Bx(r);var u=r.parent;u!==null&&u.first!==null&&kx(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.parent=r.fn=r.nodes_start=r.nodes_end=null}function kx(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function Ms(r,e){var t=[];Td(r,t,!0),$x(t,()=>{bi(r),e&&e()})}function $x(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function Td(r,e,t){if(!(r.f&4096)){if(r.f^=4096,r.transitions!==null)for(let o of r.transitions)(o.is_global||t)&&e.push(o);for(var n=r.first;n!==null;){var i=n.next,a=(n.f&32768)!==0||(n.f&32)!==0;Td(n,e,a?t:!1),n=i}}}function pu(r){BF(r,!0)}function BF(r,e){if(r.f&4096){r.f^=4096,fu(r)&&vl(r);for(var t=r.first;t!==null;){var n=t.next,i=(t.f&32768)!==0||(t.f&32)!==0;BF(t,i?e:!1),t=n}if(r.transitions!==null)for(let a of r.transitions)(a.is_global||e)&&a.in()}}var rG=typeof requestIdleCallback>"u"?r=>setTimeout(r,1):requestIdleCallback,Dd=!1,Cd=!1,Rx=[],Lx=[];function kF(){Dd=!1;let r=Rx.slice();Rx=[],wd(r)}function $F(){Cd=!1;let r=Lx.slice();Lx=[],wd(r)}function Aa(r){Dd||(Dd=!0,queueMicrotask(kF)),Rx.push(r)}function OF(r){Cd||(Cd=!0,rG($F)),Lx.push(r)}function RF(){Dd&&kF(),Cd&&$F()}var nG={},iG=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,aG=/@(.+):(\d+):(\d+)$/;function oG(){let r=new Error().stack;if(!r)return null;let e=[];for(let t of r.split(`
`)){let n=iG.exec(t)??aG.exec(t);n&&e.push({file:n[1],line:+n[2],column:+n[3]})}return e}function LF(){let r=oG()?.slice(4);if(!r)return null;for(let e=0;e<r.length;e++){let t=r[e],n=nG[t.file];if(!n){if(e===0)return null;continue}for(let i of n)if(i.start.line<t.line&&i.end.line>t.line)return i.component}return null}var sG=Symbol("ADD_OWNER");function Vx(r,e){if(e.owners!==null)for(;r;){if(r.owners===null){e.owners=null;break}for(let t of r.owners)e.owners.add(t);r=r.parent}}function UF(r,e){return r.owners===null?!0:r.owners.has(e)||r.parent!==null&&UF(r.parent,e)}function VF(r){return r?.owners?.values().next().value??VF(r.parent)}var uG=!1;function qF(r){if(uG)return;let e=LF();if(e&&!UF(r,e)){let t=VF(r);t[ea]!==e[ea]?Sx(e[ea],t[ea]):Sx()}}function pr(r){let e=1026;gr===null&&(e|=128);let t={children:null,deps:null,equals:_d,f:e,fn:r,reactions:null,v:null,version:0};if(tn!==null&&tn.f&2){var n=tn;(n.children??=[]).push(t)}return t}function Hx(r){let e=pr(r);return e.equals=Mc,e}function zx(r){var e=r.children;if(e!==null){r.children=null;for(var t=0;t<e.length;t+=1){var n=e[t];n.f&2?lG(n):bi(n)}}}var qx=[];function Gx(r){var e;if(!1){let n=gl;Nx(new Set);try{qx.includes(r)&&hF(),qx.push(r),zx(r),e=Nd(r)}finally{Nx(n),qx.pop()}}else zx(r),e=Nd(r);var t=(wl||r.f&128)&&r.deps!==null?2048:512;Ui(r,t),r.equals(e)||(r.v=e,r.version=Sd())}function lG(r){zx(r),bl(r,0),Ui(r,8192),r.children=r.deps=r.reactions=r.fn=null}function Fd(r){if(!1){let e=new Error(`lifecycle_outside_component
\`${r}(...)\` can only be used during component initialisation`);throw e.name="Svelte error",e}else throw new Error("lifecycle_outside_component")}var WF=0,dG=1,zF=new WeakSet,Id=WF,lp=!1,As=!1,Md=!1;function Dc(r){As=r}function Fx(r){Md=r}var _l=[],Fc=0,cp=[],tn=null;function Ad(r){tn=r}var gr=null;function Wx(r){gr=r}var bo=null;function CF(r){bo=r}var oi=null,Ea=0,_s=null;function NF(r){_s=r}var YF=0,wl=!1,Yx=!1,hG=new Set,Mr=null;var _o=null;function Sd(){return++YF}function sp(){return Mr!==null&&Mr.l===null}function fu(r){var e=r.f;if(e&1024)return!0;if(e&2048){var t=r.deps,n=(e&128)!==0;if(t!==null){var i;if(e&256){for(i=0;i<t.length;i++)(t[i].reactions??=[]).push(r);r.f^=256}for(i=0;i<t.length;i++){var a=t[i];if(fu(a)&&Gx(a),n&&gr!==null&&!wl&&!a?.reactions?.includes(r)&&(a.reactions??=[]).push(r),a.version>r.version)return!0}}n||Ui(r,512)}return!1}function gG(r,e,t){if(!!1||zF.has(r)||t===null)throw r;let n=[],i=e.fn?.name;i&&n.push(i);let a=t;for(;a!==null;){if(!1){var o=a.function?.[ea];if(o){let s=o.split("/").pop();n.push(s)}}a=a.p}let u=/Firefox/.test(navigator.userAgent)?"  ":"	";Ha(r,"message",{value:r.message+`
${n.map(s=>`
${u}in ${s}`).join("")}
`});let l=r.stack;if(l){let s=l.split(`
`),c=[];for(let f=0;f<s.length;f++){let p=s[f];p.includes("svelte/src/internal")||c.push(p)}Ha(r,"stack",{value:r.stack+c.join(`
`)})}throw zF.add(r),r}function Nd(r){var e=oi,t=Ea,n=_s,i=tn,a=wl,o=bo;oi=null,Ea=0,_s=null,tn=r.f&96?null:r,wl=!As&&(r.f&128)!==0,bo=null;try{var u=(0,r.fn)(),l=r.deps;if(oi!==null){var s;if(bl(r,Ea),l!==null&&Ea>0)for(l.length=Ea+oi.length,s=0;s<oi.length;s++)l[Ea+s]=oi[s];else r.deps=l=oi;if(!wl)for(s=Ea;s<l.length;s++)(l[s].reactions??=[]).push(r)}else l!==null&&Ea<l.length&&(bl(r,Ea),l.length=Ea);return u}finally{oi=e,Ea=t,_s=n,tn=i,wl=a,bo=o}}function vG(r,e){let t=e.reactions;if(t!==null){var n=t.indexOf(r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&e.f&2&&(oi===null||!oi.includes(e))&&(Ui(e,2048),e.f&384||(e.f^=256),bl(e,0))}function bl(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)vG(r,t[n])}function Ox(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;bi(t,e),t=n}}function vl(r){var e=r.f;if(!(e&8192)){Ui(r,512);var t=gr,n=Mr;if(gr=r,Mr=r.ctx,!1){var i=_o;_o=r.component_function}try{e&16||Ox(r),Bx(r);var a=Nd(r);r.teardown=typeof a=="function"?a:null,r.version=YF,!1}catch(o){gG(o,r,n)}finally{gr=t,Mr=n,!1}}}function jF(){if(Fc>1e3)if(Fc=0,!1)try{Dx()}catch(r){throw Ha(r,"stack",{value:""}),console.error("Last ten effects were: ",cp.slice(-10).map(e=>e.fn)),cp=[],r}else Dx();Fc++}function ZF(r){var e=r.length;if(e!==0){jF();var t=As;As=!0;try{for(var n=0;n<e;n++){var i=r[n];if(i.f&524288&&(i.f^=524288),i.first===null&&!(i.f&32))HF([i]);else{var a=[];JF(i,a),HF(a)}}}finally{As=t}}}function HF(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];!(n.f&12288)&&fu(n)&&(vl(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?kx(n):n.fn=null))}}function yG(){if(lp=!1,Fc>1001)return;let r=_l;_l=[],ZF(r),lp||(Fc=0,!1)}function Cc(r){Id===WF&&(lp||(lp=!0,queueMicrotask(yG)));for(var e=r;e.parent!==null;){e=e.parent;var t=e.f;if(t&32){if(!(t&512))return;e.f^=512}if(t&64){if(t&524288)return;e.f^=524288}}_l.push(e)}function JF(r,e){var t=r.first,n=[];e:for(;t!==null;){var i=t.f,a=(i&4096)===0,o=(i&32)!==0,u=(i&512)!==0,l=t.first;if(a&&(!o||!u))if(o&&Ui(t,512),i&8){if(!o&&fu(t)&&vl(t),l=t.first,l!==null){t=l;continue}}else i&4&&n.push(t);var s=t.next;if(s===null){let p=t.parent;for(;p!==null;){if(r===p)break e;var c=p.next;if(c!==null){t=c;continue e}p=p.parent}}t=s}for(var f=0;f<n.length;f++)l=n[f],e.push(l),JF(l,e)}function Ic(r){var e=Id,t=_l;try{jF();let i=[];Id=dG,_l=i,lp=!1,ZF(t);var n=r?.();return RF(),(_l.length>0||i.length>0)&&Ic(),Fc=0,!1,n}finally{Id=e,_l=t}}function z(r){var e=r.f;if(e&8192)return r.v;if(Yx&&hG.add(r),tn!==null){bo!==null&&bo.includes(r)&&TF();var t=tn.deps;oi===null&&t!==null&&t[Ea]===r?Ea++:oi===null?oi=[r]:oi.push(r),_s!==null&&gr!==null&&gr.f&512&&!(gr.f&32)&&_s.includes(r)&&(Ui(gr,1024),Cc(gr))}if(e&2){var n=r;fu(n)&&Gx(n)}return r.v}function Kn(r){let e=tn;try{return tn=null,r()}finally{tn=e}}var xG=-3585;function Ui(r,e){r.f=r.f&xG|e}function De(r,e=!1,t){Mr={p:Mr,c:null,e:null,m:!1,s:r,x:null,l:null},e||(Mr.l={s:null,u:null,r1:[],r2:On(!1)}),!1}function Ce(r){let e=Mr;if(e!==null){r!==void 0&&(e.x=r);let a=e.e;if(a!==null){var t=gr;e.e=null;try{for(var n=0;n<a.length;n++){var i=a[n];Wx(i.parent),ta(i.fn)}}finally{Wx(t)}}Mr=e.p,!1,e.m=!0}return r||{}}if(!1){let r=function(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(t!==void 0)return t;SF(e)},set:n=>{t=n}})}};r("$state"),r("$effect"),r("$derived"),r("$inspect"),r("$props"),r("$bindable")}function He(r,e=null,t){if(typeof r!="object"||r===null||zo in r)return r;let n=Tc(r);if(n!==Ex&&n!==mF)return r;var i=new Map,a=qo(r),o=On(0);a&&i.set("length",On(r.length));var u;if(!1)if(u={parent:e,owners:null},t){let l=t.v?.[hl]?.owners;u.owners=l?new Set(l):null}else u.owners=e===null?Mr!==null?new Set([Mr.function]):null:new Set;return new Proxy(r,{defineProperty(l,s,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&AF();var f=i.get(s);return f===void 0?(f=On(c.value),i.set(s,f)):Oe(f,He(c.value,u)),!0},deleteProperty(l,s){var c=i.get(s);return c===void 0?s in l&&i.set(s,On(Li)):(Oe(c,Li),XF(o)),!0},get(l,s,c){if(!1)return u;if(s===zo)return r;var f=i.get(s),p=s in l;if(f===void 0&&(!p||Ga(l,s)?.writable)&&(f=On(He(p?l[s]:Li,u)),i.set(s,f)),f!==void 0){var m=z(f);if(!1){var d=m?.[hl];d&&d?.parent!==u&&Vx(u,d)}return m===Li?void 0:m}return Reflect.get(l,s,c)},getOwnPropertyDescriptor(l,s){var c=Reflect.getOwnPropertyDescriptor(l,s);if(c&&"value"in c){var f=i.get(s);f&&(c.value=z(f))}else if(c===void 0){var p=i.get(s),m=p?.v;if(p!==void 0&&m!==Li)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return c},has(l,s){if(s===zo)return!0;var c=i.get(s),f=c!==void 0&&c.v!==Li||Reflect.has(l,s);if(c!==void 0||gr!==null&&(!f||Ga(l,s)?.writable)){c===void 0&&(c=On(f?He(l[s],u):Li),i.set(s,c));var p=z(c);if(p===Li)return!1}return f},set(l,s,c,f){var p=i.get(s),m=s in l;if(a&&s==="length")for(var d=c;d<p.v;d+=1){var h=i.get(d+"");h!==void 0?Oe(h,Li):d in l&&(h=On(Li),i.set(d+"",h))}if(p===void 0?(!m||Ga(l,s)?.writable)&&(p=On(void 0),Oe(p,He(c,u)),i.set(s,p)):(m=p.v!==Li,Oe(p,He(c,u))),!1){var w=c?.[hl];w&&w?.parent!==u&&Vx(u,w),qF(u)}var x=Reflect.getOwnPropertyDescriptor(l,s);if(x?.set&&x.set.call(f,c),!m){if(a&&typeof s=="string"){var E=i.get("length"),v=Number(s);Number.isInteger(v)&&v>=E.v&&Oe(E,v+1)}XF(o)}return!0},ownKeys(l){z(o);var s=Reflect.ownKeys(l).filter(p=>{var m=i.get(p);return m===void 0||m.v!==Li});for(var[c,f]of i)f.v!==Li&&!(c in l)&&s.push(c);return s},setPrototypeOf(){EF()}})}function XF(r,e=1){Oe(r,r.v+e)}function Go(r){return r!==null&&typeof r=="object"&&zo in r?r[zo]:r}function jx(r,e){return Object.is(Go(r),Go(e))}function QF(){let r=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:t,lastIndexOf:n,includes:i}=r;r.indexOf=function(a,o){let u=t.call(this,a,o);return u===-1&&t.call(Go(this),Go(a),o)!==-1&&bd("array.indexOf(...)"),u},r.lastIndexOf=function(a,o){let u=n.call(this,a,o??this.length-1);return u===-1&&n.call(Go(this),Go(a),o??this.length-1)!==-1&&bd("array.lastIndexOf(...)"),u},r.includes=function(a,o){let u=i.call(this,a,o);return u||i.call(Go(this),Go(a),o)&&bd("array.includes(...)"),u},Array.__svelte_cleanup=()=>{r.indexOf=t,r.lastIndexOf=n,r.includes=i}}var Ds,KF,eI,tI;function kd(){if(Ds===void 0){Ds=window,KF=document;var r=Element.prototype,e=Node.prototype;eI=Ga(e,"firstChild").get,tI=Ga(e,"nextSibling").get,r.__click=void 0,r.__className="",r.__attributes=null,r.__e=void 0,Text.prototype.__t=void 0,!1}}function Ta(r=""){return document.createTextNode(r)}function si(r){return eI.call(r)}function wi(r){return tI.call(r)}function de(r){if(!Bt)return si(r);var e=si(ar);return e===null&&(e=ar.appendChild(Ta())),Nn(e),e}function Ke(r,e){if(!Bt){var t=si(r);return t instanceof Comment&&t.data===""?wi(t):t}if(e&&ar?.nodeType!==3){var n=Ta();return ar?.before(n),Nn(n),n}return ar}function ce(r,e=1,t=!1){let n=Bt?ar:r;for(;e--;)n=wi(n);if(!Bt)return n;var i=n.nodeType;if(t&&i!==3){var a=Ta();return n?.before(a),Nn(a),a}return Nn(n),n}function Pc(r){r.textContent=""}var Bt=!1;function ra(r){Bt=r}var ar;function Nn(r){if(r===null)throw Ec(),lu;return ar=r}function qi(){return Nn(wi(ar))}function ue(r){if(Bt){if(wi(ar)!==null)throw Ec(),lu;ar=r}}function Vt(r=1){if(Bt){for(var e=r,t=ar;e--;)t=wi(t);ar=t}}function fp(){for(var r=0,e=ar;;){if(e.nodeType===8){var t=e.data;if(t===dl){if(r===0)return e;r-=1}else(t===Ac||t===ml)&&(r+=1)}var n=wi(e);e.remove(),e=n}}var Zx=new Set,$d=new Set;function rI(r,e,t,n){function i(a){if(n.capture||Bc.call(e,a),!a.cancelBubble)return t.call(this,a)}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Aa(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function na(r,e,t,n,i){var a={capture:n,passive:i},o=rI(r,e,t,a);(e===document.body||e===window||e===document)&&ja(()=>{e.removeEventListener(r,o,a)})}function Pt(r){for(var e=0;e<r.length;e++)Zx.add(r[e]);for(var t of $d)t(r)}function Bc(r){var e=this,t=e.ownerDocument,n=r.type,i=r.composedPath?.()||[],a=i[0]||r.target,o=0,u=r.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var s=i.indexOf(e);if(s===-1)return;l<=s&&(o=l)}if(a=i[o]||r.target,a!==e){Ha(r,"currentTarget",{configurable:!0,get(){return a||t}});try{for(var c,f=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+n];if(m!==void 0&&!a.disabled)if(qo(m)){var[d,...h]=m;d.apply(a,[r,...h])}else m.call(a,r)}catch(w){c?f.push(w):c=w}if(r.cancelBubble||p===e||p===null)break;a=p}if(c){for(let w of f)queueMicrotask(()=>{throw w});throw c}}finally{r.__root=e,delete r.currentTarget}}}var bG;function nI(){bG=void 0}function Od(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function Ja(r,e){var t=gr;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function ae(r,e){var t=(e&1)!==0,n=(e&2)!==0,i,a=!r.startsWith("<!>");return()=>{if(Bt)return Ja(ar,null),ar;i===void 0&&(i=Od(a?r:"<!>"+r),t||(i=si(i)));var o=n?document.importNode(i,!0):i.cloneNode(!0);if(t){var u=si(o),l=o.lastChild;Ja(u,l)}else Ja(o,o);return o}}function hr(r=""){if(!Bt){var e=Ta(r+"");return Ja(e,e),e}var t=ar;return t.nodeType!==3&&(t.before(t=Ta()),Nn(t)),Ja(t,t),t}function Xr(){if(Bt)return Ja(ar,null),ar;var r=document.createDocumentFragment(),e=document.createComment(""),t=Ta();return r.append(e,t),Ja(e,t),r}function te(r,e){if(Bt){gr.nodes_end=ar,qi();return}r!==null&&r.before(e)}var SG=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var Dce=[...SG,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var AG=["wheel","mousewheel","touchstart","touchmove"];function iI(r){return AG.includes(r)}var Jx=!0;function ft(r,e){e!==(r.__t??=r.nodeValue)&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Dr(r,e){let t=e.anchor??e.target.appendChild(Ta());return aI(r,{...e,anchor:t})}function Qx(r,e){kd(),e.intro=e.intro??!1;let t=e.target,n=Bt,i=ar;try{for(var a=si(t);a&&(a.nodeType!==8||a.data!==Ac);)a=wi(a);if(!a)throw lu;ra(!0),Nn(a),qi();let o=aI(r,{...e,anchor:a});if(ar===null||ar.nodeType!==8||ar.data!==dl)throw Ec(),lu;return ra(!1),o}catch(o){if(o===lu)return e.recover===!1&&xF(),kd(),Pc(t),ra(!1),Dr(r,e);throw o}finally{ra(n),Nn(i),nI()}}var kc=new Map;function aI(r,{target:e,anchor:t,props:n={},events:i,context:a,intro:o=!0}){kd();var u=new Set,l=f=>{for(var p=0;p<f.length;p++){var m=f[p];if(!u.has(m)){u.add(m);var d=iI(m);e.addEventListener(m,Bc,{passive:d});var h=kc.get(m);h===void 0?(document.addEventListener(m,Bc,{passive:d}),kc.set(m,1)):kc.set(m,h+1)}}};l(op(Zx)),$d.add(l);var s=void 0,c=Px(()=>(xi(()=>{if(a){De({});var f=Mr;f.c=a}i&&(n.$$events=i),Bt&&Ja(t,null),Jx=o,s=r(t,n)||{},Jx=!0,Bt&&(gr.nodes_end=ar),a&&Ce()}),()=>{for(var f of u){e.removeEventListener(f,Bc);var p=kc.get(f);--p===0?(document.removeEventListener(f,Bc),kc.delete(f)):kc.set(f,p)}$d.delete(l),Xx.delete(s)}));return Xx.set(s,c),s}var Xx=new WeakMap;function Nr(r){let e=Xx.get(r);e?e():!1}function it(r,e,t,n=null,i=!1){Bt&&qi();var a=r,o=null,u=null,l=null,s=i?32768:0;Sa(()=>{if(l===(l=!!e()))return;let c=!1;if(Bt){let f=a.data===ml;l===f&&(a=fp(),Nn(a),ra(!1),c=!0)}l?(o?pu(o):o=xi(()=>t(a)),u&&Ms(u,()=>{u=null})):(u?pu(u):n&&(u=xi(()=>n(a))),o&&Ms(o,()=>{o=null})),c&&ra(!0)},s),Bt&&(a=ar)}var pp=null;function Xt(r,e){return e}function CG(r,e,t,n){for(var i=[],a=e.length,o=0;o<a;o++)Td(e[o].e,i,!0);var u=a>0&&i.length===0&&t!==null;if(u){var l=t.parentNode;Pc(l),l.append(t),n.clear(),mu(r,e[0].prev,e[a-1].next)}$x(i,()=>{for(var s=0;s<a;s++){var c=e[s];u||(n.delete(c.k),mu(r,c.prev,c.next)),bi(c.e,!u)}})}function Gt(r,e,t,n,i,a=null){var o=r,u={flags:e,items:new Map,first:null},l=(e&4)!==0;if(l){var s=r;o=Bt?Nn(si(s)):s.appendChild(Ta())}Bt&&qi();var c=null;Sa(()=>{var f=t(),p=qo(f)?f:f==null?[]:op(f),m=p.length;let d=!1;if(Bt){var h=o.data===ml;h!==(m===0)&&(o=fp(),Nn(o),ra(!1),d=!0)}if(Bt){for(var w=null,x,E=0;E<m;E++){if(ar.nodeType===8&&ar.data===dl){o=ar,d=!0,ra(!1);break}var v=p[E],_=n(v,E);x=cI(ar,u,w,null,v,_,E,i,e),u.items.set(_,x),w=x}m>0&&Nn(fp())}Bt||NG(p,u,o,i,e,n),a!==null&&(m===0?c?pu(c):c=xi(()=>a(o)):c!==null&&Ms(c,()=>{c=null})),d&&ra(!0)}),Bt&&(o=ar)}function NG(r,e,t,n,i,a){var o=(i&8)!==0,u=(i&3)!==0,l=r.length,s=e.items,c=e.first,f=c,p,m=null,d,h=[],w=[],x,E,v,_;if(o)for(_=0;_<l;_+=1)x=r[_],E=a(x,_),v=s.get(E),v!==void 0&&(v.a?.measure(),(d??=new Set).add(v));for(_=0;_<l;_+=1){if(x=r[_],E=a(x,_),v=s.get(E),v===void 0){var A=f?f.e.nodes_start:t;m=cI(A,e,m,m===null?e.first:m.next,x,E,_,n,i),s.set(E,m),h=[],w=[],f=m.next;continue}if(u&&FG(v,x,_,i),v.e.f&4096&&(pu(v.e),o&&(v.a?.unfix(),(d??=new Set).delete(v))),v!==f){if(p!==void 0&&p.has(v)){if(h.length<w.length){var y=w[0],T;m=y.prev;var M=h[0],b=h[h.length-1];for(T=0;T<h.length;T+=1)uI(h[T],y,t);for(T=0;T<w.length;T+=1)p.delete(w[T]);mu(e,M.prev,b.next),mu(e,m,M),mu(e,b,y),f=y,m=b,_-=1,h=[],w=[]}else p.delete(v),uI(v,f,t),mu(e,v.prev,v.next),mu(e,v,m===null?e.first:m.next),mu(e,m,v),m=v;continue}for(h=[],w=[];f!==null&&f.k!==E;)(p??=new Set).add(f),w.push(f),f=f.next;if(f===null)continue;v=f}h.push(v),m=v,f=v.next}if(f!==null||p!==void 0){for(var D=p===void 0?[]:op(p);f!==null;)D.push(f),f=f.next;var I=D.length;if(I>0){var P=i&4&&l===0?t:null;if(o){for(_=0;_<I;_+=1)D[_].a?.measure();for(_=0;_<I;_+=1)D[_].a?.fix()}CG(e,D,P,s)}}o&&Aa(()=>{if(d!==void 0)for(v of d)v.a?.apply()}),gr.first=e.first&&e.first.e,gr.last=m&&m.e}function FG(r,e,t,n){n&1&&Oe(r.v,e),n&2?Oe(r.i,t):r.i=t}function cI(r,e,t,n,i,a,o,u,l){var s=pp;try{var c=(l&1)!==0,f=(l&16)===0,p=c?f?cu(i):On(i):i,m=l&2?On(o):o,d={i:m,v:p,k:a,a:null,e:null,prev:t,next:n};return pp=d,d.e=xi(()=>u(r,p,m),Bt),d.e.prev=t&&t.e,d.e.next=n&&n.e,t===null?e.first=d:(t.next=d,t.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{pp=s}}function uI(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,a=r.e.nodes_start;a!==n;){var o=wi(a);i.before(a),a=o}}function mu(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Xa(r,e,...t){var n=r,i=yo,a;Sa(()=>{i!==(i=e())&&(a&&(bi(a),a=null),!1,a=xi(()=>i(n,...t)))},32768),Bt&&(n=ar)}function Fn(r){Bt&&si(r)!==null&&Pc(r)}var pI=!1;function Rd(){pI||(pI=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(let e of r.target.elements)e.__on_r?.()})},{capture:!0}))}function St(r){if(Bt){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var n=r.value;_t(r,"value",null),r.value=n}if(r.hasAttribute("checked")){var i=r.checked;_t(r,"checked",null),r.checked=i}}};r.__on_r=t,OF(t),Rd()}}function rb(r,e){var t=r.__attributes??={};t.value!==(t.value=e)&&(r.value=e)}function Cs(r,e){var t=r.__attributes??={};t.checked!==(t.checked=e)&&(r.checked=e)}function _t(r,e,t,n){t=t==null?null:t+"";var i=r.__attributes??={};if(Bt&&(i[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")){n||BG(r,e,t);return}i[e]!==(i[e]=t)&&(e==="loading"&&(r[dF]=t),t===null?r.removeAttribute(e):r.setAttribute(e,t))}function BG(r,e,t){!1}function tb(r,e){return r===e?!0:new URL(r,document.baseURI).href===new URL(e,document.baseURI).href}function mI(r){return r.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function kG(r,e){var t=mI(r.srcset),n=mI(e??"");return n.length===t.length&&n.every(([i,a],o)=>a===t[o][1]&&(tb(t[o][0],i)||tb(i,t[o][0])))}function Qa(r,e){var t=r.__className,n=$G(e);Bt&&r.className===n?r.__className=n:(t!==n||Bt&&r.className!==n)&&(e==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function $G(r){return r??""}function jr(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}function Ld(r,e,t,n=t){r.addEventListener(e,t);let i=r.__on_r;i?r.__on_r=()=>{i(),n()}:r.__on_r=n,Rd()}function vt(r,e,t=e){Ld(r,"input",()=>{!1,t(dI(r)?hI(r.value):r.value)}),Vi(()=>{!1;var n=e();if(Bt&&r.defaultValue!==r.value){t(r.value);return}dI(r)&&n===hI(r.value)||r.type==="date"&&!n&&!r.value||(r.value=n??"")})}function dI(r){var e=r.type;return e==="number"||e==="range"}function hI(r){return r===""?null:+r}function Vd(r,e,t){if(r.multiple)return LG(r,e);for(var n of r.options){var i=mp(n);if(jx(i,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function gI(r,e){let t=!0;ta(()=>{e&&Vd(r,Kn(e),t),t=!1;var n=new MutationObserver(()=>{var i=r.__value;Vd(r,i)});return n.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function $c(r,e,t=e){var n=!0;Ld(r,"change",()=>{var i;if(r.multiple)i=[].map.call(r.querySelectorAll(":checked"),mp);else{var a=r.querySelector(":checked");i=a&&mp(a)}t(i)}),ta(()=>{var i=e();if(Vd(r,i,n),n&&i===void 0){var a=r.querySelector(":checked");a!==null&&(i=mp(a),t(i))}r.__value=i,n=!1}),gI(r)}function LG(r,e){for(var t of r.options)t.selected=~e.indexOf(mp(t))}function mp(r){return"__value"in r?r.__value:r.value}function vI(r,e){return r===e||r?.[zo]===e}function So(r={},e,t,n){return ta(()=>{var i,a;return Vi(()=>{i=a,a=n?.()||[],Kn(()=>{r!==t(...a)&&(e(r,...a),i&&vI(t(...i),r)&&e(null,...i))})}),()=>{Aa(()=>{a&&vI(t(...a),r)&&e(null,...a)})}}),r}var WG={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1,!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function rr(r,e,t){return new Proxy({props:r,exclude:e},WG)}function st(r,e,t,n){var i=(t&1)!==0,a=(t&2)!==0,o=(t&8)!==0,u=(t&16)!==0,l=r[e],s=Ga(r,e)?.set,c=n,f=!0,p=!1,m=()=>(p=!0,f&&(f=!1,u?c=Kn(n):c=n),c);l===void 0&&n!==void 0&&(s&&a&&wF(e),l=m(),s&&s(l));var d;if(a)d=()=>{var A=r[e];return A===void 0?m():(f=!0,p=!1,A)};else{var h=(i?pr:Hx)(()=>r[e]);h.f|=65536,d=()=>{var A=z(h);return A!==void 0&&(c=void 0),A===void 0?c:A}}if(!(t&4))return d;if(s){var w=r.$$legacy;return function(A,y){return arguments.length>0?((!a||!y||w)&&s(y?d():A),A):d()}}var x=!1,E=!1,v=cu(l),_=pr(()=>{var A=d(),y=z(v);return x?(x=!1,E=!0,y):(E=!1,v.v=A)});return i||(_.equals=Mc),function(A,y){var T=z(_);if(Yx&&(x=E,d(),z(v)),arguments.length>0){let M=y?z(_):a&&o?He(A):A;return _.equals(M)||(x=!0,Oe(v,M),p&&c!==void 0&&(c=M),z(_)),A}return T}}function yI(r){return new nb(r)}var nb=class{#t;#e;constructor(e){var t=new Map,n=(a,o)=>{var u=cu(o);return t.set(a,u),u};let i=new Proxy({...e.props||{},$$events:{}},{get(a,o){return z(t.get(o)??n(o,Reflect.get(a,o)))},has(a,o){return z(t.get(o)??n(o,Reflect.get(a,o))),Reflect.has(a,o)},set(a,o,u){return Oe(t.get(o)??n(o,u),u),Reflect.set(a,o,u)}});this.#e=(e.hydrate?Qx:Dr)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&Ic(),this.#t=i.$$events;for(let a of Object.keys(this.#e))a==="$set"||a==="$destroy"||a==="$on"||Ha(this,a,{get(){return this.#e[a]},set(o){this.#e[a]=o},enumerable:!0});this.#e.$set=a=>{Object.assign(i,a)},this.#e.$destroy=()=>{Nr(this.#e)}}$set(e){this.#e.$set(e)}$on(e,t){this.#t[e]=this.#t[e]||[];let n=(...i)=>t.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var YG;typeof HTMLElement=="function"&&(YG=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(r,e,t){super(),this.$$ctor=r,this.$$s=e,t&&this.attachShadow({mode:"open"})}addEventListener(r,e,t){if(this.$$l[r]=this.$$l[r]||[],this.$$l[r].push(e),this.$$c){let n=this.$$c.$on(r,e);this.$$l_u.set(e,n)}super.addEventListener(r,e,t)}removeEventListener(r,e,t){if(super.removeEventListener(r,e,t),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let r=function(n){return i=>{let a=document.createElement("slot");n!=="default"&&(a.name=n),te(i,a)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},t=jG(this);for(let n of this.$$s)n in t&&(n==="default"&&!this.$$d.children?(this.$$d.children=r(n),e.default=!0):e[n]=r(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=ib(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=yI({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=Vi(()=>{this.$$r=!0;for(let n of Ax(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=ib(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1});for(let n in this.$$l)for(let i of this.$$l[n]){let a=this.$$c.$on(n,i);this.$$l_u.set(i,a)}this.$$l={}}}attributeChangedCallback(r,e,t){this.$$r||(r=this.$$g_p(r),this.$$d[r]=ib(r,t,this.$$p_d,"toProp"),this.$$c?.$set({[r]:this.$$d[r]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),bi(this.$$me),this.$$c=void 0)})}$$g_p(r){return Ax(this.$$p_d).find(e=>this.$$p_d[e].attribute===r||!this.$$p_d[e].attribute&&e.toLowerCase()===r)||r}});function ib(r,e,t,n){let i=t[r]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function jG(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var tW=ae('<div class="mb-icon-wrapper"></div>');function Zr(r,e){De(e,!0);let t=st(e,"iconName",3,""),n=bt(void 0);Za(()=>z(n)?e.plugin.internal.setIcon(z(n),t()):void 0);var i=Xr(),a=Ke(i);it(a,()=>t().length>0,o=>{var u=tW();So(u,l=>Oe(n,l),()=>z(n)),te(o,u)}),te(r,i),Ce()}async function rW(r,e,t){if(!e()){e(!0);try{await t()()}catch(n){console.warn("failed to run button component on click",n)}finally{e(!1)}}}var nW=ae('<button class="mb-button-inner"><!> </button>');function dp(r,e){De(e,!0);let t=st(e,"variant",19,()=>"default"),n=st(e,"disabled",7,!1),i=st(e,"tooltip",3,""),a=st(e,"label",3,""),o=st(e,"icon",3,""),u=st(e,"error",3,!1),l=st(e,"onclick",3,()=>{});var s=nW();s.__click=[rW,n,l];var c=de(s);it(c,o,p=>{Zr(p,{get plugin(){return e.plugin},get iconName(){return o()}})});var f=ce(c);ue(s),Ue(()=>{_t(s,"aria-label",i()),s.disabled=n(),jr(s,"mod-cta",t()==="primary"),jr(s,"mod-warning",t()==="destructive"),jr(s,"mod-plain",t()==="plain"),jr(s,"disabled",n()),jr(s,"mb-error",u()),ft(f,` ${a()??""}`)}),te(r,s),Ce()}Pt(["click"]);function hp(r){Mr===null&&Fd("onMount"),Mr.l!==null?iW(Mr).m.push(r):Za(()=>{let e=Kn(r);if(typeof e=="function")return e})}function Oc(r){Mr===null&&Fd("onDestroy"),hp(()=>()=>Kn(r))}function iW(r){var e=r.l;return e.u??={a:[],b:[],m:[]}}var du=class extends vi{constructor(e,t,n,i,a,o,u){super(),this.plugin=e,this.config=t,this.filePath=n,this.isInline=i==="inline",this.position=a,this.isInGroup=o,this.isPreview=u}onMount(e){ct.empty(e),ct.removeAllClasses(e),ct.addClasses(e,["mb-button",this.isInline?"mb-button-inline":"mb-button-block"]),!(!this.isInline&&!this.isPreview&&!this.isInGroup&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&ct.addClasses(e,this.config.class.split(" ").filter(t=>t!=="")),this.buttonComponent=Dr(dp,{target:e,props:{plugin:this.plugin,icon:this.config.icon,variant:this.config.style,label:this.config.label,tooltip:FD(this.config.tooltip)?this.config.tooltip:this.config.label,onclick:async()=>{await this.plugin.api.buttonActionRunner.runButtonActions(this.config,this.filePath,this.getContext())}}}))}getContext(){return{position:this.position?.getPosition(),isInGroup:this.isInGroup,isInline:this.isInline}}onUnmount(){this.buttonComponent&&Nr(this.buttonComponent),!this.isInline&&!this.isPreview&&this.config?.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var qd=class extends vi{constructor(e,t,n,i,a){super(),this.plugin=e,this.referencedIds=t,this.filePath=n,this.renderChildType=i,this.notePosition=a}renderInitialButton(e,t){return ct.removeAllClasses(e),ct.addClasses(e,["mb-button",this.renderChildType==="inline"?"mb-button-inline":"mb-button-block"]),Dr(dp,{target:e,props:{plugin:this.plugin,variant:"default",label:"Button ID not Found",tooltip:`No button with id '${t}' found`,error:!0,onclick:async()=>{}}})}onMount(e){ct.empty(e),ct.addClasses(e,["mb-button-group",this.renderChildType==="inline"?"mb-button-group-inline":"mb-button-group-block"]);for(let t of this.referencedIds){let n=ct.createElement(e,"span"),i=this.renderInitialButton(n,t),a,o=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,u=>{i&&Nr(i),i=void 0,a=new du(this.plugin,u,this.filePath,this.renderChildType,this.notePosition,!0,!1),a.mount(n)});this.registerUnmountCb(()=>{i&&Nr(i),i=void 0,a?.unmount(),o()})}}onUnmount(e){ct.empty(e)}};var zd=class extends $n{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.errorCollection=new Jt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.renderChildType=a,this.position=o}onMount(e){if(super.onMount(e),ct.removeAllClasses(e),this.declaration.errorCollection.isEmpty())try{this.buttonField=new qd(this.plugin,this.declaration.referencedButtonIds,this.getFilePath(),this.renderChildType,this.position),this.buttonField.mount(e)}catch(t){this.errorCollection.add(t),this.renderErrorIndicator(e)}else this.renderErrorIndicator(e)}renderErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString})}onUnmount(e){super.onUnmount(e),this.buttonField?.unmount(),di(e,"inline button")}};var Hd=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var Gd=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let t=new Set,n=new Jt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?n.add(new ps({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):t.has(i.id)?n.add(new ps({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(t.add(i.id),this.buttonTemplates.set(i.id,i));return n.hasErrors()&&this.buttonTemplates.clear(),n}registerButtonLoadListener(e,t,n){let i=this.getButton(e,t);i&&n(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),u=Vr();return o.set(u,n),()=>this.removeButtonLoadListener(e,t,u)}notifyButtonLoadListeners(e,t){let n=this.getButton(e,t);if(!n)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,u]of a)u(n)}removeButtonLoadListener(e,t,n){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(n),a.size===0&&i.delete(t),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0||t.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(t.id))throw new Error(`ButtonManager | button with id "${t.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,new Hd(t)),this.notifyButtonLoadListeners(e,t.id)}getButton(e,t){if(this.buttonTemplates.has(t))return this.buttonTemplates.get(t);let n=this.buttons.get(e);if(n)return n.get(t)?.getValue()}removeButton(e,t){let n=this.buttons.get(e);n&&(n.get(t)?.decrement(),n.get(t)?.isEmpty()&&n.delete(t),n.size===0&&this.buttons.delete(e))}};var Wd=class extends $n{constructor(e,t,n,i,a,o){super(e,t,n),this.declaration=i,this.position=a,this.isPreview=o,this.errorCollection=new Jt(this.getUuid()),this.errorCollection.merge(i.errorCollection)}onMount(e){if(super.onMount(e),ct.removeAllClasses(e),this.declaration.config&&this.declaration.errorCollection.isEmpty())try{this.buttonField=new du(this.plugin,this.declaration.config,this.getFilePath(),"block",this.position,!1,this.isPreview),this.buttonField.mount(e)}catch(t){this.errorCollection.add(t),this.renderErrorIndicator(e)}else this.renderErrorIndicator(e)}renderErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString})}onUnmount(e){super.onUnmount(e),this.buttonField?.unmount(),di(e,"button")}};var Yd=class extends $n{constructor(e,t,n,i,a){super(e,t,n),this.depth=i,this.content=a}async parseContent(){let e=this.content.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(e.length===0)return{content:""};if(e.length>1)return{error:"Embed may only contain one link"};let t=e[0],n=xn.parseLink(t);if(!n.internal)return{error:`${t} is not an internal link`};let i=this.plugin.internal.file.getPathByName(n.target,this.getFilePath());return i===void 0?{error:`"${n.target}" is not created yet`}:{content:await this.plugin.internal.file.read(i)}}exceedsMaxDepth(){return this.depth>Dm}createEmbedMessage(e,t){e.createSpan({text:t,cls:"mb-embed-message"})}async renderContent(e){try{if(this.exceedsMaxDepth()){this.createEmbedMessage(e,"Max embed depth exceeded");return}let t=await this.parseContent();if(t.error){this.createEmbedMessage(e,t.error);return}if(t.content===void 0){this.createEmbedMessage(e,"Embed content not found");return}let n=t.content.replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`);this.markdownUnloadCallback=await this.plugin.internal.renderMarkdown(n,e,this.getFilePath())}catch(t){let n=new Jt("Embed");n.add(t),this.plugin.internal.createErrorIndicator(e,{errorCollection:n})}}onMount(e){super.onMount(e),e.addClass("mb-embed"),this.renderContent(e)}onUnmount(e){super.onUnmount(e),e.removeClass("mb-embed"),this.markdownUnloadCallback?.(),di(e,"Embed")}};var jd=class extends $n{constructor(e,t,n){super(e,t,n)}onMount(e){super.onMount(e),ct.empty(e),ct.createElement(e,"span",{text:"[META_BIND] This folder has been excluded in the settings",class:"mb-error"})}onUnmount(e){super.onUnmount(e),ct.empty(e),di(e,"Excluded")}};var Zd=class extends bc{constructor(e,t){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=t}setValue(e){this.svelteComponentInstance?.setValue(e)}getInstance(){return this.svelteComponentInstance}mount(e,t,n={}){let i=Object.assign({plugin:this.plugin,value:t,onValueChange:a=>{this.notifyListeners(a)}},n);this.svelteComponentInstance=Dr(this.svelteComponent,{target:e,props:i}),this.mounted=!0}unmount(){this.unregisterAllListeners(),this.svelteComponentInstance&&Nr(this.svelteComponentInstance),this.mounted=!1}isMounted(){return this.mounted}};var or=class extends vi{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Yr(void 0),this.svelteWrapper=new Zd(this.plugin,this.getSvelteComponent()),this.computedSignal=new vd(this.inputSignal,t=>{let n=this.filterValue(t);return n!==void 0?n:this.getDefaultValue()})}destroy(){this.svelteWrapper.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){this.metadataSubscription?.update(e)}getDefaultValue(){let e=this.mountable.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.inputSignal.set(this.inputSignal.get()),this.computedSignal.registerListener({callback:n=>this.svelteWrapper.setValue(this.reverseMapValue(n))});let t=this.mountable.getBindTarget();t&&(this.svelteWrapper.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribe(this.mountable.getUuid(),this.inputSignal,t,()=>this.mountable.unmount())),this.svelteWrapper.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){this.computedSignal.unregisterAllListeners(),this.metadataSubscription?.unsubscribe(),this.svelteWrapper.unmount()}};var aW=(r,e,t,n)=>t.onValueChange(z(n)),oW=ae('<input type="date">');function ab(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(o){Oe(n,He(o))}var a=oW();return St(a),a.__input=[aW,t,e,n],vt(a,()=>z(n),o=>Oe(n,o)),te(r,a),Ce({setValue:i})}Pt(["input"]);var Jd=class extends or{filterValue(e){return Uo(e)}getFallbackDefaultValue(){return Qn.stringify(Qn.getDefaultDate())}getSvelteComponent(){return ab}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function sW(r,e,t){t.showDatePicker()}function uW(r,e,t){r.key===" "&&t.showDatePicker()}var lW=ae('<div class="mb-date-picker-input" role="button" tabindex="0"><span class="mb-date-picker-text"> </span> <!></div>');function ob(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}var a=lW();a.__click=[sW,t,e],a.__keydown=[uW,t,e];var o=de(a),u=de(o);Ue(()=>ft(u,z(n)?z(n).format(e.dateFormat):"none")),ue(o);var l=ce(o,2);return Zr(l,{get plugin(){return e.plugin},iconName:"calendar"}),ue(a),te(r,a),Ce({setValue:i})}Pt(["click","keydown"]);var Xd=class extends or{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=Qn.parse(e);if(t.isValid())return Qn.stringify(t)}getFallbackDefaultValue(){return Qn.getDefaultDate()}getSvelteComponent(){return ob}rawMapValue(e){return e===null?null:(console.log("value",e,Qn.stringify(e),Qn.dateFormat),Qn.stringify(e))}rawReverseMapValue(e){if(e===null)return null;let t=Qn.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.mountable.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.mountable.plugin.internal.openDatePickerModal(this)}}}};var cW=(r,e,t,n)=>t.onValueChange(z(n)),fW=ae('<input type="datetime-local">');function sb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(o){Oe(n,He(o))}var a=fW();return St(a),a.__input=[cW,t,e,n],vt(a,()=>z(n),o=>Oe(n,o)),te(r,a),Ce({setValue:i})}Pt(["input"]);var Qd=class extends or{filterValue(e){return Uo(e)}getFallbackDefaultValue(){return Qn.stringify(Qn.getDefaultDate())}getSvelteComponent(){return sb}rawMapValue(e){return e}rawReverseMapValue(e){return e}};var pW=ae("<div></div>");function ub(r,e){De(e,!0);let t,n=st(e,"value",11,""),i;Oc(()=>{i?.()});async function a(u){i?.(),i=await e.plugin.internal.renderMarkdown(u,t,e.filePath)}Za(()=>void a(n()));var o=pW();So(o,u=>t=u,()=>t),te(r,o),Ce()}var mW=(r,e)=>e(),dW=(r,e)=>e(),hW=(r,e,t,n)=>t.onValueChange(z(n)),gW=ae("<textarea></textarea>"),vW=ae('<div class="mb-editor-input card" role="button" tabindex="0"><!></div>');function lb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value)),i=bt(!1);function a(f){Oe(n,He(f))}function o(){Oe(i,!1)}function u(){Oe(i,!0)}function l(f){f.key===" "&&u()}var s=vW();s.__click=[mW,u];var c=de(s);return it(c,()=>z(i),f=>{var p=gW();Fn(p),p.__focusout=[dW,o],p.__input=[hW,t,e,n],vt(p,()=>z(n),m=>Oe(n,m)),te(f,p)},f=>{ub(f,{get value(){return z(n)},set value(p){Oe(n,He(p))},get plugin(){return e.plugin},get filePath(){return e.filePath}})}),ue(s),na("keypress",s,f=>l(f)),te(r,s),Ce({setValue:a})}Pt(["click","focusout","input"]);var Kd=class extends or{filterValue(e){return su(e)?e?.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return lb}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t),filePath:this.mountable.getFilePath()}}async renderInElement(e,t){this.mdUnloadCallback?.(),e.innerHTML="",this.mdUnloadCallback=await this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())}onUnmount(){super.onUnmount(),this.mdUnloadCallback?.()}};var yW=ae('<button class="mb-button-inner"><!></button>');function It(r,e){De(e,!0);let t=st(e,"variant",19,()=>"default"),n=st(e,"disabled",3,!1),i=st(e,"tooltip",3,""),a=st(e,"onclick",3,()=>{});var o=yW();o.__click=function(...l){a()?.apply(this,l)};var u=de(o);Xa(u,()=>e.children),ue(o),Ue(()=>{_t(o,"aria-label",i()),o.disabled=n(),jr(o,"mod-cta",t()==="primary"),jr(o,"mod-warning",t()==="destructive"),jr(o,"mod-plain",t()==="plain"),jr(o,"disabled",n())}),te(r,o),Ce()}Pt(["click"]);var xW=ae('<div class="mb-image-card" role="listitem"><img class="mb-image-card-image"> <div class="mb-image-card-footer"><span> </span></div></div>'),bW=ae('<div class="mb-image-card-grid"></div> <div class="mb-list-input"><!></div>',1);function cb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(p){Oe(n,He(p))}function a(p){z(n).push(p),e.onValueChange(z(n))}function o(p){z(n).splice(p,1),e.onValueChange(z(n))}function u(p,m){let d=[];m>0&&d.push({name:"Move left",icon:"arrow-left",onclick:()=>{let h=z(n)[m-1];z(n)[m-1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),m<z(n).length-1&&d.push({name:"Move right",icon:"arrow-right",onclick:()=>{let h=z(n)[m+1];z(n)[m+1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),d.push({name:"Copy image path",icon:"copy",onclick:()=>{let h=z(n)[m];navigator.clipboard.writeText(h).then(()=>{e.plugin.internal.showNotice("Image path copied to clipboard")}).catch(()=>{e.plugin.internal.showNotice("Failed to copy image to clipboard")})}}),d.push({name:"Remove",icon:"x",warning:!0,onclick:()=>o(m)}),e.plugin.internal.createContextMenu(d).showWithEvent(p)}var l=bW(),s=Ke(l);Gt(s,21,()=>z(n),Xt,(p,m,d)=>{var h=xW();h.__contextmenu=_=>u(_,d);var w=de(h);Ue(()=>_t(w,"src",e.plugin.internal.imagePathToUri(z(m))));var x=ce(w,2),E=de(x),v=de(E);ue(E),ue(x),ue(h),Ue(()=>{_t(w,"alt",z(m)),ft(v,z(m))}),te(p,h)}),ue(s);var c=ce(s,2),f=de(c);return It(f,{get variant(){return"default"},onclick:()=>e.showSuggester(),children:(p,m)=>{Vt();var d=hr("Add new image");te(p,d)},$$slots:{default:!0}}),ue(c),te(r,l),Ce({setValue:i,pushValue:a})}Pt(["contextmenu"]);var eh=class extends or{filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return cb}rawMapValue(e){return e}rawReverseMapValue(e){return e.map(t=>vo(t)).filter(t=>t!==void 0)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>{this.svelteWrapper.getInstance()?.pushValue(e)})}};var wW=ae('<img class="mb-image-card-image">'),_W=ae('<div class="mb-image-card"><!> <div class="mb-image-card-footer"><span> </span> <!></div></div>');function fb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(p){Oe(n,He(p))}function a(){e.showSuggester()}var o=_W(),u=de(o);it(u,()=>z(n),p=>{var m=wW();Ue(()=>_t(m,"src",e.plugin.internal.imagePathToUri(z(n)))),Ue(()=>_t(m,"alt",z(n))),te(p,m)});var l=ce(u,2),s=de(l),c=de(s);ue(s);var f=ce(s,2);return It(f,{get variant(){return"plain"},onclick:a,children:(p,m)=>{Zr(p,{iconName:"pencil",get plugin(){return e.plugin}})},$$slots:{default:!0}}),ue(l),ue(o),Ue(()=>ft(c,z(n)||"no image selected")),te(r,o),Ce({setValue:i})}var th=class extends or{filterValue(e){return su(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return fb}rawMapValue(e){return e}rawReverseMapValue(e){return vo(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};var SW=ae('<a target="_blank" rel="noopener"> </a>'),AW=ae('<a target="_blank" rel="noopener"> </a>');function Ns(r,e){De(e,!0);let t=pr(()=>e.mdLink.block?`${e.mdLink.target}#${e.mdLink.block}`:e.mdLink.target),n=pr(()=>e.mdLink.internal?"internal-link":"external-link");var i=Xr(),a=Ke(i);it(a,()=>e.mdLink.alias,o=>{var u=SW(),l=de(u);ue(u),Ue(()=>{_t(u,"data-href",z(t)),_t(u,"href",z(t)),Qa(u,z(n)),_t(u,"aria-label",z(t)),ft(l,e.mdLink.alias)}),te(o,u)},o=>{var u=AW(),l=de(u);ue(u),Ue(()=>{_t(u,"data-href",z(t)),_t(u,"href",z(t)),Qa(u,z(n)),ft(l,z(t))}),te(o,u)}),te(r,i),Ce()}var EW=ae("<!><span>,</span> <span></span>",1),TW=ae("<!> <!>",1);function gp(r,e){De(e,!0);let t=st(e,"elements",19,()=>[]);var n=TW(),i=Ke(n);Gt(i,17,()=>t().slice(0,t().length-1),Xt,(o,u)=>{var l=EW(),s=Ke(l);Xa(s,()=>e.children,()=>z(u)),Vt(3),te(o,l)});var a=ce(i,2);Xa(a,()=>e.children,()=>t()[t().length-1]),te(r,n),Ce()}var MW=ae('<span class="mb-whitespace-pre"> </span>'),DW=ae("<span> </span>"),CW=ae("<span><!></span>"),NW=ae("<span><!></span>");function Ma(r,e){De(e,!0);let t=st(e,"value",3,void 0),n=pr(()=>uF(t(),!1));var i=Xr(),a=Ke(i);it(a,()=>typeof z(n)=="string",o=>{var u=MW(),l=de(u);ue(u),Ue(()=>ft(l,z(n))),te(o,u)},o=>{var u=Xr(),l=Ke(u);it(l,()=>Array.isArray(z(n)),s=>{var c=CW(),f=de(c);gp(f,{get elements(){return z(n)},children:(m,d=yo)=>{var h=Xr(),w=Ke(h);it(w,()=>typeof d()=="string",x=>{var E=DW(),v=de(E);ue(E),Ue(()=>ft(v,d())),te(x,E)},x=>{Ns(x,{get mdLink(){return d()}})}),te(m,h)}}),ue(c),te(s,c)},s=>{var c=NW(),f=de(c);Ns(f,{get mdLink(){return z(n)}}),ue(c),te(s,c)},!0),te(o,u)}),te(r,i),Ce()}function FW(r,e,t){r.key===" "&&t.showInput()}var IW=ae('<div class="mb-inline-list-item" role="listitem"><!></div>'),PW=(r,e,t)=>t.showInput(),BW=ae('<div class="mb-inline-list"><!> <div class="mb-inline-list-add" role="button" tabindex="0"><span>&#x200B;</span> <!></div></div>');function pb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(p){Oe(n,He(p))}function a(p){z(n).push(p),e.onValueChange(z(n))}function o(p){z(n).splice(p,1),e.onValueChange(z(n))}function u(p,m){let d=[];m>0&&d.push({name:"Move left",icon:"arrow-left",onclick:()=>{let h=z(n)[m-1];z(n)[m-1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),m<z(n).length-1&&d.push({name:"Move right",icon:"arrow-right",onclick:()=>{let h=z(n)[m+1];z(n)[m+1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),d.push({name:"Edit",icon:"pencil",onclick:()=>{e.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:vo(z(n)[m]),multiline:!1,onSubmit:h=>{z(n)[m]=h,e.onValueChange(z(n))},onCancel:()=>{}})}}),d.push({name:"Remove",icon:"x",warning:!0,onclick:()=>o(m)}),e.plugin.internal.createContextMenu(d).showWithEvent(p)}var l=BW(),s=de(l);Gt(s,17,()=>z(n),Xt,(p,m,d)=>{var h=IW();h.__contextmenu=x=>u(x,d);var w=de(h);Ma(w,{get value(){return z(m)}}),ue(h),te(p,h)});var c=ce(s,2);c.__click=[PW,t,e],c.__keydown=[FW,t,e];var f=ce(de(c),2);return Zr(f,{get plugin(){return e.plugin},iconName:"plus"}),ue(c),ue(l),te(r,l),Ce({setValue:i,pushValue:a})}Pt(["contextmenu","click","keydown"]);var rh=class extends or{filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return pb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{this.svelteWrapper.getInstance()?.pushValue(e)},onCancel:()=>{}})}};function kW(r,e,t){if(!t.allowOther){t.showSuggester();return}t.plugin.internal.createContextMenu([{name:"From Options",onclick:()=>t.showSuggester()},{name:"From Text",onclick:()=>t.showTextPrompt()}]).showWithEvent(r)}function $W(r,e,t){r.key===" "&&t.showSuggester()}var OW=ae('<div class="mb-inline-list-item" role="listitem"><!></div>'),RW=ae('<div class="mb-inline-list"><!> <div class="mb-inline-list-add" role="button" tabindex="0"><span>&#x200B;</span> <!></div></div>');function mb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(p){Oe(n,He(p))}function a(p){z(n).push(p),e.onValueChange(z(n))}function o(p){z(n).splice(p,1),e.onValueChange(z(n))}function u(p,m){let d=[];m>0&&d.push({name:"Move left",icon:"arrow-left",onclick:()=>{let h=z(n)[m-1];z(n)[m-1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),m<z(n).length-1&&d.push({name:"Move right",icon:"arrow-right",onclick:()=>{let h=z(n)[m+1];z(n)[m+1]=z(n)[m],z(n)[m]=h,e.onValueChange(z(n))}}),d.push({name:"Remove",icon:"x",warning:!0,onclick:()=>o(m)}),e.plugin.internal.createContextMenu(d).showWithEvent(p)}var l=RW(),s=de(l);Gt(s,17,()=>z(n),Xt,(p,m,d)=>{var h=OW();h.__contextmenu=x=>u(x,d);var w=de(h);Ma(w,{get value(){return z(m)}}),ue(h),te(p,h)});var c=ce(s,2);c.__click=[kW,t,e],c.__keydown=[$W,t,e];var f=ce(de(c),2);return Zr(f,{get plugin(){return e.plugin},iconName:"plus"}),ue(c),ue(l),te(r,l),Ce({setValue:i,pushValue:a})}Pt(["contextmenu","click","keydown"]);var nh=class extends or{filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return mb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowsOther:this.mountable.getArgument("allowOther")?.value===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{this.svelteWrapper.getInstance()?.pushValue(e.value)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{this.svelteWrapper.getInstance()?.pushValue(e)},onCancel:()=>{}})}};var LW=(r,e)=>e(),UW=ae("<option> </option>"),VW=ae('<select class="dropdown"></select>');function db(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(u){Oe(n,He(u))}function a(){e.onValueChange(z(n))}var o=VW();return o.__change=[LW,a],Gt(o,21,()=>e.options,Xt,(u,l)=>{var s=UW(),c={},f=de(s);ue(s),Ue(()=>{c!==(c=z(l).value)&&(s.value=(s.__value=z(l).value)==null?"":z(l).value),ft(f,z(l).name)}),te(u,s)}),ue(o),$c(o,()=>z(n),u=>Oe(n,u)),te(r,o),Ce({setValue:i})}Pt(["change"]);var ih=class extends or{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return uu(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return db}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};var qW=ae('<div class="mb-list-item" role="listitem"><!></div>'),zW=ae('<span class="mb-list-empty">Empty</span>'),HW=ae('<textarea tabindex="0"></textarea>'),GW=(r,e,t)=>{r.key==="Enter"&&z(e).length>0&&t()},WW=ae('<input type="text" tabindex="0">'),YW=ae("<span> </span>"),jW=ae('<div class="mb-list-items"></div> <div class="mb-list-input"><!> <!> <!></div>',1);function hb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value)),i=bt("");function a(x){Oe(n,He(x))}function o(){z(n).push(z(i)),e.onValueChange(z(n)),Oe(i,"")}function u(x){z(n).splice(x,1),e.onValueChange(z(n))}function l(x,E){let v=E.toString();return`${x.toString().padStart(v.length,"0")}/${v}`}function s(x,E){let v=[];E>0&&v.push({name:"Move up",icon:"arrow-up",onclick:()=>{let _=z(n)[E-1];z(n)[E-1]=z(n)[E],z(n)[E]=_,e.onValueChange(z(n))}}),E<z(n).length-1&&v.push({name:"Move down",icon:"arrow-down",onclick:()=>{let _=z(n)[E+1];z(n)[E+1]=z(n)[E],z(n)[E]=_,e.onValueChange(z(n))}}),v.push({name:"Edit",icon:"pencil",onclick:()=>{e.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:vo(z(n)[E]),multiline:e.multiLine,onSubmit:_=>{z(n)[E]=_,e.onValueChange(z(n))},onCancel:()=>{}})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>u(E)}),e.plugin.internal.createContextMenu(v).showWithEvent(x)}var c=jW(),f=Ke(c);Gt(f,21,()=>z(n),Xt,(x,E,v)=>{var _=qW();_.__contextmenu=y=>s(y,v);var A=de(_);Ma(A,{get value(){return z(E)}}),ue(_),te(x,_)},x=>{var E=zW();te(x,E)}),ue(f);var p=ce(f,2),m=de(p);it(m,()=>e.multiLine,x=>{var E=HW();Fn(E),Ue(()=>{_t(E,"placeholder",e.placeholder),_t(E,"maxlength",e.limit)}),vt(E,()=>z(i),v=>Oe(i,v)),te(x,E)},x=>{var E=WW();St(E),E.__keyup=[GW,i,o],Ue(()=>{_t(E,"placeholder",e.placeholder),_t(E,"maxlength",e.limit)}),vt(E,()=>z(i),v=>Oe(i,v)),te(x,E)});var d=ce(m,2);it(d,()=>e.limit!==void 0,x=>{var E=YW(),v=de(E);Ue(()=>ft(v,l(z(n).length,e.limit))),ue(E),Ue(()=>Qa(E,`mb-content-limit-indicator ${z(n).length>e.limit?"mb-content-limit-indicator-overflow":""}`)),te(x,E)});var h=ce(d,2),w=pr(()=>!z(i));return It(h,{onclick:()=>o(),get disabled(){return z(w)},children:(x,E)=>{Zr(x,{get plugin(){return e.plugin},iconName:"plus"})},$$slots:{default:!0}}),ue(p),te(r,c),Ce({setValue:a})}Pt(["contextmenu","keyup"]);var ah=class extends or{filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return hb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{placeholder:this.mountable.getArgument("placeholder")?.value??"New Entry...",limit:this.mountable.getArgument("limit")?.value,multiLine:this.mountable.getArgument("multiLine")?.value===!0}}};var ZW=ae('<div class="mb-list-item" role="listitem"><!></div>'),JW=ae('<span class="mb-list-empty">Empty</span>'),XW=ae('<div class="mb-list-items"></div> <div class="mb-list-input"><!> <!></div>',1);function gb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(m){Oe(n,He(m))}function a(m){z(n).push(m),e.onValueChange(z(n))}function o(m){z(n).splice(m,1),e.onValueChange(z(n))}function u(m,d){let h=[];d>0&&h.push({name:"Move up",icon:"arrow-up",onclick:()=>{let w=z(n)[d-1];z(n)[d-1]=z(n)[d],z(n)[d]=w,e.onValueChange(z(n))}}),d<z(n).length-1&&h.push({name:"Move down",icon:"arrow-down",onclick:()=>{let w=z(n)[d+1];z(n)[d+1]=z(n)[d],z(n)[d]=w,e.onValueChange(z(n))}}),h.push({name:"Remove",icon:"x",warning:!0,onclick:()=>o(d)}),e.plugin.internal.createContextMenu(h).showWithEvent(m)}var l=XW(),s=Ke(l);Gt(s,21,()=>z(n),Xt,(m,d,h)=>{var w=ZW();w.__contextmenu=E=>u(E,h);var x=de(w);Ma(x,{get value(){return z(d)}}),ue(w),te(m,w)},m=>{var d=JW();te(m,d)}),ue(s);var c=ce(s,2),f=de(c);It(f,{get variant(){return"default"},onclick:()=>e.showSuggester(),children:(m,d)=>{Vt();var h=hr("Add new item");te(m,h)},$$slots:{default:!0}});var p=ce(f,2);return it(p,()=>e.allowOther,m=>{It(m,{get variant(){return"default"},onclick:()=>e.showTextPrompt(),children:(d,h)=>{Vt();var w=hr("Add other item");te(d,w)},$$slots:{default:!0}})}),ue(c),te(r,l),Ce({setValue:i,pushValue:a})}Pt(["contextmenu"]);var oh=class extends or{filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return gb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:this.mountable.getArgument("allowOther")?.value===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{this.svelteWrapper.getInstance()?.pushValue(e.value)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{this.svelteWrapper.getInstance()?.pushValue(e)},onCancel:()=>{}})}};var QW=(r,e,t)=>{r.target instanceof HTMLInputElement||e(z(t).value)},KW=(r,e,t)=>e(z(t).value),eY=ae('<div class="mb-select-input-element mb-mod-multi" role="button" tabindex="0"><input type="checkbox"> <!></div>');function vb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}function a(s){z(n).includes(s)?Oe(n,He(z(n).filter(c=>c!==s))):z(n).push(s),e.onValueChange(z(n))}function o(s,c){s.key===" "&&a(c)}var u=Xr(),l=Ke(u);return Gt(l,17,()=>e.options,Xt,(s,c)=>{var f=eY();f.__click=[QW,a,c];let p=pr(()=>z(n).includes(z(c).value));Ue(()=>jr(f,"is-selected",z(p)));var m=de(f);St(m),Ue(()=>Cs(m,z(n).includes(z(c).value))),m.__input=[KW,a,c];var d=ce(m,2);Ma(d,{get value(){return z(c).name}}),ue(f),na("keypress",f,h=>o(h,z(c).value)),te(s,f)}),te(r,u),Ce({setValue:i})}Pt(["click","input"]);var sh=class extends or{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return za(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return vb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};var tY=(r,e,t,n)=>t.onValueChange(z(n)),rY=ae('<input type="number" tabindex="0">');function yb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(o){Oe(n,He(o))}var a=rY();return St(a),a.__input=[tY,t,e,n],Ue(()=>_t(a,"placeholder",e.placeholder)),vt(a,()=>z(n),o=>Oe(n,o)),te(r,a),Ce({setValue:i})}Pt(["input"]);var uh=class extends or{filterValue(e){return Sc(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return yb}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{placeholder:this.mountable.getArgument("placeholder")?.value??"Number"}}};function xI(r,e,t){e(),t(r)}var nY=ae('<div class="mb-progress-bar-input" tabindex="0" role="button"><div class="mb-progress-bar-progress" role="slider" tabindex="0"></div> <span class="mb-progress-bar-value"> </span> <span class="mb-progress-bar-label-left"> </span> <span class="mb-progress-bar-label-right"> </span></div>');function xb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value)),i=!1,a,o=0,u;function l(b){Oe(n,He(b))}function s(b){Oe(n,He(b)),e.onValueChange(b)}function c(b){return b=Of(b,e.minValue,e.maxValue),By(b,e.minValue,e.maxValue,0,100)}function f(){i=!0}function p(){i=!1}function m(b){if(!i)return;b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault();let D=b instanceof TouchEvent?b.touches[0].clientX:b.clientX;d(D)}function d(b){let D=a.getBoundingClientRect();b=Of(b,D.left,D.right);let I=By(b,D.left,D.right,e.minValue,e.maxValue);I=h(I,e.stepSize),s(I)}function h(b,D){return Number.parseFloat((Math.round(b/D)*D).toFixed(10))}function w(b){o<50&&(o+=1);let D=Math.ceil(o/5);if(b.key==="ArrowUp"||b.key==="ArrowRight"){let I=Of(z(n)+D,e.minValue,e.maxValue);s(I)}if(b.key==="ArrowDown"||b.key==="ArrowLeft"){let I=Of(z(n)-D,e.minValue,e.maxValue);s(I)}window.clearTimeout(u),u=window.setTimeout(()=>o=1,100)}var x=nY();na("touchmove",Ds,m,void 0,!1),na("touchcancel",Ds,p),na("touchend",Ds,p),na("mousemove",Ds,m),na("mouseup",Ds,p),So(x,b=>a=b,()=>a),x.__keydown=w,x.__mousedown=[xI,f,m],x.__touchstart=[xI,f,m];var E=de(x);Ue(()=>_t(E,"style",`width: ${c(z(n))}%`));var v=ce(E,2),_=de(v);ue(v);var A=ce(v,2),y=de(A);ue(A);var T=ce(A,2),M=de(T);return ue(T),ue(x),Ue(()=>{_t(E,"aria-valuemin",e.minValue),_t(E,"aria-valuemax",e.maxValue),_t(E,"aria-valuenow",z(n)),ft(_,z(n)),ft(y,e.minValue),ft(M,e.maxValue)}),na("dragstart",E,()=>i=!0),te(r,x),Ce({setValue:l})}Pt(["keydown","mousedown","touchstart"]);var lh=class extends or{constructor(e){if(super(e),this.minValue=this.mountable.getArgument("minValue")?.value??0,this.maxValue=this.mountable.getArgument("maxValue")?.value??100,this.stepSize=this.mountable.getArgument("stepSize")?.value??1,this.minValue>=this.maxValue)throw new Lr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Bm(Sc(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return xb}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};var iY=(r,e,t)=>{r.target instanceof HTMLInputElement||e(z(t).value)},aY=(r,e,t)=>e(z(t).value),oY=ae('<div class="mb-select-input-element" role="button" tabindex="0"><input type="checkbox"> <!></div>');function bb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}function a(s){z(n)===s?Oe(n,null):Oe(n,He(s)),e.onValueChange(z(n))}function o(s,c){s.key===" "&&a(c)}var u=Xr(),l=Ke(u);return Gt(l,17,()=>e.options,Xt,(s,c)=>{var f=oY();f.__click=[iY,a,c];var p=de(f);St(p),p.__input=[aY,a,c];var m=ce(p,2);Ma(m,{get value(){return z(c).name}}),ue(f),Ue(()=>{jr(f,"is-selected",z(c).value===z(n)),Cs(p,z(c).value===z(n))}),na("keypress",f,d=>o(d,z(c).value)),te(s,f)}),te(r,u),Ce({setValue:i})}Pt(["click","input"]);var ch=class extends or{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return uu(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return bb}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};var sY=ae('<span class="mb-slider-input-label"> </span>'),uY=(r,e,t,n)=>t.onValueChange(z(n)),lY=ae('<span class="mb-slider-input-label"> </span>'),cY=ae('<!> <input class="mb-slider-input slider" type="range" tabindex="0"> <!>',1);function wb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}var a=cY(),o=Ke(a);it(o,()=>e.addLabels,s=>{var c=sY(),f=de(c);ue(c),Ue(()=>ft(f,e.minValue)),te(s,c)});var u=ce(o,2);St(u),u.__input=[uY,t,e,n];var l=ce(u,2);return it(l,()=>e.addLabels,s=>{var c=lY(),f=de(c);ue(c),Ue(()=>ft(f,e.maxValue)),te(s,c)}),Ue(()=>{_t(u,"min",e.minValue),_t(u,"max",e.maxValue),_t(u,"step",e.stepSize)}),vt(u,()=>z(n),s=>Oe(n,s)),te(r,a),Ce({setValue:i})}Pt(["input"]);var fh=class extends or{constructor(e){if(super(e),this.minValue=this.mountable.getArgument("minValue")?.value??0,this.maxValue=this.mountable.getArgument("maxValue")?.value??100,this.stepSize=this.mountable.getArgument("stepSize")?.value??1,this.minValue>=this.maxValue)throw new Lr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Bm(Sc(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return wb}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:this.mountable.getArgument("addLabels")?.value===!0}}};var fY=ae("<span> </span>"),pY=ae('<div class="mb-suggest-input"><div class="mb-suggest-text"><!></div> <!> <!></div>');function _b(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(p){Oe(n,He(p))}let a=pr(()=>z(n)?.toString()??"null"),o=pr(()=>{if(xn.isLink(z(a)))try{return xn.parseLink(z(a))}catch(p){console.warn(p)}});var u=pY(),l=de(u),s=de(l);it(s,()=>z(o)!==void 0,p=>{Ns(p,{get mdLink(){return z(o)}})},p=>{var m=fY(),d=de(m);ue(m),Ue(()=>ft(d,z(a))),te(p,m)}),ue(l);var c=ce(l,2);It(c,{get variant(){return"plain"},get onclick(){return e.showSuggester},children:(p,m)=>{Zr(p,{get plugin(){return e.plugin},iconName:"list"})},$$slots:{default:!0}});var f=ce(c,2);return it(f,()=>e.allowOther,p=>{It(p,{get variant(){return"plain"},get onclick(){return e.showTextPrompt},children:(m,d)=>{Zr(m,{get plugin(){return e.plugin},iconName:"pencil"})},$$slots:{default:!0}})}),ue(u),te(r,u),Ce({setValue:i})}var ph=class extends or{filterValue(e){return uu(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return _b}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:this.mountable.getArgument("allowOther")?.value===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind Suggester",subTitle:"Set the suggester value.",value:"",multiline:!1,onSubmit:e=>{this.setInternalValue(e)},onCancel:()=>{}})}};var mY=(r,e,t,n)=>t.onValueChange(z(n)),dY=ae("<span> </span>"),hY=ae('<input type="text" tabindex="0"> <!>',1);function Sb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}function a(s,c){let f=c.toString();return`${s.toString().padStart(f.length,"0")}/${f}`}var o=hY(),u=Ke(o);St(u),u.__input=[mY,t,e,n];var l=ce(u,2);return it(l,()=>e.limit!==void 0,s=>{var c=dY(),f=de(c);Ue(()=>ft(f,a(z(n).length,e.limit))),ue(c),Ue(()=>Qa(c,`mb-content-limit-indicator ${z(n).length>e.limit?"mb-content-limit-indicator-overflow":""}`)),te(s,c)}),Ue(()=>{_t(u,"placeholder",e.placeholder),_t(u,"maxlength",e.limit)}),vt(u,()=>z(n),s=>Oe(n,s)),te(r,o),Ce({setValue:i})}Pt(["input"]);var mh=class extends or{filterValue(e){return Uo(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return Sb}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{placeholder:this.mountable.getArgument("placeholder")?.value??"Text",limit:this.mountable.getArgument("limit")?.value}}};var gY=(r,e,t,n)=>t.onValueChange(z(n)),vY=ae('<textarea class="mb-input-textarea" tabindex="0"></textarea>');function Ab(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(o){Oe(n,He(o))}var a=vY();return Fn(a),a.__input=[gY,t,e,n],Ue(()=>{_t(a,"placeholder",e.placeholder),_t(a,"maxlength",e.limit)}),vt(a,()=>z(n),o=>Oe(n,o)),te(r,a),Ce({setValue:i})}Pt(["input"]);var dh=class extends or{filterValue(e){return Uo(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return Ab}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{placeholder:this.mountable.getArgument("placeholder")?.value??"Text",limit:this.mountable.getArgument("limit")?.value}}};var yY=(r,e,t,n)=>t.onValueChange(z(n)),xY=ae('<input type="time">');function Eb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(o){Oe(n,He(o))}var a=xY();return St(a),a.__input=[yY,t,e,n],vt(a,()=>z(n),o=>Oe(n,o)),te(r,a),Ce({setValue:i})}Pt(["input"]);var hh=class extends or{filterValue(e){return Uo(e)}getFallbackDefaultValue(){return"00:00"}getSvelteComponent(){return Eb}rawMapValue(e){return e}rawReverseMapValue(e){return e}};var bY=(r,e)=>e(),wY=(r,e)=>e(r),_Y=ae('<div class="checkbox-container" role="switch" tabindex="0"><input type="checkbox" tabindex="-1"></div>');function Tb(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]),n=bt(He(e.value));function i(s){Oe(n,He(s))}function a(){Oe(n,!z(n)),e.onValueChange(z(n))}function o(s){s.key===" "&&a()}var u=_Y();u.__click=[bY,a],u.__keydown=[wY,o];var l=de(u);return St(l),ue(u),Ue(()=>{_t(u,"aria-checked",z(n)),jr(u,"is-enabled",z(n)),Cs(l,z(n))}),te(r,u),Ce({setValue:i})}Pt(["click","keydown"]);var gh=class extends or{constructor(e){super(e),this.onValue=this.mountable.getArgument("onValue")?.value??!0,this.offValue=this.mountable.getArgument("offValue")?.value??!1}filterValue(e){return e===this.onValue||e===this.offValue?uu(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return Tb}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};var Wt=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){km(e)}};var vh=class{constructor(e){this.plugin=e}createInputField(e){let t=e.declaration.inputFieldType,n=e.renderChildType;if(t!=="invalid"&&this.checkRenderChildTypeAllowed(t,n),t==="toggle")return new gh(e);if(t==="slider")return new fh(e);if(t==="text")return new mh(e);if(t==="textArea")return new dh(e);if(t==="select")return new ch(e);if(t==="multiSelect")return new sh(e);if(t==="datePicker")return new Xd(e);if(t==="number")return new uh(e);if(t==="suggester")return new ph(e);if(t==="editor")return new Kd(e);if(t==="progressBar")return new lh(e);if(t==="inlineSelect")return new ih(e);if(t==="imageSuggester")return new th(e);if(t==="list")return new ah(e);if(t==="listSuggester")return new oh(e);if(t==="date")return new Jd(e);if(t==="time")return new hh(e);if(t==="inlineListSuggester")return new nh(e);if(t==="inlineList")return new rh(e);if(t==="imageListSuggester")return new eh(e);if(t==="dateTime")return new Qd(e);}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=Mm[e];if(t==="block"&&!n.allowInBlock)throw new co({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[Wt.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new co({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[Wt.linkToInputField(e)]})}};var Rc=class extends $n{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Jt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new zt({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",t=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||t)}createContainer(e){if(this.shouldAddCardContainer()){let t=ct.createElement(e,"div");ct.addClass(t,"mb-card");let n=this.getArgument("title");return n&&ct.createElement(t,"h3",{text:n.value}),t}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let n=ct.createElement(e,"code",{class:"mb-none"}),i=ct.createElement(n,"a",{text:this.declarationString,class:"mb-no-link"});i.href=Wt.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new zt({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(super.onMount(e),ct.empty(e),ct.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=this.createContainer(e);this.createErrorIndicator(t);let n=ct.createElement(t,"div",{class:"mb-input-wrapper"});this.inputField?.mount(n);let i=this.getArguments("class");for(let a of i)ct.addClasses(n,a.value);ct.addClass(n,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?ct.addClass(e,"mb-input-block"):ct.addClass(e,"mb-input-inline"),this.addShowcase(t)}onUnmount(e){super.onUnmount(e),this.inputField?.destroy(),di(e,"input field")}};var SY=ae("<div></div>");function hu(r,e){De(e,!0);let t;hp(()=>{e.mountable.mount(t)}),Oc(()=>{e.mountable.unmount()});var n=SY();So(n,i=>t=i,()=>t),te(r,n),Ce()}var AY=ae("<th> </th>"),EY=ae("<td><!></td>"),TY=ae('<td class="meta-bind-error">invalid data</td>'),MY=ae('<tr><!><td class="mb-html-table-button-cell"><!></td></tr>'),DY=ae('<div class="mb-table-wrapper"><table class="mb-html-table"><thead><tr><!><th class="mb-html-table-button-cell"></th></tr></thead><tbody></tbody></table></div> <!>',1);function Mb(r,e){De(e,!0);let t=st(e,"tableHead",19,()=>[]),n=bt(He([]));function i(m){Oe(n,He(m))}var a=DY(),o=Ke(a),u=de(o),l=de(u),s=de(l),c=de(s);Gt(c,17,t,Xt,(m,d)=>{var h=AY(),w=de(h);ue(h),Ue(()=>ft(w,z(d))),te(m,h)}),Vt(),ue(s),ue(l);var f=ce(l);Gt(f,21,()=>z(n),m=>m.index,(m,d)=>{var h=MY(),w=de(h);it(w,()=>z(d).isValid,v=>{var _=Xr(),A=Ke(_);Gt(A,17,()=>z(d).cells,Xt,(y,T)=>{var M=EY(),b=de(M);hu(b,{get mountable(){return z(T)}}),ue(M),te(y,M)}),te(v,_)},v=>{var _=TY();Ue(()=>_t(_,"colspan",t().length)),te(v,_)});var x=ce(w),E=de(x);It(E,{onclick:()=>e.table.removeColumn(z(d).index),children:(v,_)=>{Zr(v,{get plugin(){return e.table.plugin},iconName:"x"})},$$slots:{default:!0}}),ue(x),ue(h),te(m,h)}),ue(f),ue(u),ue(o);var p=ce(o,2);return It(p,{onclick:()=>e.table.addColumn(),children:(m,d)=>{Vt();var h=hr("Add Row");te(m,h)},$$slots:{default:!0}}),te(r,a),Ce({updateTable:i})}function yh(r){return new iu(r.map(e=>sF.tryParse(e).success?new Ju("array",e):new Ju("object",e)))}var xh=class extends $n{constructor(e,t,n,i,a,o){super(e,t,n),this.bindTarget=i,this.tableHead=a,this.columns=o,this.inputSignal=new Yr(void 0),this.outputSignal=new Yr(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.getUuid(),this.inputSignal,this.bindTarget,()=>this.unmount())}unregisterSelfFromMetadataManager(){this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),this.metadataSubscription?.unsubscribe()}updateMetadataManager(e){this.metadataSubscription?.update(e)}updateDisplayValue(e){e=e??[];let t=[];for(let n=0;n<e.length;n++)if(typeof e[n]=="object"){let i=new xc({storageType:this.bindTarget.storageType,storageProp:this.bindTarget.storageProp.concat(yh([n.toString()])),storagePath:this.bindTarget.storagePath,listenToChildren:!1}),a=this.columns.map(o=>typeof o=="string"?this.plugin.api.createInlineFieldFromString(o,this.getFilePath(),i,"inline"):"inputFieldType"in o?this.plugin.api.createInputFieldMountable(this.getFilePath(),{declaration:o,scope:i,renderChildType:"inline"}):this.plugin.api.createViewFieldMountable(this.getFilePath(),{declaration:o,scope:i,renderChildType:"inline"}));t.push({cells:a,index:n,value:e[n],isValid:!0})}else t.push({cells:[],index:n,value:e[n],isValid:!1});this.tableComponent?.updateTable(t)}createCell(e,t){return e.mount(t),()=>e.unmount()}removeColumn(e){this.value=this.value??[],this.value.splice(e,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){this.value=this.value??[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onMount(e){super.onMount(e),this.tableComponent=Dr(Mb,{target:e,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.value=t,this.updateDisplayValue(t)}}),this.registerSelfToMetadataManager()}onUnmount(e){super.onUnmount(e),this.unregisterSelfFromMetadataManager(),this.tableComponent&&Nr(this.tableComponent),di(e,"table")}};var bh=class extends $n{constructor(e,t,n,i){super(e,t,n),this.declaration=i,this.declarationString=i.declarationString,this.errorCollection=new Jt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){if(this.errorCollection.isEmpty())try{for(let e of this.declaration.bindTargetMappings??[])this.variables.push({bindTargetDeclaration:e.bindTarget,inputSignal:new Yr(void 0),uuid:Vr(),contextName:e.name})}catch(e){this.errorCollection.add(e)}}buildContext(){let e={};for(let t of this.variables??[])!t.contextName||!t.inputSignal||(e[t.contextName]=t.inputSignal.get()??"");return e}async evaluate(){return this.jsRenderer?.evaluate({bound:this.buildContext()})}registerSelfToMetadataManager(){let e=new Yr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.evaluate(),()=>this.unmount())}unregisterSelfFromMetadataManager(){this.metadataSubscription?.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(super.onMount(e),ct.addClass(e,"mb-view"),ct.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new fs({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),this.plugin.settings.enableJs||this.errorCollection.add(new fs({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS evaluation is disabled in the plugin settings."})),this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let t=document.createElement("div");ct.addClass(t,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(t,this.getFilePath(),this.declaration.code,this.declaration.hidden),this.registerSelfToMetadataManager(),e.appendChild(t)}onUnmount(e){super.onUnmount(e),this.unregisterSelfFromMetadataManager(),di(e,"js view field")}};var Wo=class extends vi{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Yr(void 0),this.variables=[],this.hidden=!1}async initialRender(e){ct.addClass(e,"mb-view-text"),this.hidden=this.mountable.getArgument("hidden")?.value??!1,this.hidden&&ct.addClass(e,"mb-view-hidden"),await this.onInitialRender(e),await this.rerender(e,"")}async rerender(e,t){if(!this.hidden){let n=yd(t,this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty)??"";ct.empty(e),await this.onRerender(e,n)}}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:t=>void this.rerender(e,t)}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribeComputed(this.mountable.getUuid(),this.inputSignal,this.mountable.getDeclaration().writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.computeValue(),()=>this.mountable.unmount()),this.initialRender(e)}onUnmount(){this.inputSignal.unregisterAllListeners(),this.metadataSubscription?.unsubscribe()}};var CY=ae('<div class="mb-image-card"><img class="mb-image-card-image"></div>');function Db(r,e){De(e,!0);var t=CY(),n=de(t);Ue(()=>_t(n,"src",e.plugin.internal.imagePathToUri(e.image))),ue(t),Ue(()=>_t(n,"alt",e.image)),te(r,t),Ce()}var NY=ae('<div class="mb-image-card-grid"></div>');function wh(r,e){let t=st(e,"images",19,()=>[]);var n=NY();Gt(n,21,t,Xt,(i,a)=>{Db(i,{get plugin(){return e.plugin},get image(){return z(a)}})}),ue(n),te(r,n)}var _h=class extends Wo{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new Xs({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Xs({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Yr(void 0),uuid:Vr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new fo({errorLevel:"CRITICAL",effect:"failed to evaluate image view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?xn.toLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>xn.toLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=Dr(wh,{target:e,props:{images:[],plugin:this.mountable.plugin}})}async onRerender(e,t){let n=xn.parseLinkList(t);this.component&&Nr(this.component),this.component=Dr(wh,{target:e,props:{images:n.map(i=>i.target),plugin:this.mountable.plugin}})}onUnmount(){super.onUnmount(),this.component&&Nr(this.component)}};var FY=ae("<span></span>");function Sh(r,e){De(e,!0);var t=Xr(),n=Ke(t);it(n,()=>e.mdLinkList.length===0,i=>{var a=FY();te(i,a)},i=>{var a=Xr(),o=Ke(a);it(o,()=>e.mdLinkList.length===1,u=>{Ns(u,{get mdLink(){return e.mdLinkList[0]}})},u=>{gp(u,{get elements(){return e.mdLinkList},children:(s,c=yo)=>{Ns(s,{get mdLink(){return c()}})}})},!0),te(i,a)}),te(r,t),Ce()}var Ah=class extends Wo{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(n=>typeof n=="string"?n:!0);if(e.length!==1)throw new Xs({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new Xs({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Yr(void 0),uuid:Vr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new fo({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?xn.toLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>xn.toLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=Dr(Sh,{target:e,props:{mdLinkList:[]}})}async onRerender(e,t){let n=xn.parseLinkList(t);this.component=Dr(Sh,{target:e,props:{mdLinkList:n}})}onUnmount(){super.onUnmount(),this.component&&Nr(this.component)}};function rn(){return rn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rn.apply(null,arguments)}var Cb={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Qr(r,e){if(vp(r,e))return r[e];throw typeof r[e]=="function"&&Eh(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Yo(r,e,t){if(vp(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function vp(r,e){return!IY(r)&&!Array.isArray(r)?!1:nt(PY,e)?!0:!(e in Object.prototype||e in Function.prototype)}function bI(r,e){if(!Eh(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function Eh(r,e){return r==null||typeof r[e]!="function"||nt(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:nt(BY,e)?!0:!(e in Object.prototype||e in Function.prototype)}function IY(r){return typeof r=="object"&&r&&r.constructor===Object}var PY={length:!0,name:!0},BY={toString:!0,valueOf:!0,toLocaleString:!0};var gu=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Qr(this.wrappedObject,e)}set(e,t){return Yo(this.wrappedObject,e,t),this}has(e){return vp(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return wI(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){vp(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},Lc=class{constructor(e,t,n){this.a=e,this.b=t,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return wI(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function wI(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function vu(){return new Map}function Fs(r){if(!r)return vu();if(Th(r))return r;if(yu(r))return new gu(r);throw new Error("createMap can create maps from objects or Maps")}function _I(r){if(r instanceof gu)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);Yo(e,t,n)}return e}function xt(r){return typeof r=="number"}function ut(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function SI(r){return typeof r=="bigint"}function zi(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Is(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function ui(r){return r&&r.constructor.prototype.isUnit===!0||!1}function dn(r){return typeof r=="string"}var ur=Array.isArray;function et(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function bn(r){return Array.isArray(r)||et(r)}function Sl(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ao(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Uc(r){return r&&r.constructor.prototype.isRange===!0||!1}function xu(r){return r&&r.constructor.prototype.isIndex===!0||!1}function AI(r){return typeof r=="boolean"}function EI(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Mh(r){return r&&r.constructor.prototype.isHelp===!0||!1}function TI(r){return typeof r=="function"}function MI(r){return r instanceof Date}function DI(r){return r instanceof RegExp}function yu(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!zi(r)&&!Is(r))}function Th(r){return r?r instanceof Map||r instanceof gu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function CI(r){return r===null}function NI(r){return r===void 0}function Da(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function li(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function FI(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function II(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function PI(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function yp(r){return Yt(r)||Jr(r)&&r.args.length===1&&Yt(r.args[0])&&"-+~".includes(r.op)}function jo(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hi(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ka(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Kt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Jr(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function ci(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function BI(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function kI(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ur(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Dh(r){return r&&r.constructor.prototype.isChain===!0||!1}function nr(r){var e=typeof r;return e==="object"?r===null?"null":ut(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function ht(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return ht(t)});if(r instanceof Date)return new Date(r.valueOf());if(ut(r))return r;if(yu(r))return kY(r,ht);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function kY(r,e){var t={};for(var n in r)nt(r,n)&&(t[n]=e(r[n]));return t}function Ch(r,e){for(var t in e)nt(e,t)&&(r[t]=e[t]);return r}function ia(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!ia(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!ia(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function $I(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function nt(r,e){return r&&Object.hasOwnProperty.call(r,e)}function OI(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var RI=["Matrix","Array"],LI=["number","BigNumber","Fraction"];var Be=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Cb)};rn(Be,Cb,{MATRIX_OPTIONS:RI,NUMBER_OPTIONS:LI});var $b=$r(Ib(),1);function C(r,e,t,n){function i(a){var o=OI(a,e.map(RY));return $Y(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function $Y(r,e,t){var n=e.filter(a=>!OY(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function OY(r){return r&&r[0]==="?"}function RY(r){return r&&r[0]==="?"?r.slice(1):r}function Je(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function LY(r){return/^-?\d+$/.test(r)}function _i(r,e){return e.number==="bigint"&&!LY(r)?e.numberFallback:e.number}var eo=Math.sign||function(r){return r>0?1:r<0?-1:0},qI=Math.log2||function(e){return Math.log(e)/Math.LN2},zI=Math.log10||function(e){return Math.log(e)/Math.LN10},Nh=Math.log1p||function(r){return Math.log(r+1)},HI=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},GI=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Pb(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Je(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Je(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function Eo(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:n,wordSize:i}=Bb(e);switch(t){case"fixed":return kb(r,n);case"exponential":return WI(r,n);case"engineering":return UY(r,n);case"bin":return Pb(r,2,i);case"oct":return Pb(r,8,i);case"hex":return Pb(r,16,i);case"auto":return VY(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Bb(r){var e="auto",t,n;if(r!==void 0)if(xt(r))t=r;else if(ut(r))t=r.toNumber();else if(yu(r))r.precision!==void 0&&(t=UI(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=UI(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:n}}function qc(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function UY(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=qc(r),n=Fh(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(xt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var u=Math.abs(i-o)-(a.length-1),l=0;l<u;l++)a.push(0);for(var s=Math.abs(i-o),c=1;s>0;)c++,s--;var f=a.slice(c).join(""),p=xt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function kb(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=qc(r),n=typeof e=="number"?Fh(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(Vc(o-i.length))),a<0&&(i=Vc(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function WI(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=qc(r),n=e?Fh(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(Vc(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function VY(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=VI(t?.lowerExp,-3),i=VI(t?.upperExp,5),a=qc(r),o=e?Fh(a,e):a;if(o.exponent<n||o.exponent>=i)return WI(r,e);var u=o.coefficients,l=o.exponent;u.length<e&&(u=u.concat(Vc(e-u.length))),u=u.concat(Vc(l-u.length+1+(u.length<e?e-u.length:0))),u=Vc(-l).concat(u);var s=l>0?l:0;return s<u.length-1&&u.splice(s+1,0,"."),o.sign+u.join("")}function Fh(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function Vc(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function YI(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var hSe=Number.EPSILON||2220446049250313e-31;function Gr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),n)}var jI=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},ZI=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},JI=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},Ih=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},XI=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},Ph=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function QI(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function UI(r,e){if(xt(r))return r;if(ut(r))return r.toNumber();e()}function VI(r,e){return xt(r)?r:ut(r)?r.toNumber():e}var KI=function(){return KI=$b.default.create,$b.default},qY=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ob=C("typed",qY,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=KI();return o.clear(),o.addTypes([{name:"number",test:xt},{name:"Complex",test:zi},{name:"BigNumber",test:ut},{name:"bigint",test:SI},{name:"Fraction",test:Is},{name:"Unit",test:ui},{name:"identifier",test:u=>dn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:dn},{name:"Chain",test:Dh},{name:"Array",test:ur},{name:"Matrix",test:et},{name:"DenseMatrix",test:Sl},{name:"SparseMatrix",test:Ao},{name:"Range",test:Uc},{name:"Index",test:xu},{name:"boolean",test:AI},{name:"ResultSet",test:EI},{name:"Help",test:Mh},{name:"function",test:TI},{name:"Date",test:MI},{name:"RegExp",test:DI},{name:"null",test:CI},{name:"undefined",test:NI},{name:"AccessorNode",test:Da},{name:"ArrayNode",test:li},{name:"AssignmentNode",test:FI},{name:"BlockNode",test:II},{name:"ConditionalNode",test:PI},{name:"ConstantNode",test:Yt},{name:"FunctionNode",test:Hi},{name:"FunctionAssignmentNode",test:jo},{name:"IndexNode",test:Ka},{name:"Node",test:Kt},{name:"ObjectNode",test:bu},{name:"OperatorNode",test:Jr},{name:"ParenthesisNode",test:ci},{name:"RangeNode",test:BI},{name:"RelationalNode",test:kI},{name:"SymbolNode",test:Ur},{name:"Map",test:Th},{name:"Object",test:yu}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||Bh(l),YI(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return n||kh(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||kh(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||Bh(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||$h(l),new a(l.toString())}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||kh(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||$h(l);var s=new a(l);if(s.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(l){var s=Number(l);if(isNaN(s))throw new Error('Cannot convert "'+l+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(l){t||Bh(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||$h(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||kh(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||Bh(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||$h(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||zY(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(u,l,s)=>{var c=o.createError(u,l,s);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&bn(l[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(u,l,s)=>{var c=o.createError(u,l,s);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&bn(l[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},o});function Bh(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function kh(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function zY(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function $h(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var HY="ResultSet",GY=[],Rb=C(HY,GY,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var zc=9e15,Au=1e9,Lb="0123456789abcdef",Rh="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Lh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ub={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-zc,maxE:zc,crypto:!1},n2,Ps,er=!0,Vh="[DecimalError] ",Su=Vh+"Invalid argument: ",i2=Vh+"Precision limit exceeded",a2=Vh+"crypto unavailable",o2="[object Decimal]",Si=Math.floor,Wn=Math.pow,WY=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,YY=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,jY=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,s2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo=1e7,Rt=7,ZY=9007199254740991,JY=Rh.length-1,Vb=Lh.length-1,Le={toStringTag:o2};Le.absoluteValue=Le.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Nt(r)};Le.ceil=function(){return Nt(new this.constructor(this),this.e+1,2)};Le.clampedTo=Le.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(Su+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Le.comparedTo=Le.cmp=function(r){var e,t,n,i,a=this,o=a.d,u=(r=new a.constructor(r)).d,l=a.s,s=r.s;if(!o||!u)return!l||!s?NaN:l!==s?l:o===u?0:!o^l<0?1:-1;if(!o[0]||!u[0])return o[0]?l:u[0]?-s:0;if(l!==s)return l;if(a.e!==r.e)return a.e>r.e^l<0?1:-1;for(n=o.length,i=u.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==u[e])return o[e]>u[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Le.cosine=Le.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Rt,n.rounding=1,t=XY(n,p2(n,t)),n.precision=r,n.rounding=e,Nt(Ps==2||Ps==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Le.cubeRoot=Le.cbrt=function(){var r,e,t,n,i,a,o,u,l,s,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(er=!1,a=c.s*Wn(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=fi(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Wn(t,1/3),r=Si((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=c.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(u=n,l=u.times(u).times(u),s=l.plus(c),n=Kr(s.plus(c).times(u),s.plus(l),o+2,1),fi(u.d).slice(0,o)===(t=fi(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(Nt(u,r+1,0),u.times(u).times(u).eq(c))){n=u;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Nt(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return er=!0,Nt(n,r,f.rounding,e)};Le.decimalPlaces=Le.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Si(this.e/Rt))*Rt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Le.dividedBy=Le.div=function(r){return Kr(this,new this.constructor(r))};Le.dividedToIntegerBy=Le.divToInt=function(r){var e=this,t=e.constructor;return Nt(Kr(e,new t(r),0,1,1),t.precision,t.rounding)};Le.equals=Le.eq=function(r){return this.cmp(r)===0};Le.floor=function(){return Nt(new this.constructor(this),this.e+1,3)};Le.greaterThan=Le.gt=function(r){return this.cmp(r)>0};Le.greaterThanOrEqualTo=Le.gte=function(r){var e=this.cmp(r);return e==1||e===0};Le.hyperbolicCosine=Le.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,u=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return u;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/zh(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Hc(o,1,a.times(e),new o(1),!0);for(var l,s=r,c=new o(8);s--;)l=a.times(a),a=u.minus(l.times(c.minus(l.times(c))));return Nt(a,o.precision=t,o.rounding=n,!0)};Le.hyperbolicSine=Le.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Hc(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/zh(5,r)),i=Hc(a,2,i,i,!0);for(var o,u=new a(5),l=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(u.plus(o.times(l.times(o).plus(s))))}return a.precision=e,a.rounding=t,Nt(i,e,t,!0)};Le.hyperbolicTangent=Le.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,Kr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Le.inverseCosine=Le.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?To(t,i,a):new t(0):new t(NaN):e.isZero()?To(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=To(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Le.inverseHyperbolicCosine=Le.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,er=!1,t=t.times(t).minus(1).sqrt().plus(t),er=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Le.inverseHyperbolicSine=Le.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,er=!1,t=t.times(t).plus(1).sqrt().plus(t),er=!0,n.precision=r,n.rounding=e,t.ln())};Le.inverseHyperbolicTangent=Le.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Nt(new a(i),r,e,!0):(a.precision=t=n-i.e,i=Kr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Le.inverseSine=Le.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=To(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Le.inverseTangent=Le.atan=function(){var r,e,t,n,i,a,o,u,l,s=this,c=s.constructor,f=c.precision,p=c.rounding;if(s.isFinite()){if(s.isZero())return new c(s);if(s.abs().eq(1)&&f+4<=Vb)return o=To(c,f+4,p).times(.25),o.s=s.s,o}else{if(!s.s)return new c(NaN);if(f+4<=Vb)return o=To(c,f+4,p).times(.5),o.s=s.s,o}for(c.precision=u=f+10,c.rounding=1,t=Math.min(28,u/Rt+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(er=!1,e=Math.ceil(u/Rt),n=1,l=s.times(s),o=new c(s),i=s;r!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),er=!0,Nt(o,c.precision=f,c.rounding=p,!0)};Le.isFinite=function(){return!!this.d};Le.isInteger=Le.isInt=function(){return!!this.d&&Si(this.e/Rt)>this.d.length-2};Le.isNaN=function(){return!this.s};Le.isNegative=Le.isNeg=function(){return this.s<0};Le.isPositive=Le.isPos=function(){return this.s>0};Le.isZero=function(){return!!this.d&&this.d[0]===0};Le.lessThan=Le.lt=function(r){return this.cmp(r)<0};Le.lessThanOrEqualTo=Le.lte=function(r){return this.cmp(r)<1};Le.logarithm=Le.log=function(r){var e,t,n,i,a,o,u,l,s=this,c=s.constructor,f=c.precision,p=c.rounding,m=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new c(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(er=!1,u=f+m,o=_u(s,u),n=e?Uh(c,u+10):_u(r,u),l=Kr(o,n,u,1),xp(l.d,i=f,p))do if(u+=10,o=_u(s,u),n=e?Uh(c,u+10):_u(r,u),l=Kr(o,n,u,1),!a){+fi(l.d).slice(i+1,i+15)+1==1e14&&(l=Nt(l,f+1,0));break}while(xp(l.d,i+=10,p));return er=!0,Nt(l,f,p)};Le.minus=Le.sub=function(r){var e,t,n,i,a,o,u,l,s,c,f,p,m=this,d=m.constructor;if(r=new d(r),!m.d||!r.d)return!m.s||!r.s?r=new d(NaN):m.d?r.s=-r.s:r=new d(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(s=m.d,p=r.d,u=d.precision,l=d.rounding,!s[0]||!p[0]){if(p[0])r.s=-r.s;else if(s[0])r=new d(m);else return new d(l===3?-0:0);return er?Nt(r,u,l):r}if(t=Si(r.e/Rt),c=Si(m.e/Rt),s=s.slice(),a=c-t,a){for(f=a<0,f?(e=s,a=-a,o=p.length):(e=p,t=c,o=s.length),n=Math.max(Math.ceil(u/Rt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=p[n]){f=s[n]<p[n];break}a=0}for(f&&(e=s,s=p,p=e,r.s=-r.s),o=s.length,n=p.length-o;n>0;--n)s[o++]=0;for(n=p.length;n>a;){if(s[--n]<p[n]){for(i=n;i&&s[--i]===0;)s[i]=Mo-1;--s[i],s[n]+=Mo}s[n]-=p[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=qh(s,t),er?Nt(r,u,l):r):new d(l===3?-0:0)};Le.modulo=Le.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Nt(new n(t),n.precision,n.rounding):(er=!1,n.modulo==9?(e=Kr(t,r.abs(),0,3,1),e.s*=r.s):e=Kr(t,r,0,n.modulo,1),e=e.times(r),er=!0,t.minus(e))};Le.naturalExponential=Le.exp=function(){return qb(this)};Le.naturalLogarithm=Le.ln=function(){return _u(this)};Le.negated=Le.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Nt(r)};Le.plus=Le.add=function(r){var e,t,n,i,a,o,u,l,s,c,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,c=r.d,u=p.precision,l=p.rounding,!s[0]||!c[0])return c[0]||(r=new p(f)),er?Nt(r,u,l):r;if(a=Si(f.e/Rt),n=Si(r.e/Rt),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=c.length):(t=c,n=a,o=s.length),a=Math.ceil(u/Rt),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=c.length,o-i<0&&(i=o,t=c,c=s,s=t),e=0;i;)e=(s[--i]=s[i]+c[i]+e)/Mo|0,s[i]%=Mo;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=qh(s,n),er?Nt(r,u,l):r};Le.precision=Le.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Su+r);return t.d?(e=u2(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Le.round=function(){var r=this,e=r.constructor;return Nt(new e(r),r.e+1,e.rounding)};Le.sine=Le.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+Rt,n.rounding=1,t=KY(n,p2(n,t)),n.precision=r,n.rounding=e,Nt(Ps>2?t.neg():t,r,e,!0)):new n(NaN)};Le.squareRoot=Le.sqrt=function(){var r,e,t,n,i,a,o=this,u=o.d,l=o.e,s=o.s,c=o.constructor;if(s!==1||!u||!u[0])return new c(!s||s<0&&(!u||u[0])?NaN:u?o:1/0);for(er=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=fi(u),(e.length+l)%2==0&&(e+="0"),s=Math.sqrt(e),l=Si((l+1)/2)-(l<0||l%2),s==1/0?e="5e"+l:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(s.toString()),t=(l=c.precision)+3;;)if(a=n,n=a.plus(Kr(o,a,t+2,1)).times(.5),fi(a.d).slice(0,t)===(e=fi(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Nt(a,l+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Nt(n,l+1,1),r=!n.times(n).eq(o));break}return er=!0,Nt(n,l,c.rounding,r)};Le.tangent=Le.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=Kr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Nt(Ps==2||Ps==4?t.neg():t,r,e,!0)):new n(NaN)};Le.times=Le.mul=function(r){var e,t,n,i,a,o,u,l,s,c=this,f=c.constructor,p=c.d,m=(r=new f(r)).d;if(r.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=Si(c.e/Rt)+Si(r.e/Rt),l=p.length,s=m.length,l<s&&(a=p,p=m,m=a,o=l,l=s,s=o),a=[],o=l+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=l+n;i>n;)u=a[i]+m[n]*p[i-n-1]+e,a[i--]=u%Mo|0,e=u/Mo|0;a[i]=(a[i]+e)%Mo|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=qh(a,t),er?Nt(r,f.precision,f.rounding):r};Le.toBinary=function(r,e){return Hb(this,2,r,e)};Le.toDecimalPlaces=Le.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(aa(r,0,Au),e===void 0?e=n.rounding:aa(e,0,8),Nt(t,r+t.e+1,e))};Le.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Zo(n,!0):(aa(r,0,Au),e===void 0?e=i.rounding:aa(e,0,8),n=Nt(new i(n),r+1,e),t=Zo(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Le.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Zo(i):(aa(r,0,Au),e===void 0?e=a.rounding:aa(e,0,8),n=Nt(new a(i),r+i.e+1,e),t=Zo(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Le.toFraction=function(r){var e,t,n,i,a,o,u,l,s,c,f,p,m=this,d=m.d,h=m.constructor;if(!d)return new h(m);if(s=t=new h(1),n=l=new h(0),e=new h(n),a=e.e=u2(d)-m.e-1,o=a%Rt,e.d[0]=Wn(10,o<0?Rt+o:o),r==null)r=a>0?e:s;else{if(u=new h(r),!u.isInt()||u.lt(s))throw Error(Su+u);r=u.gt(e)?a>0?e:s:u}for(er=!1,u=new h(fi(d)),c=h.precision,h.precision=a=d.length*Rt*2;f=Kr(u,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=l.plus(f.times(i)),l=i,i=e,e=u.minus(f.times(i)),u=i;return i=Kr(r.minus(t),n,0,1,1),l=l.plus(i.times(s)),t=t.plus(i.times(n)),l.s=s.s=m.s,p=Kr(s,n,a,1).minus(m).abs().cmp(Kr(l,t,a,1).minus(m).abs())<1?[s,n]:[l,t],h.precision=c,er=!0,p};Le.toHexadecimal=Le.toHex=function(r,e){return Hb(this,16,r,e)};Le.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:aa(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(er=!1,t=Kr(t,r,0,e,1).times(r),er=!0,Nt(t)):(r.s=t.s,t=r),t};Le.toNumber=function(){return+this};Le.toOctal=function(r,e){return Hb(this,8,r,e)};Le.toPower=Le.pow=function(r){var e,t,n,i,a,o,u=this,l=u.constructor,s=+(r=new l(r));if(!u.d||!r.d||!u.d[0]||!r.d[0])return new l(Wn(+u,s));if(u=new l(u),u.eq(1))return u;if(n=l.precision,a=l.rounding,r.eq(1))return Nt(u,n,a);if(e=Si(r.e/Rt),e>=r.d.length-1&&(t=s<0?-s:s)<=ZY)return i=l2(l,u,t,n),r.s<0?new l(1).div(i):Nt(i,n,a);if(o=u.s,o<0){if(e<r.d.length-1)return new l(NaN);if(r.d[e]&1||(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return t=Wn(+u,s),e=t==0||!isFinite(t)?Si(s*(Math.log("0."+fi(u.d))/Math.LN10+u.e+1)):new l(t+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(er=!1,l.rounding=u.s=1,t=Math.min(12,(e+"").length),i=qb(r.times(_u(u,n+t)),n),i.d&&(i=Nt(i,n+5,1),xp(i.d,n,a)&&(e=n+10,i=Nt(qb(r.times(_u(u,e+t)),e),e+5,1),+fi(i.d).slice(n+1,n+15)+1==1e14&&(i=Nt(i,n+1,0)))),i.s=o,er=!0,l.rounding=a,Nt(i,n,a))};Le.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Zo(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(aa(r,1,Au),e===void 0?e=i.rounding:aa(e,0,8),n=Nt(new i(n),r,e),t=Zo(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Le.toSignificantDigits=Le.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(aa(r,1,Au),e===void 0?e=n.rounding:aa(e,0,8)),Nt(new n(t),r,e)};Le.toString=function(){var r=this,e=r.constructor,t=Zo(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Le.truncated=Le.trunc=function(){return Nt(new this.constructor(this),this.e+1,1)};Le.valueOf=Le.toJSON=function(){var r=this,e=r.constructor,t=Zo(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function fi(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=Rt-n.length,t&&(a+=wu(t)),a+=n;o=r[e],n=o+"",t=Rt-n.length,t&&(a+=wu(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function aa(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Su+r)}function xp(r,e,t,n){var i,a,o,u;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=Rt,i=0):(i=Math.ceil((e+1)/Rt),e%=Rt),a=Wn(10,Rt-e),u=r[i]%a|0,n==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),o=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):o=(t<4&&u+1==a||t>3&&u+1==a/2)&&(r[i+1]/a/100|0)==Wn(10,e-2)-1||(u==a/2||u==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),o=(n||t<4)&&u==9999||!n&&t>3&&u==4999):o=((n||t<4)&&u+1==a||!n&&t>3&&u+1==a/2)&&(r[i+1]/a/1e3|0)==Wn(10,e-3)-1,o}function Oh(r,e,t){for(var n,i=[0],a,o=0,u=r.length;o<u;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Lb.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function XY(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/zh(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Hc(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var Kr=function(){function r(n,i,a){var o,u=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+u,n[l]=o%a|0,u=o/a|0;return u&&n.unshift(u),n}function e(n,i,a,o){var u,l;if(a!=o)l=a>o?1:-1;else for(u=l=0;u<a;u++)if(n[u]!=i[u]){l=n[u]>i[u]?1:-1;break}return l}function t(n,i,a,o){for(var u=0;a--;)n[a]-=u,u=n[a]<i[a]?1:0,n[a]=u*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,u,l){var s,c,f,p,m,d,h,w,x,E,v,_,A,y,T,M,b,D,I,P,R=n.constructor,q=n.s==i.s?1:-1,L=n.d,k=i.d;if(!L||!L[0]||!k||!k[0])return new R(!n.s||!i.s||(L?k&&L[0]==k[0]:!k)?NaN:L&&L[0]==0||!k?q*0:q/0);for(l?(m=1,c=n.e-i.e):(l=Mo,m=Rt,c=Si(n.e/m)-Si(i.e/m)),I=k.length,b=L.length,x=new R(q),E=x.d=[],f=0;k[f]==(L[f]||0);f++);if(k[f]>(L[f]||0)&&c--,a==null?(y=a=R.precision,o=R.rounding):u?y=a+(n.e-i.e)+1:y=a,y<0)E.push(1),d=!0;else{if(y=y/m+2|0,f=0,I==1){for(p=0,k=k[0],y++;(f<b||p)&&y--;f++)T=p*l+(L[f]||0),E[f]=T/k|0,p=T%k|0;d=p||f<b}else{for(p=l/(k[0]+1)|0,p>1&&(k=r(k,p,l),L=r(L,p,l),I=k.length,b=L.length),M=I,v=L.slice(0,I),_=v.length;_<I;)v[_++]=0;P=k.slice(),P.unshift(0),D=k[0],k[1]>=l/2&&++D;do p=0,s=e(k,v,I,_),s<0?(A=v[0],I!=_&&(A=A*l+(v[1]||0)),p=A/D|0,p>1?(p>=l&&(p=l-1),h=r(k,p,l),w=h.length,_=v.length,s=e(h,v,w,_),s==1&&(p--,t(h,I<w?P:k,w,l))):(p==0&&(s=p=1),h=k.slice()),w=h.length,w<_&&h.unshift(0),t(v,h,_,l),s==-1&&(_=v.length,s=e(k,v,I,_),s<1&&(p++,t(v,I<_?P:k,_,l))),_=v.length):s===0&&(p++,v=[0]),E[f++]=p,s&&v[0]?v[_++]=L[M]||0:(v=[L[M]],_=1);while((M++<b||v[0]!==void 0)&&y--);d=v[0]!==void 0}E[0]||E.shift()}if(m==1)x.e=c,n2=d;else{for(f=1,p=E[0];p>=10;p/=10)f++;x.e=f+c*m-1,Nt(x,u?a+x.e+1:a,o,d)}return x}}();function Nt(r,e,t,n){var i,a,o,u,l,s,c,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,u=f[0];u>=10;u/=10)i++;if(a=e-i,a<0)a+=Rt,o=e,c=f[p=0],l=c/Wn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/Rt),u=f.length,p>=u)if(n){for(;u++<=p;)f.push(0);c=l=0,i=1,a%=Rt,o=a-Rt+1}else break e;else{for(c=u=f[p],i=1;u>=10;u/=10)i++;a%=Rt,o=a-Rt+i,l=o<0?0:c/Wn(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?c:c%Wn(10,i-o-1)),s=t<4?(l||n)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||n||t==6&&(a>0?o>0?c/Wn(10,i-o):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=Wn(10,(Rt-e%Rt)%Rt),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=p,u=1,p--):(f.length=p+1,u=Wn(10,Rt-a),f[p]=o>0?(c/Wn(10,i-o)%Wn(10,o)|0)*u:0),s)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=u,u=1;o>=10;o/=10)u++;a!=u&&(r.e++,f[0]==Mo&&(f[0]=1));break}else{if(f[p]+=u,f[p]!=Mo)break;f[p--]=0,u=1}for(a=f.length;f[--a]===0;)f.pop()}return er&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function Zo(r,e,t){if(!r.isFinite())return f2(r);var n,i=r.e,a=fi(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+wu(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+wu(-i-1)+a,t&&(n=t-o)>0&&(a+=wu(n))):i>=o?(a+=wu(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+wu(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=wu(n))),a}function qh(r,e){var t=r[0];for(e*=Rt;t>=10;t/=10)e++;return e}function Uh(r,e,t){if(e>JY)throw er=!0,t&&(r.precision=t),Error(i2);return Nt(new r(Rh),e,1,!0)}function To(r,e,t){if(e>Vb)throw Error(i2);return Nt(new r(Lh),e,t,!0)}function u2(r){var e=r.length-1,t=e*Rt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function wu(r){for(var e="";r--;)e+="0";return e}function l2(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/Rt+4);for(er=!1;;){if(t%2&&(a=a.times(e),t2(a.d,o)&&(i=!0)),t=Si(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),t2(e.d,o)}return er=!0,a}function e2(r){return r.d[r.d.length-1]&1}function c2(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function qb(r,e){var t,n,i,a,o,u,l,s=0,c=0,f=0,p=r.constructor,m=p.rounding,d=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(er=!1,l=d):l=e,u=new p(.03125);r.e>-2;)r=r.times(u),f+=5;for(n=Math.log(Wn(2,f))/Math.LN10*2+5|0,l+=n,t=a=o=new p(1),p.precision=l;;){if(a=Nt(a.times(r),l,1),t=t.times(++c),u=o.plus(Kr(a,t,l,1)),fi(u.d).slice(0,l)===fi(o.d).slice(0,l)){for(i=f;i--;)o=Nt(o.times(o),l,1);if(e==null)if(s<3&&xp(o.d,l-n,m,s))p.precision=l+=10,t=a=u=new p(1),c=0,s++;else return Nt(o,p.precision=d,m,er=!0);else return p.precision=d,o}o=u}}function _u(r,e){var t,n,i,a,o,u,l,s,c,f,p,m=1,d=10,h=r,w=h.d,x=h.constructor,E=x.rounding,v=x.precision;if(h.s<0||!w||!w[0]||!h.e&&w[0]==1&&w.length==1)return new x(w&&!w[0]?-1/0:h.s!=1?NaN:w?0:h);if(e==null?(er=!1,c=v):c=e,x.precision=c+=d,t=fi(w),n=t.charAt(0),Math.abs(a=h.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)h=h.times(r),t=fi(h.d),n=t.charAt(0),m++;a=h.e,n>1?(h=new x("0."+t),a++):h=new x(n+"."+t.slice(1))}else return s=Uh(x,c+2,v).times(a+""),h=_u(new x(n+"."+t.slice(1)),c-d).plus(s),x.precision=v,e==null?Nt(h,v,E,er=!0):h;for(f=h,l=o=h=Kr(h.minus(1),h.plus(1),c,1),p=Nt(h.times(h),c,1),i=3;;){if(o=Nt(o.times(p),c,1),s=l.plus(Kr(o,new x(i),c,1)),fi(s.d).slice(0,c)===fi(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(Uh(x,c+2,v).times(a+""))),l=Kr(l,new x(m),c,1),e==null)if(xp(l.d,c-d,E,u))x.precision=c+=d,s=o=h=Kr(f.minus(1),f.plus(1),c,1),p=Nt(h.times(h),c,1),i=u=1;else return Nt(l,x.precision=v,E,er=!0);else return x.precision=v,l;l=s,i+=2}}function f2(r){return String(r.s*r.s/0)}function zb(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%Rt,t<0&&(n+=Rt),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Rt;n<i;)r.d.push(+e.slice(n,n+=Rt));e=e.slice(n),n=Rt-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),er&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function QY(r,e){var t,n,i,a,o,u,l,s,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),s2.test(e))return zb(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(YY.test(e))t=16,e=e.toLowerCase();else if(WY.test(e))t=2;else if(jY.test(e))t=8;else throw Error(Su+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),u=e.length,a=u-a,i=l2(n,new n(t),a,a*2)),s=Oh(e,t,Mo),c=s.length-1,a=c;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=qh(s,c),r.d=s,er=!1,o&&(r=Kr(r,i,u*4)),l&&(r=r.times(Math.abs(l)<54?Wn(2,l):bp.pow(2,l))),er=!0,r)}function KY(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Hc(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/zh(5,t)),e=Hc(r,2,e,e);for(var i,a=new r(5),o=new r(16),u=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(u))));return e}function Hc(r,e,t,n,i){var a,o,u,l,s=1,c=r.precision,f=Math.ceil(c/Rt);for(er=!1,l=t.times(t),u=new r(n);;){if(o=Kr(u.times(l),new r(e++*e++),c,1),u=i?n.plus(o):n.minus(o),n=Kr(o.times(l),new r(e++*e++),c,1),o=u.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===u.d[a]&&a--;);if(a==-1)break}a=u,u=n,n=o,o=a,s++}return er=!0,o.d.length=f+1,o}function zh(r,e){for(var t=r;--e;)t*=r;return t}function p2(r,e){var t,n=e.s<0,i=To(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return Ps=n?4:1,e;if(t=e.divToInt(i),t.isZero())Ps=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return Ps=e2(t)?n?2:3:n?4:1,e;Ps=e2(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Hb(r,e,t,n){var i,a,o,u,l,s,c,f,p,m=r.constructor,d=t!==void 0;if(d?(aa(t,1,Au),n===void 0?n=m.rounding:aa(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())c=f2(r);else{for(c=Zo(r),o=c.indexOf("."),d?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=Oh(Zo(p),10,i),p.e=p.d.length),f=Oh(c,10,i),a=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=d?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=f,r.e=a,r=Kr(r,p,t,n,0,i),f=r.d,a=r.e,s=n2),o=f[t],u=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>u||o===u&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(o=0,c="";o<l;o++)c+=Lb.charAt(f[o]);if(d){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)c+="0";for(f=Oh(c,i,e),l=f.length;!f[l-1];--l);for(o=1,c="1.";o<l;o++)c+=Lb.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function t2(r,e){if(r.length>e)return r.length=e,!0}function ej(r){return new this(r).abs()}function tj(r){return new this(r).acos()}function rj(r){return new this(r).acosh()}function nj(r,e){return new this(r).plus(e)}function ij(r){return new this(r).asin()}function aj(r){return new this(r).asinh()}function oj(r){return new this(r).atan()}function sj(r){return new this(r).atanh()}function uj(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=To(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?To(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=To(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Kr(r,e,a,1)),e=To(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(Kr(r,e,a,1)),t}function lj(r){return new this(r).cbrt()}function cj(r){return Nt(r=new this(r),r.e+1,2)}function fj(r,e,t){return new this(r).clamp(e,t)}function pj(r){if(!r||typeof r!="object")throw Error(Vh+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,Au,"rounding",0,8,"toExpNeg",-zc,0,"toExpPos",0,zc,"maxE",0,zc,"minE",-zc,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Ub[t]),(n=r[t])!==void 0)if(Si(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(Su+t+": "+n);if(t="crypto",i&&(this[t]=Ub[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(a2);else this[t]=!1;else throw Error(Su+t+": "+n);return this}function mj(r){return new this(r).cos()}function dj(r){return new this(r).cosh()}function m2(r){var e,t,n;function i(a){var o,u,l,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,r2(a)){s.s=a.s,er?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,u=a;u>=10;u/=10)o++;er?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return zb(s,a.toString())}else if(l!=="string")throw Error(Su+a);return(u=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(u===43&&(a=a.slice(1)),s.s=1),s2.test(a)?zb(s,a):QY(s,a)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=pj,i.clone=m2,i.isDecimal=r2,i.abs=ej,i.acos=tj,i.acosh=rj,i.add=nj,i.asin=ij,i.asinh=aj,i.atan=oj,i.atanh=sj,i.atan2=uj,i.cbrt=lj,i.ceil=cj,i.clamp=fj,i.cos=mj,i.cosh=dj,i.div=hj,i.exp=gj,i.floor=vj,i.hypot=yj,i.ln=xj,i.log=bj,i.log10=_j,i.log2=wj,i.max=Sj,i.min=Aj,i.mod=Ej,i.mul=Tj,i.pow=Mj,i.random=Dj,i.round=Cj,i.sign=Nj,i.sin=Fj,i.sinh=Ij,i.sqrt=Pj,i.sub=Bj,i.sum=kj,i.tan=$j,i.tanh=Oj,i.trunc=Rj,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function hj(r,e){return new this(r).div(e)}function gj(r){return new this(r).exp()}function vj(r){return Nt(r=new this(r),r.e+1,3)}function yj(){var r,e,t=new this(0);for(er=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return er=!0,new this(1/0);t=e}return er=!0,t.sqrt()}function r2(r){return r instanceof bp||r&&r.toStringTag===o2||!1}function xj(r){return new this(r).ln()}function bj(r,e){return new this(r).log(e)}function wj(r){return new this(r).log(2)}function _j(r){return new this(r).log(10)}function Sj(){return c2(this,arguments,"lt")}function Aj(){return c2(this,arguments,"gt")}function Ej(r,e){return new this(r).mod(e)}function Tj(r,e){return new this(r).mul(e)}function Mj(r,e){return new this(r).pow(e)}function Dj(r){var e,t,n,i,a=0,o=new this(1),u=[];if(r===void 0?r=this.precision:aa(r,1,Au),n=Math.ceil(r/Rt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(u.push(i%1e7),a+=4);a=n/4}else throw Error(a2);else for(;a<n;)u[a++]=Math.random()*1e7|0;for(n=u[--a],r%=Rt,n&&r&&(i=Wn(10,Rt-r),u[a]=(n/i|0)*i);u[a]===0;a--)u.pop();if(a<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=Rt)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<Rt&&(t-=Rt-n)}return o.e=t,o.d=u,o}function Cj(r){return Nt(r=new this(r),r.e+1,this.rounding)}function Nj(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Fj(r){return new this(r).sin()}function Ij(r){return new this(r).sinh()}function Pj(r){return new this(r).sqrt()}function Bj(r,e){return new this(r).sub(e)}function kj(){var r=0,e=arguments,t=new this(e[r]);for(er=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return er=!0,Nt(t,this.precision,this.rounding)}function $j(r){return new this(r).tan()}function Oj(r){return new this(r).tanh()}function Rj(r){return Nt(r=new this(r),r.e+1,1)}Le[Symbol.for("nodejs.util.inspect.custom")]=Le.toString;Le[Symbol.toStringTag]="Decimal";var bp=Le.constructor=m2(Ub);Rh=new bp(Rh);Lh=new bp(Lh);var Al=bp;var Lj="BigNumber",Uj=["?on","config"],Gb=C(Lj,Uj,r=>{var{on:e,config:t}=r,n=Al.clone({precision:t.precision,modulo:Al.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var ei=$r(h2(),1);var Vj="Complex",qj=[],Yb=C(Vj,qj,()=>(Object.defineProperty(ei.default,"name",{value:"Complex"}),ei.default.prototype.constructor=ei.default,ei.default.prototype.type="Complex",ei.default.prototype.isComplex=!0,ei.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ei.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ei.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Eo(this.re,r),a=Eo(this.im,r),o=xt(r)?r:r?r.precision:null;if(o!==null){var u=Math.pow(10,-o);Math.abs(n/t)<u&&(n=0),Math.abs(t/n)<u&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},ei.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,ei.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(xt(t)){if(ui(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),xt(n))return new ei.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ei.default.prototype.valueOf=ei.default.prototype.toString,ei.default.fromJSON=function(r){return new ei.default(r)},ei.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},ei.default),{isClass:!0});var zj=2e3,At={s:1,n:0,d:1};function Bs(r,e){if(isNaN(r=parseInt(r,10)))throw Hh();return r*e}function wn(r,e){if(e===0)throw jb();var t=Object.create(ti.prototype);t.s=r<0?-1:1,r=r<0?-r:r;var n=Gc(r,e);return t.n=r/n,t.d=e/n,t}function g2(r){for(var e={},t=r,n=2,i=4;i<=t;){for(;t%n===0;)t/=n,e[n]=(e[n]||0)+1;i+=1+2*n++}return t!==r?t>1&&(e[t]=(e[t]||0)+1):e[r]=(e[r]||0)+1,e}var Ca=function(r,e){var t=0,n=1,i=1,a=0,o=0,u=0,l=1,s=1,c=0,f=1,p=1,m=1,d=1e7,h;if(r!=null)if(e!==void 0){if(t=r,n=e,i=t*n,t%1!==0||n%1!==0)throw Yj()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)t=r.n,n=r.d,"s"in r&&(t*=r.s);else if(0 in r)t=r[0],1 in r&&(n=r[1]);else throw Hh();i=t*n;break}case"number":{if(r<0&&(i=r,r=-r),r%1===0)t=r;else if(r>0){for(r>=1&&(s=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=s);f<=d&&m<=d;)if(h=(c+p)/(f+m),r===h){f+m<=d?(t=c+p,n=f+m):m>f?(t=p,n=m):(t=c,n=f);break}else r>h?(c+=p,f+=m):(p+=c,m+=f),f>d?(t=p,n=m):(t=c,n=f);t*=s}else(isNaN(r)||isNaN(e))&&(n=t=NaN);break}case"string":{if(f=r.match(/\d+|./g),f===null)throw Hh();if(f[c]==="-"?(i=-1,c++):f[c]==="+"&&c++,f.length===c+1?o=Bs(f[c++],i):f[c+1]==="."||f[c]==="."?(f[c]!=="."&&(a=Bs(f[c++],i)),c++,(c+1===f.length||f[c+1]==="("&&f[c+3]===")"||f[c+1]==="'"&&f[c+3]==="'")&&(o=Bs(f[c],i),l=Math.pow(10,f[c].length),c++),(f[c]==="("&&f[c+2]===")"||f[c]==="'"&&f[c+2]==="'")&&(u=Bs(f[c+1],i),s=Math.pow(10,f[c+1].length)-1,c+=3)):f[c+1]==="/"||f[c+1]===":"?(o=Bs(f[c],i),l=Bs(f[c+2],1),c+=3):f[c+3]==="/"&&f[c+1]===" "&&(a=Bs(f[c],i),o=Bs(f[c+2],i),l=Bs(f[c+4],1),c+=5),f.length<=c){n=l*s,i=t=u+n*a+s*o;break}}default:throw Hh()}if(n===0)throw jb();At.s=i<0?-1:1,At.n=Math.abs(t),At.d=Math.abs(n)};function Hj(r,e,t){for(var n=1;e>0;r=r*r%t,e>>=1)e&1&&(n=n*r%t);return n}function Gj(r,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var t=10%e,n=1;t!==1;n++)if(t=t*10%e,n>zj)return 0;return n}function Wj(r,e,t){for(var n=1,i=Hj(10,t,e),a=0;a<300;a++){if(n===i)return a;n=n*10%e,i=i*10%e}return 0}function Gc(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function ti(r,e){if(Ca(r,e),this instanceof ti)r=Gc(At.d,At.n),this.s=At.s,this.n=At.n/r,this.d=At.d/r;else return wn(At.s*At.n,At.d)}var jb=function(){return new Error("Division by Zero")},Hh=function(){return new Error("Invalid argument")},Yj=function(){return new Error("Parameters must be integer")};ti.prototype={s:1,n:0,d:1,abs:function(){return wn(this.n,this.d)},neg:function(){return wn(-this.s*this.n,this.d)},add:function(r,e){return Ca(r,e),wn(this.s*this.n*At.d+At.s*this.d*At.n,this.d*At.d)},sub:function(r,e){return Ca(r,e),wn(this.s*this.n*At.d-At.s*this.d*At.n,this.d*At.d)},mul:function(r,e){return Ca(r,e),wn(this.s*At.s*this.n*At.n,this.d*At.d)},div:function(r,e){return Ca(r,e),wn(this.s*At.s*this.n*At.d,this.d*At.n)},clone:function(){return wn(this.s*this.n,this.d)},mod:function(r,e){if(isNaN(this.n)||isNaN(this.d))return new ti(NaN);if(r===void 0)return wn(this.s*this.n%this.d,1);if(Ca(r,e),At.n===0&&this.d===0)throw jb();return wn(this.s*(At.d*this.n)%(At.n*this.d),At.d*this.d)},gcd:function(r,e){return Ca(r,e),wn(Gc(At.n,this.n)*Gc(At.d,this.d),At.d*this.d)},lcm:function(r,e){return Ca(r,e),At.n===0&&this.n===0?wn(0,1):wn(At.n*this.n,Gc(At.n,this.n)*Gc(At.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new ti(NaN):wn(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new ti(NaN):wn(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new ti(NaN):wn(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,e){return Ca(r,e),wn(this.s*Math.round(this.n*At.d/(this.d*At.n))*At.n,At.d)},inverse:function(){return wn(this.s*this.d,this.n)},pow:function(r,e){if(Ca(r,e),At.d===1)return At.s<0?wn(Math.pow(this.s*this.d,At.n),Math.pow(this.n,At.n)):wn(Math.pow(this.s*this.n,At.n),Math.pow(this.d,At.n));if(this.s<0)return null;var t=g2(this.n),n=g2(this.d),i=1,a=1;for(var o in t)if(o!=="1"){if(o==="0"){i=0;break}if(t[o]*=At.n,t[o]%At.d===0)t[o]/=At.d;else return null;i*=Math.pow(o,t[o])}for(var o in n)if(o!=="1"){if(n[o]*=At.n,n[o]%At.d===0)n[o]/=At.d;else return null;a*=Math.pow(o,n[o])}return At.s<0?wn(a,i):wn(i,a)},equals:function(r,e){return Ca(r,e),this.s*this.n*At.d===At.s*At.n*this.d},compare:function(r,e){Ca(r,e);var t=this.s*this.n*At.d-At.s*At.n*this.d;return(0<t)-(t<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var e=this.abs(),t=e.toContinued(),n=1;n<t.length;n++){for(var i=wn(t[n-1],1),a=n-2;a>=0;a--)i=i.inverse().add(t[a]);if(Math.abs(i.sub(e).valueOf())<r)return i.mul(this.s)}return this},divisible:function(r,e){return Ca(r,e),!(!(At.n*this.d)||this.n*At.d%(At.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var e,t="",n=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=n:(r&&(e=Math.floor(n/i))>0&&(t+=e,t+=" ",n%=i),t+=n,t+="/",t+=i),t},toLatex:function(r){var e,t="",n=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=n:(r&&(e=Math.floor(n/i))>0&&(t+=e,n%=i),t+="\\frac{",t+=n,t+="}{",t+=i,t+="}"),t},toContinued:function(){var r,e=this.n,t=this.d,n=[];if(isNaN(e)||isNaN(t))return n;do n.push(Math.floor(e/t)),r=e%t,e=t,t=r;while(e!==1);return n},toString:function(r){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";r=r||15;var n=Gj(e,t),i=Wj(e,t,n),a=this.s<0?"-":"";if(a+=e/t|0,e%=t,e*=10,e&&(a+="."),n){for(var o=i;o--;)a+=e/t|0,e%=t,e*=10;a+="(";for(var o=n;o--;)a+=e/t|0,e%=t,e*=10;a+=")"}else for(var o=r;e&&o--;)a+=e/t|0,e%=t,e*=10;return a}};var jj="Fraction",Zj=[],Zb=C(jj,Zj,()=>(Object.defineProperty(ti,"name",{value:"Fraction"}),ti.prototype.constructor=ti,ti.prototype.type="Fraction",ti.prototype.isFraction=!0,ti.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ti.fromJSON=function(r){return new ti(r)},ti),{isClass:!0});var Jj="Range",Xj=[],Jb=C(Jj,Xj,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(ut(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(ut(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(ut(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return eo(n)===eo(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=Eo(this.start,e);return this.step!==1&&(t+=":"+Eo(this.step,e)),t+=":"+Eo(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var Qj="Matrix",Kj=[],Xb=C(Qj,Kj,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Qb(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Je(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function x2(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:i}=Bb(e);switch(t){case"fixed":return tZ(r,n);case"exponential":return v2(r,n);case"engineering":return eZ(r,n);case"bin":return Qb(r,2,i);case"oct":return Qb(r,8,i);case"hex":return Qb(r,16,i);case"auto":{var a=y2(e?.lowerExp,-3),o=y2(e?.upperExp,5);if(r.isZero())return"0";var u,l=r.toSignificantDigits(n),s=l.e;return s>=a&&s<o?u=l.toFixed():u=v2(r,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function eZ(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function v2(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function tZ(r,e){return r.toFixed(e)}function y2(r,e){return xt(r)?r:ut(r)?r.toNumber():e}function w2(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function Et(r,e){var t=rZ(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function rZ(r,e){if(typeof r=="number")return Eo(r,e);if(ut(r))return x2(r,e);if(nZ(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return _2(r,e);if(dn(r))return El(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>El(n)+": "+Et(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function El(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in b2?b2[i]:i,n++}return'"'+t+'"'}var b2={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Yn(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function _2(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=_2(r[i],e);return t+="]",t}else return Et(r,e)}function nZ(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function Gh(r,e){if(!dn(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+nr(r)+", index: 0)");if(!dn(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+nr(e)+", index: 1)");return r===e?0:r>e?1:-1}function Mt(r,e,t){if(!(this instanceof Mt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Mt.prototype=new RangeError;Mt.prototype.constructor=RangeError;Mt.prototype.name="DimensionError";Mt.prototype.isDimensionError=!0;function pi(r,e,t){if(!(this instanceof pi))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}pi.prototype=new RangeError;pi.prototype.constructor=RangeError;pi.prototype.name="IndexError";pi.prototype.isIndexError=!0;function mt(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function S2(r,e,t){var n,i=r.length;if(i!==e[t])throw new Mt(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new Mt(e.length-1,e.length,"<");S2(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new Mt(e.length+1,e.length,">")}function e0(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new Mt(r.length,0)}else S2(r,e,0)}function wp(r,e){var t=r.isMatrix?r._size:mt(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new Mt(i,t[a])})}function Fr(r,e){if(r!==void 0){if(!xt(r)||!Je(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new pi(r,e)}}function Tl(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&ur(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(dn(t)&&t.length===0)return!0}return!1}function Do(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!xt(i)||!Je(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Et(e)+")")}),(xt(r)||ut(r))&&(r=[r]);var n=t!==void 0?t:0;return Kb(r,e,0,n),r}function Kb(r,e,t,n){var i,a,o=r.length,u=e[t],l=Math.min(o,u);if(r.length=u,t<e.length-1){var s=t+1;for(i=0;i<l;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),Kb(a,e,s,n);for(i=l;i<u;i++)a=[],r[i]=a,Kb(a,e,s,n)}else{for(i=0;i<l;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=l;i<u;i++)r[i]=n}}function _p(r,e){var t=kt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Mt(0,n,"!=");e=Sp(e,n);var i=A2(e);if(n!==i)throw new Mt(i,n,"!=");try{return iZ(t,e)}catch(a){throw a instanceof Mt?new Mt(i,n,"!="):a}}function Sp(r,e){var t=A2(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var u=a>=0,l=e%t===0;if(u)if(l)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function A2(r){return r.reduce((e,t)=>e*t,1)}function iZ(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,u=0;u<o;u++)n.push(t.slice(u*a,(u+1)*a));t=n}return t}function Wc(r,e){for(var t=e||mt(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=E2(r,n,0),t.length=n),r}function E2(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=E2(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function Wh(r,e,t,n){var i=n||mt(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=T2(r,e,0);i.length<e;)i.push(1);return r}function T2(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=T2(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function kt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function to(r,e){return Array.prototype.map.call(r,e)}function Eu(r,e){Array.prototype.forEach.call(r,e)}function Yh(r,e){if(mt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function Yc(r,e){if(mt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function t0(r,e){return Array.prototype.join.call(r,e)}function ks(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function jc(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function Tu(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var u=o?Tu(a,e):e(a);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function M2(r,e,t,n){if(n<t){if(r.length!==e.length)throw new Mt(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=M2(r[a],e[a],t,n+1);return i}else return r.concat(e)}function r0(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return M2(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Ap(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var u=e[o],l=n[o],s=0;s<l;s++){var c=i-l+s;u[s]>a[c]&&(a[c]=u[s])}for(var f=0;f<e.length;f++)D2(e[f],a);return a}function D2(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function Jo(r,e){var t=mt(r);if(ia(t,e))return r;D2(t,e);var n=Ap(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=oZ(r);t.length<i&&(o=_p(o,a),t=mt(o));for(var u=0;u<i;u++)t[u]<n[u]&&(o=aZ(o,n[u],u),t=mt(o));return o}function aZ(r,e,t){return r0(...Array(e).fill(r),t)}function jh(r,e){if(!Array.isArray(r))throw new Error("Array expected");var t=mt(r);if(e.length!==t.length)throw new Mt(e.length,t.length);for(var n=0;n<e.length;n++)Fr(e[n],t[n]);return e.reduce((i,a)=>i[a],r)}function oZ(r){return rn([],r)}var Ep=$r(Ib(),1);function oa(r,e,t,n,i){if(Ep.default.isTypedFunction(r)){var a=[e,t,n],o=Ep.default.resolve(r,a);if(o)return f(o.implementation,a);var u=[e,t],l=Ep.default.resolve(r,u);if(l)return f(l.implementation,u);var s=[e],c=Ep.default.resolve(r,s);return c?f(c.implementation,s):f(r,a)}else return r(e,t,n);function f(p,m){try{return p.apply(p,m)}catch(w){var d;if(w instanceof TypeError&&((d=w.data)===null||d===void 0?void 0:d.category)==="wrongType"){var h=[];throw h.push("value: ".concat(nr(e))),m.length>=2&&h.push("index: ".concat(nr(t))),m.length>=3&&h.push("array: ".concat(nr(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(h.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(w.message))}}}var sZ="DenseMatrix",uZ=["Matrix"],n0=C(sZ,uZ,r=>{var{Matrix:e}=r;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!dn(f))throw new Error("Invalid datatype: "+f);if(et(c))c.type==="DenseMatrix"?(this._data=ht(c._data),this._size=ht(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&ur(c.data)&&ur(c.size))this._data=c.data,this._size=c.size,e0(this._data,this._size),this._datatype=f||c.datatype;else if(ur(c))this._data=s(c),this._size=mt(this._data),e0(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+nr(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Tu(this._data,nr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){return jh(this._data,c)},t.prototype.set=function(c,f,p){if(!ur(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Mt(c.length,this._size.length,"<");var m,d,h,w=c.map(function(E){return E+1});l(this,w,p);var x=this._data;for(m=0,d=c.length-1;m<d;m++)h=c[m],Fr(h,x.length),x=x[h];return h=c[c.length-1],Fr(h,x.length),x[h]=f,this};function n(c,f){if(!xu(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new Mt(m.length,c._size.length);for(var d=f.min(),h=f.max(),w=0,x=c._size.length;w<x;w++)Fr(d[w],c._size[w]),Fr(h[w],c._size[w]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var d=m===p-1,h=f.dimension(m);return d?h.map(function(w){return Fr(w,c.length),c[w]}).valueOf():h.map(function(w){Fr(w,c.length);var x=c[w];return i(x,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var d=f.size(),h=f.isScalar(),w;if(et(p)?(w=p.size(),p=p.valueOf()):w=mt(p),h){if(w.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!ia(w,d))try{w.length===0?p=Jo([p],d):p=Jo(p,d),w=mt(p)}catch{}if(d.length<c._size.length)throw new Mt(d.length,c._size.length,"<");if(w.length<d.length){for(var x=0,E=0;d[x]===1&&w[x]===1;)x++;for(;d[x]===1;)E++,x++;p=Wh(p,d.length,E,w)}if(!ia(d,w))throw new Mt(d,w,">");var v=f.max().map(function(y){return y+1});l(c,v,m);var _=d.length,A=0;o(c._data,f,p,_,A)}return c}function o(c,f,p,m,d){var h=d===m-1,w=f.dimension(d);h?w.forEach(function(x,E){Fr(x),c[x]=p[E[0]]}):w.forEach(function(x,E){Fr(x),o(c[x],f,p[E[0]],m,d+1)})}t.prototype.resize=function(c,f,p){if(!bn(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),d=p?this.clone():this;return u(d,m,f)};function u(c,f,p){if(f.length===0){for(var m=c._data;ur(m);)m=m[0];return m}return c._size=f.slice(0),c._data=Do(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=_p(p._data,c);var m=p._size.reduce((d,h)=>d*h);return p._size=Sp(c,m),p};function l(c,f,p){for(var m=c._size.slice(0),d=!1;m.length<f.length;)m.push(0),d=!0;for(var h=0,w=f.length;h<w;h++)f[h]>m[h]&&(m[h]=f[h],d=!0);d&&u(c,m,p)}t.prototype.clone=function(){var c=new t({data:ht(this._data),size:ht(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=function(w,x){return ur(w)?w.map(function(E,v){return p(E,x.concat(v))}):oa(c,w,x,f,"map")},m=p(this._data,[]),d=this._datatype!==void 0?Tu(m,nr):void 0;return new t(m,d)},t.prototype.forEach=function(c){var f=this,p=function(d,h){ur(d)?d.forEach(function(w,x){p(w,h.concat(x))}):c(d,h,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*(p,m){if(ur(p))for(var d=0;d<p.length;d++)yield*c(p[d],m.concat(d));else yield{value:p,index:m}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,d=function(x){var E=m.map(v=>[v[x]]);f.push(new t(E,c._datatype))},h=0;h<p[1];h++)d(h);return f},t.prototype.toArray=function(){return ht(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return Et(this._data,c)},t.prototype.toString=function(){return Et(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(ut(c)&&(c=c.toNumber()),!xt(c)||!Je(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],d=this._size[1],h=Math.min(m-p,d-f),w=[],x=0;x<h;x++)w[x]=this._data[x+p][x+f];return new t({data:w,size:[h],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!ur(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(T){if(ut(T)&&(T=T.toNumber()),!xt(T)||!Je(T)||T<1)throw new Error("Size values must be positive integers");return T}),p){if(ut(p)&&(p=p.toNumber()),!xt(p)||!Je(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var d=p>0?p:0,h=p<0?-p:0,w=c[0],x=c[1],E=Math.min(w-h,x-d),v;if(ur(f)){if(f.length!==E)throw new Error("Invalid value array length");v=function(M){return f[M]}}else if(et(f)){var _=f.size();if(_.length!==1||_[0]!==E)throw new Error("Invalid matrix length");v=function(M){return f.get([M])}}else v=function(){return f};m||(m=ut(v(0))?v(0).mul(0):0);var A=[];if(c.length>0){A=Do(A,c,m);for(var y=0;y<E;y++)A[y+h][y+d]=v(y)}return new t({data:A,size:[w,x]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!xt(c)||!Je(c)||!xt(f)||!Je(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fr(c,this._size[0]),Fr(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function s(c){return et(c)?s(c.valueOf()):ur(c)?c.map(s):c}return t},{isClass:!0});var C2="clone",lZ=["typed"],i0=C(C2,lZ,r=>{var{typed:e}=r;return e(C2,{any:ht})});function Zh(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function ro(r){for(var e=0;e<r.length;e++)if(bn(r[e]))return!0;return!1}function Ai(r,e){et(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?Ai(i,e):e(i)}}function rt(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return rt(n,e,t)}):e(r)}function Mu(r,e,t){var n=Array.isArray(r)?mt(r):r.size();if(e<0||e>=n.length)throw new pi(e,n.length);return et(r)?r.create(Jh(r.valueOf(),e,t),r.datatype()):Jh(r,e,t)}function Jh(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=Zh(r),i=[],n=0;n<o.length;n++)i[n]=Jh(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=Jh(r[n],e-1,t);return i}}function a0(r,e,t,n,i,a,o,u,l,s,c){var f=r._values,p=r._index,m=r._ptr,d,h,w,x;if(n)for(h=m[e],w=m[e+1],d=h;d<w;d++)x=p[d],t[x]!==a?(t[x]=a,o.push(x),s?(n[x]=l?u(f[d],c):u(c,f[d]),i[x]=a):n[x]=f[d]):(n[x]=l?u(f[d],n[x]):u(n[x],f[d]),i[x]=a);else for(h=m[e],w=m[e+1],d=h;d<w;d++)x=p[d],t[x]!==a?(t[x]=a,o.push(x)):i[x]=a}var N2="isInteger",cZ=["typed"],o0=C(N2,cZ,r=>{var{typed:e}=r;return e(N2,{number:Je,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var sa="number",$s="number, number";function s0(r){return Math.abs(r)}s0.signature=sa;function u0(r,e){return r+e}u0.signature=$s;function l0(r,e){return r-e}l0.signature=$s;function c0(r,e){return r*e}c0.signature=$s;function fZ(r,e){return r/e}fZ.signature=$s;function f0(r){return-r}f0.signature=sa;function p0(r){return r}p0.signature=sa;function Zc(r){return HI(r)}Zc.signature=sa;function m0(r){return r*r*r}m0.signature=sa;function d0(r){return Math.exp(r)}d0.signature=sa;function h0(r){return GI(r)}h0.signature=sa;function pZ(r,e){if(!Je(r)||!Je(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}pZ.signature=$s;function g0(r,e){if(!Je(r)||!Je(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}g0.signature=$s;function F2(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function v0(r){return zI(r)}v0.signature=sa;function y0(r){return qI(r)}y0.signature=sa;function mZ(r){return Nh(r)}mZ.signature=sa;function dZ(r,e){return e===0?r:r-e*Math.floor(r/e)}dZ.signature=$s;function x0(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Xh(r){return eo(r)}Xh.signature=sa;function hZ(r){return Math.sqrt(r)}hZ.signature=sa;function b0(r){return r*r}b0.signature=sa;function w0(r,e){var t,n,i,a=0,o=1,u=1,l=0;if(!Je(r)||!Je(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=u,u=l-n*u,l=t,r=e,e=i;var s;return r<0?s=[-r,-o,-l]:s=[r,r?o:0,l],s}w0.signature=$s;function _0(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}_0.signature=$s;function Jc(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Je(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(kb(r,e))}function gZ(r){return Math.abs(r)}gZ.signature=sa;var vZ="number",Xc="number, number";function S0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function bitAnd");return r&e}S0.signature=Xc;function A0(r){if(!Je(r))throw new Error("Integer expected in function bitNot");return~r}A0.signature=vZ;function E0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function bitOr");return r|e}E0.signature=Xc;function T0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function bitXor");return r^e}T0.signature=Xc;function M0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function leftShift");return r<<e}M0.signature=Xc;function D0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function rightArithShift");return r>>e}D0.signature=Xc;function C0(r,e){if(!Je(r)||!Je(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}C0.signature=Xc;function Na(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Na(r,t)*Na(t+1,e)}function N0(r,e){if(!Je(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Je(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,u=i;u<=r;++u)for(n*=u;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Na(a,o)),n}N0.signature="number, number";var I2=Math.PI,P2=2*Math.PI,B2=Math.E,k2=1.618033988749895;var yZ="number",F0="number, number";function I0(r){return!r}I0.signature=yZ;function Qh(r,e){return!!(r||e)}Qh.signature=F0;function Kh(r,e){return!!r!=!!e}Kh.signature=F0;function eg(r,e){return!!(r&&e)}eg.signature=F0;function Tp(r){var e;if(Je(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Na(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*Tp(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=Ml[0];for(var o=1;o<Ml.length;++o)e+=Ml[o]/(r+o);var u=r+P0+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,r+.5)*Math.exp(-u)*e}Tp.signature="number";var P0=4.7421875,Ml=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],B0=.9189385332046728,xZ=5,bZ=7,$2=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Mp(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Mp(1-r);r=r-1;for(var e=r+xZ+.5,t=$2[0],n=bZ-1;n>=1;n--)t+=$2[n]/(r+n);return B0+(r+.5)*Math.log(e)-e+Math.log(t)}Mp.signature="number";var hn="number",wZ="number, number";function _Z(r){return Math.acos(r)}_Z.signature=hn;function k0(r){return jI(r)}k0.signature=hn;function $0(r){return Math.atan(1/r)}$0.signature=hn;function O0(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}O0.signature=hn;function R0(r){return Math.asin(1/r)}R0.signature=hn;function L0(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}L0.signature=hn;function U0(r){return Math.acos(1/r)}U0.signature=hn;function V0(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}V0.signature=hn;function SZ(r){return Math.asin(r)}SZ.signature=hn;function q0(r){return ZI(r)}q0.signature=hn;function AZ(r){return Math.atan(r)}AZ.signature=hn;function EZ(r,e){return Math.atan2(r,e)}EZ.signature=wZ;function z0(r){return JI(r)}z0.signature=hn;function TZ(r){return Math.cos(r)}TZ.signature=hn;function MZ(r){return Ih(r)}MZ.signature=hn;function H0(r){return 1/Math.tan(r)}H0.signature=hn;function G0(r){var e=Math.exp(2*r);return(e+1)/(e-1)}G0.signature=hn;function W0(r){return 1/Math.sin(r)}W0.signature=hn;function Y0(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*eo(r)}Y0.signature=hn;function j0(r){return 1/Math.cos(r)}j0.signature=hn;function Z0(r){return 2/(Math.exp(r)+Math.exp(-r))}Z0.signature=hn;function DZ(r){return Math.sin(r)}DZ.signature=hn;function J0(r){return XI(r)}J0.signature=hn;function CZ(r){return Math.tan(r)}CZ.signature=hn;function NZ(r){return Ph(r)}NZ.signature=hn;var Dp="number";function FZ(r){return Je(r)}FZ.signature=Dp;function X0(r){return r<0}X0.signature=Dp;function Q0(r){return r>0}Q0.signature=Dp;function IZ(r){return r===0}IZ.signature=Dp;function K0(r){return Number.isNaN(r)}K0.signature=Dp;function ln(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),n))}var O2="isNegative",PZ=["typed","config"],ew=C(O2,PZ,r=>{var{typed:e,config:t}=r;return e(O2,{number:n=>Gr(n,0,t.relTol,t.absTol)?!1:X0(n),BigNumber:n=>ln(n,new n.constructor(0),t.relTol,t.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var R2="isNumeric",BZ=["typed"],tw=C(R2,BZ,r=>{var{typed:e}=r;return e(R2,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var L2="hasNumericValue",kZ=["typed","isNumeric"],rw=C(L2,kZ,r=>{var{typed:e,isNumeric:t}=r;return e(L2,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var U2="isPositive",$Z=["typed","config"],nw=C(U2,$Z,r=>{var{typed:e,config:t}=r;return e(U2,{number:n=>Gr(n,0,t.relTol,t.absTol)?!1:Q0(n),BigNumber:n=>ln(n,new n.constructor(0),t.relTol,t.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0&&n.n>0,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var V2="isZero",OZ=["typed","equalScalar"],iw=C(V2,OZ,r=>{var{typed:e,equalScalar:t}=r;return e(V2,{"number | BigNumber | Complex | Fraction":n=>t(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var q2="isNaN",RZ=["typed"],aw=C(q2,RZ,r=>{var{typed:e}=r;return e(q2,{number:K0,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var z2="typeOf",LZ=["typed"],ow=C(z2,LZ,r=>{var{typed:e}=r;return e(z2,{any:nr})});function H2(r,e,t,n){return Gr(r.re,e.re,t,n)&&Gr(r.im,e.im,t,n)}var no=C("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var tg="equalScalar",UZ=["typed","config"],sw=C(tg,UZ,r=>{var{typed:e,config:t}=r,n=no({typed:e});return e(tg,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Gr(a,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||ln(a,o,t.relTol,t.absTol)},"bigint, bigint":function(a,o){return a===o},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return H2(a,o,t.relTol,t.absTol)}},n)}),DEe=C(tg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(tg,{"number, number":function(i,a){return Gr(i,a,t.relTol,t.absTol)}})});var VZ="SparseMatrix",qZ=["typed","equalScalar","Matrix"],uw=C(VZ,qZ,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(h,w){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(w&&!dn(w))throw new Error("Invalid datatype: "+w);if(et(h))a(this,h,w);else if(h&&ur(h.index)&&ur(h.ptr)&&ur(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=w||h.datatype;else if(ur(h))o(this,h,w);else{if(h)throw new TypeError("Unsupported type of data ("+nr(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=w}}function a(h,w,x){w.type==="SparseMatrix"?(h._values=w._values?ht(w._values):void 0,h._index=ht(w._index),h._ptr=ht(w._ptr),h._size=ht(w._size),h._datatype=x||w._datatype):o(h,w.valueOf(),x||w._datatype)}function o(h,w,x){h._values=[],h._index=[],h._ptr=[],h._datatype=x;var E=w.length,v=0,_=t,A=0;if(dn(x)&&(_=e.find(t,[x,x])||t,A=e.convert(0,x)),E>0){var y=0;do{h._ptr.push(h._index.length);for(var T=0;T<E;T++){var M=w[T];if(ur(M)){if(y===0&&v<M.length&&(v=M.length),y<M.length){var b=M[y];_(b,A)||(h._values.push(b),h._index.push(T))}}else y===0&&v<1&&(v=1),_(M,A)||(h._values.push(M),h._index.push(T))}y++}while(y<v)}h._ptr.push(h._index.length),h._size=[E,v]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,w){return new i(h,w)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Tu(this._values,nr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,w){return new i(h,w)},i.prototype.density=function(){var h=this._size[0],w=this._size[1];return h!==0&&w!==0?this._index.length/(h*w):0},i.prototype.subset=function(h,w,x){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,h);case 2:case 3:return l(this,h,w,x);default:throw new SyntaxError("Wrong number of arguments")}};function u(h,w){if(!xu(w))throw new TypeError("Invalid index");var x=w.isScalar();if(x)return h.get(w.min());var E=w.size();if(E.length!==h._size.length)throw new Mt(E.length,h._size.length);var v,_,A,y,T=w.min(),M=w.max();for(v=0,_=h._size.length;v<_;v++)Fr(T[v],h._size[v]),Fr(M[v],h._size[v]);var b=h._values,D=h._index,I=h._ptr,P=w.dimension(0),R=w.dimension(1),q=[],L=[];P.forEach(function(O,X){L[O]=X[0],q[O]=!0});var k=b?[]:void 0,B=[],W=[];return R.forEach(function(O){for(W.push(B.length),A=I[O],y=I[O+1];A<y;A++)v=D[A],q[v]===!0&&(B.push(L[v]),k&&k.push(b[A]))}),W.push(B.length),new i({values:k,index:B,ptr:W,size:E,datatype:h._datatype})}function l(h,w,x,E){if(!w||w.isIndex!==!0)throw new TypeError("Invalid index");var v=w.size(),_=w.isScalar(),A;if(et(x)?(A=x.size(),x=x.toArray()):A=mt(x),_){if(A.length!==0)throw new TypeError("Scalar expected");h.set(w.min(),x,E)}else{if(v.length!==1&&v.length!==2)throw new Mt(v.length,h._size.length,"<");if(A.length<v.length){for(var y=0,T=0;v[y]===1&&A[y]===1;)y++;for(;v[y]===1;)T++,y++;x=Wh(x,v.length,T,A)}if(!ia(v,A))throw new Mt(v,A,">");if(v.length===1){var M=w.dimension(0);M.forEach(function(I,P){Fr(I),h.set([I,0],x[P[0]],E)})}else{var b=w.dimension(0),D=w.dimension(1);b.forEach(function(I,P){Fr(I),D.forEach(function(R,q){Fr(R),h.set([I,R],x[P[0]][q[0]],E)})})}}return h}i.prototype.get=function(h){if(!ur(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Mt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var w=h[0],x=h[1];Fr(w,this._size[0]),Fr(x,this._size[1]);var E=s(w,this._ptr[x],this._ptr[x+1],this._index);return E<this._ptr[x+1]&&this._index[E]===w?this._values[E]:0},i.prototype.set=function(h,w,x){if(!ur(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Mt(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=h[0],v=h[1],_=this._size[0],A=this._size[1],y=t,T=0;dn(this._datatype)&&(y=e.find(t,[this._datatype,this._datatype])||t,T=e.convert(0,this._datatype)),(E>_-1||v>A-1)&&(p(this,Math.max(E+1,_),Math.max(v+1,A),x),_=this._size[0],A=this._size[1]),Fr(E,_),Fr(v,A);var M=s(E,this._ptr[v],this._ptr[v+1],this._index);return M<this._ptr[v+1]&&this._index[M]===E?y(w,T)?c(M,v,this._values,this._index,this._ptr):this._values[M]=w:y(w,T)||f(M,E,v,w,this._values,this._index,this._ptr),this};function s(h,w,x,E){if(x-w===0)return x;for(var v=w;v<x;v++)if(E[v]===h)return v;return w}function c(h,w,x,E,v){x.splice(h,1),E.splice(h,1);for(var _=w+1;_<v.length;_++)v[_]--}function f(h,w,x,E,v,_,A){v.splice(h,0,E),_.splice(h,0,w);for(var y=x+1;y<A.length;y++)A[y]++}i.prototype.resize=function(h,w,x){if(!bn(h))throw new TypeError("Array or Matrix expected");var E=h.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(_){if(!xt(_)||!Je(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Et(E)+")")});var v=x?this.clone():this;return p(v,E[0],E[1],w)};function p(h,w,x,E){var v=E||0,_=t,A=0;dn(h._datatype)&&(_=e.find(t,[h._datatype,h._datatype])||t,A=e.convert(0,h._datatype),v=e.convert(v,h._datatype));var y=!_(v,A),T=h._size[0],M=h._size[1],b,D,I;if(x>M){for(D=M;D<x;D++)if(h._ptr[D]=h._values.length,y)for(b=0;b<T;b++)h._values.push(v),h._index.push(b);h._ptr[x]=h._values.length}else x<M&&(h._ptr.splice(x+1,M-x),h._values.splice(h._ptr[x],h._values.length),h._index.splice(h._ptr[x],h._index.length));if(M=x,w>T){if(y){var P=0;for(D=0;D<M;D++){h._ptr[D]=h._ptr[D]+P,I=h._ptr[D+1]+P;var R=0;for(b=T;b<w;b++,R++)h._values.splice(I+R,0,v),h._index.splice(I+R,0,b),P++}h._ptr[M]=h._values.length}}else if(w<T){var q=0;for(D=0;D<M;D++){h._ptr[D]=h._ptr[D]-q;var L=h._ptr[D],k=h._ptr[D+1]-q;for(I=L;I<k;I++)b=h._index[I],b>w-1&&(h._values.splice(I,1),h._index.splice(I,1),q++)}h._ptr[D]=h._values.length}return h._size[0]=w,h._size[1]=x,h}i.prototype.reshape=function(h,w){if(!ur(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(O){if(!xt(O)||!Je(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Et(h)+")")});var x=this._size[0]*this._size[1];h=Sp(h,x);var E=h[0]*h[1];if(x!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=w?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return v;for(var _=[],A=0;A<v._ptr.length;A++)for(var y=0;y<v._ptr[A+1]-v._ptr[A];y++)_.push(A);for(var T=v._values.slice(),M=v._index.slice(),b=0;b<v._index.length;b++){var D=M[b],I=_[b],P=D*v._size[1]+I;_[b]=P%h[1],M[b]=Math.floor(P/h[1])}v._values.length=0,v._index.length=0,v._ptr.length=h[1]+1,v._size=h.slice();for(var R=0;R<v._ptr.length;R++)v._ptr[R]=0;for(var q=0;q<T.length;q++){var L=M[q],k=_[q],B=T[q],W=s(L,v._ptr[k],v._ptr[k+1],v._index);f(W,L,k,B,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){var h=new i({values:this._values?ht(this._values):void 0,index:ht(this._index),ptr:ht(this._ptr),size:ht(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,w){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var x=this,E=this._size[0],v=this._size[1],_=function(y,T,M){return oa(h,y,[T,M],x,"map")};return m(this,0,E-1,0,v-1,_,w)};function m(h,w,x,E,v,_,A){var y=[],T=[],M=[],b=t,D=0;dn(h._datatype)&&(b=e.find(t,[h._datatype,h._datatype])||t,D=e.convert(0,h._datatype));for(var I=function(U,pe,me){var oe=_(U,pe,me);b(oe,D)||(y.push(oe),T.push(pe))},P=E;P<=v;P++){M.push(y.length);var R=h._ptr[P],q=h._ptr[P+1];if(A)for(var L=R;L<q;L++){var k=h._index[L];k>=w&&k<=x&&I(h._values[L],k-w,P-E)}else{for(var B={},W=R;W<q;W++){var O=h._index[W];B[O]=h._values[W]}for(var X=w;X<=x;X++){var ne=X in B?B[X]:0;I(ne,X-w,P-E)}}}return M.push(y.length),new i({values:y,index:T,ptr:M,size:[x-w+1,v-E+1]})}i.prototype.forEach=function(h,w){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var x=this,E=this._size[0],v=this._size[1],_=0;_<v;_++){var A=this._ptr[_],y=this._ptr[_+1];if(w)for(var T=A;T<y;T++){var M=this._index[T];h(this._values[T],[M,_],x)}else{for(var b={},D=A;D<y;D++){var I=this._index[D];b[I]=this._values[D]}for(var P=0;P<E;P++){var R=P in b?b[P]:0;h(R,[P,_],x)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],w=0;w<h;w++)for(var x=this._ptr[w],E=this._ptr[w+1],v=x;v<E;v++){var _=this._index[v];yield{value:this._values[v],index:[_,w]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(h,w,x,E,v){var _=E[0],A=E[1],y=[],T,M;for(T=0;T<_;T++)for(y[T]=[],M=0;M<A;M++)y[T][M]=0;for(M=0;M<A;M++)for(var b=x[M],D=x[M+1],I=b;I<D;I++)T=w[I],y[T][M]=h?v?ht(h[I]):h[I]:1;return y}return i.prototype.format=function(h){for(var w=this._size[0],x=this._size[1],E=this.density(),v="Sparse Matrix ["+Et(w,h)+" x "+Et(x,h)+"] density: "+Et(E,h)+`
`,_=0;_<x;_++)for(var A=this._ptr[_],y=this._ptr[_+1],T=A;T<y;T++){var M=this._index[T];v+=`
    (`+Et(M,h)+", "+Et(_,h)+") ==> "+(this._values?Et(this._values[T],h):"X")}return v},i.prototype.toString=function(){return Et(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(ut(h)&&(h=h.toNumber()),!xt(h)||!Je(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var w=h>0?h:0,x=h<0?-h:0,E=this._size[0],v=this._size[1],_=Math.min(E-x,v-w),A=[],y=[],T=[];T[0]=0;for(var M=w;M<v&&A.length<_;M++)for(var b=this._ptr[M],D=this._ptr[M+1],I=b;I<D;I++){var P=this._index[I];if(P===M-w+x){A.push(this._values[I]),y[A.length-1]=P-x;break}}return T.push(A.length),new i({values:A,index:y,ptr:T,size:[_,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,w,x,E,v){if(!ur(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(O){if(ut(O)&&(O=O.toNumber()),!xt(O)||!Je(O)||O<1)throw new Error("Size values must be positive integers");return O}),x){if(ut(x)&&(x=x.toNumber()),!xt(x)||!Je(x))throw new TypeError("The parameter k must be an integer number")}else x=0;var _=t,A=0;dn(v)&&(_=e.find(t,[v,v])||t,A=e.convert(0,v));var y=x>0?x:0,T=x<0?-x:0,M=h[0],b=h[1],D=Math.min(M-T,b-y),I;if(ur(w)){if(w.length!==D)throw new Error("Invalid value array length");I=function(X){return w[X]}}else if(et(w)){var P=w.size();if(P.length!==1||P[0]!==D)throw new Error("Invalid matrix length");I=function(X){return w.get([X])}}else I=function(){return w};for(var R=[],q=[],L=[],k=0;k<b;k++){L.push(R.length);var B=k-y;if(B>=0&&B<D){var W=I(B);_(W,A)||(q.push(B+T),R.push(W))}}return L.push(R.length),new i({values:R,index:q,ptr:L,size:[M,b]})},i.prototype.swapRows=function(h,w){if(!xt(h)||!Je(h)||!xt(w)||!Je(w))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fr(h,this._size[0]),Fr(w,this._size[0]),i._swapRows(h,w,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,w,x,E,v){for(var _=E[h],A=E[h+1],y=_;y<A;y++)v(x[y],w[y])},i._swapRows=function(h,w,x,E,v,_){for(var A=0;A<x;A++){var y=_[A],T=_[A+1],M=s(h,y,T,v),b=s(w,y,T,v);if(M<T&&b<T&&v[M]===h&&v[b]===w){if(E){var D=E[M];E[M]=E[b],E[b]=D}continue}if(M<T&&v[M]===h&&(b>=T||v[b]!==w)){var I=E?E[M]:void 0;v.splice(b,0,w),E&&E.splice(b,0,I),v.splice(b<=M?M+1:M,1),E&&E.splice(b<=M?M+1:M,1);continue}if(b<T&&v[b]===w&&(M>=T||v[M]!==h)){var P=E?E[b]:void 0;v.splice(M,0,h),E&&E.splice(M,0,P),v.splice(M<=b?b+1:b,1),E&&E.splice(M<=b?b+1:b,1)}}},i},{isClass:!0});var zZ="number",HZ=["typed"];function GZ(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function WZ(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var lw=C(zZ,HZ,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=GZ(i);if(a)return WZ(a);var o=0,u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(o=Number(u[2]),i=u[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(u){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var YZ="bigint",jZ=["typed"],cw=C(YZ,jZ,r=>{var{typed:e}=r,t=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))});return t.fromJSON=function(n){return BigInt(n.value)},t});var G2="string",ZZ=["typed"],fw=C(G2,ZZ,r=>{var{typed:e}=r;return e(G2,{"":function(){return""},number:Eo,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t)),any:function(n){return String(n)}})});var W2="boolean",JZ=["typed"],pw=C(W2,JZ,r=>{var{typed:e}=r;return e(W2,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var XZ="bignumber",QZ=["typed","BigNumber"],mw=C(XZ,QZ,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],u=t(a[1]),l=new t(2).pow(Number(o));if(u.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return u.gte(s)?u.sub(l):u}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var KZ="complex",eJ=["typed","Complex"],dw=C(KZ,eJ,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var tJ="fraction",rJ=["typed","Fraction"],hw=C(tJ,rJ,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var Y2="matrix",nJ=["typed","Matrix","DenseMatrix","SparseMatrix"],gw=C(Y2,nJ,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(Y2,{"":function(){return a([])},string:function(u){return a([],u)},"string, string":function(u,l){return a([],u,l)},Array:function(u){return a(u)},Matrix:function(u){return a(u,u.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,u,l){if(u==="dense"||u==="default"||u===void 0)return new n(o,l);if(u==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}});var j2="matrixFromFunction",iJ=["typed","matrix","isZero"],vw=C(j2,iJ,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(j2,{"Array | Matrix, function, string, string":function(o,u,l,s){return i(o,u,l,s)},"Array | Matrix, function, string":function(o,u,l){return i(o,u,l)},"Matrix, function":function(o,u){return i(o,u,"dense")},"Array, function":function(o,u){return i(o,u,"dense").toArray()},"Array | Matrix, string, function":function(o,u,l){return i(o,l,u)},"Array | Matrix, string, string, function":function(o,u,l,s){return i(o,s,u,l)}});function i(a,o,u,l){var s;return l!==void 0?s=t(u,l):s=t(u),s.resize(a),s.forEach(function(c,f){var p=o(f);n(p)||s.set(f,p)}),s}});var Z2="matrixFromRows",aJ=["typed","matrix","flatten","size"],yw=C(Z2,aJ,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(Z2,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(s=>s.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(u[0]),s=[];for(var c of u){var f=o(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(f|0));s.push(n(c))}return s}function o(u){var l=i(u);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var J2="matrixFromColumns",oJ=["typed","matrix","flatten","size"],xw=C(J2,oJ,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(J2,{"...Array":function(l){return a(l)},"...Matrix":function(l){return t(a(l.map(s=>s.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(u[0]),s=[],c=0;c<l;c++)s[c]=[];for(var f of u){var p=o(f);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(p|0));for(var m=n(f),d=0;d<l;d++)s[d].push(m[d])}return s}function o(u){var l=i(u);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var X2="splitUnit",sJ=["typed"],bw=C(X2,sJ,r=>{var{typed:e}=r;return e(X2,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var Q2="unaryMinus",uJ=["typed"],ww=C(Q2,uJ,r=>{var{typed:e}=r;return e(Q2,{number:f0,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>rt(n,t,!0))})});var K2="unaryPlus",lJ=["typed","config","numeric"],_w=C(K2,lJ,r=>{var{typed:e,config:t,numeric:n}=r;return e(K2,{number:p0,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>rt(a,i,!0)),boolean:function(a){return n(a?1:0,t.number)},string:function(a){return n(a,_i(a,t))}})});var eP="abs",cJ=["typed"],Sw=C(eP,cJ,r=>{var{typed:e}=r;return e(eP,{number:s0,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>n=>rt(n,t,!0))})});var tP="apply",fJ=["typed","isInteger"],Dl=C(tP,fJ,r=>{var{typed:e,isInteger:t}=r;return e(tP,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(i)?mt(i):i.size();if(a<0||a>=u.length)throw new pi(a,u.length);return et(i)?i.create(rg(i.valueOf(),a,o),i.datatype()):rg(i,a,o)}})});function rg(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=pJ(r),i=[],n=0;n<a.length;n++)i[n]=rg(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=rg(r[n],e-1,t);return i}}function pJ(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var rP="addScalar",mJ=["typed"],Aw=C(rP,mJ,r=>{var{typed:e}=r;return e(rP,{"number, number":u0,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var nP="subtractScalar",dJ=["typed"],Ew=C(nP,dJ,r=>{var{typed:e}=r;return e(nP,{"number, number":l0,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var iP="cbrt",hJ=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Tw=C(iP,hJ,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:u,Fraction:l}=r;return t(iP,{number:Zc,Complex:s,"Complex, boolean":s,BigNumber:function(p){return p.cbrt()},Unit:c});function s(f,p){var m=f.arg()/3,d=f.abs(),h=new o(Zc(d),0).mul(new o(0,m).exp());if(p){var w=[h,new o(Zc(d),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Zc(d),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?w:a(w)}else return h}function c(f){if(f.value&&zi(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=s(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var d;ut(f.value)?d=new u(1).div(3):Is(f.value)?d=new l(1,3):d=1/3;var h=f.pow(d);return m&&(h.value=i(h.value)),h}}});var gJ="matAlgo11xS0s",vJ=["typed","equalScalar"],Cr=C(gJ,vJ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,u){var l=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],d=f[1],h,w=t,x=0,E=o;typeof p=="string"&&(h=p,w=e.find(t,[h,h]),x=e.convert(0,h),a=e.convert(a,h),E=e.find(o,[h,h]));for(var v=[],_=[],A=[],y=0;y<d;y++){A[y]=_.length;for(var T=c[y],M=c[y+1],b=T;b<M;b++){var D=s[b],I=u?E(a,l[b]):E(l[b],a);w(I,x)||(_.push(D),v.push(I))}}return A[d]=_.length,i.createSparseMatrix({values:v,index:_,ptr:A,size:[m,d],datatype:h})}});var yJ="matAlgo12xSfs",xJ=["typed","DenseMatrix"],vr=C(yJ,xJ,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,u){var l=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],d=f[1],h,w=o;typeof p=="string"&&(h=p,a=e.convert(a,h),w=e.find(o,[h,h]));for(var x=[],E=[],v=[],_=0;_<d;_++){for(var A=_+1,y=c[_],T=c[_+1],M=y;M<T;M++){var b=s[M];E[b]=l[M],v[b]=A}for(var D=0;D<m;D++)_===0&&(x[D]=[]),v[D]===A?x[D][_]=u?w(a,E[D]):w(E[D],a):x[D][_]=u?w(a,0):w(0,a)}return new t({data:x,size:[m,d],datatype:h})}});var bJ="matAlgo14xDs",wJ=["typed"],En=C(bJ,wJ,r=>{var{typed:e}=r;return function(i,a,o,u){var l=i._data,s=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=s.length>0?t(p,0,s,s[0],l,a,u):[];return i.createDenseMatrix({data:m,size:ht(s),datatype:f})};function t(n,i,a,o,u,l,s){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=s?n(l,u[f]):n(u[f],l);else for(var p=0;p<o;p++)c[p]=t(n,i+1,a,a[i+1],u[p],l,s);return c}});var Mw="ceil",_J=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],SJ=C(Mw,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Mw,{number:function(a){return Gr(a,n(a),t.relTol,t.absTol)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Gr(a,n(a,o),t.relTol,t.absTol))return n(a,o);var[u,l]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(u,"e").concat(Number(l)+o)));return[u,l]="".concat(s,"e").split("e"),Number("".concat(u,"e").concat(Number(l)-o))}})}),Dw=C(Mw,_J,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=r,l=Cr({typed:e,equalScalar:a}),s=vr({typed:e,DenseMatrix:u}),c=En({typed:e}),f=SJ({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,d){return m.ceil(d)},"Complex, BigNumber":function(m,d){return m.ceil(d.toNumber())},BigNumber:function(m){return ln(m,n(m),t.relTol,t.absTol)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,d){return ln(m,n(m,d),t.relTol,t.absTol)?n(m,d):m.toDecimalPlaces(d.toNumber(),Al.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,d){return m.ceil(d)},"Fraction, BigNumber":function(m,d){return m.ceil(d.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>rt(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,d)=>rt(m,h=>p(h,d),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>l(m,d,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>c(m,d,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,d)=>c(i(d),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,d)=>a(m,0)?o(d.size(),d.storage()):d.storage()==="dense"?c(d,m,p,!0):s(d,m,p,!0))})});var aP="cube",AJ=["typed"],Cw=C(aP,AJ,r=>{var{typed:e}=r;return e(aP,{number:m0,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var oP="exp",EJ=["typed"],Nw=C(oP,EJ,r=>{var{typed:e}=r;return e(oP,{number:d0,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var sP="expm1",TJ=["typed","Complex"],Fw=C(sP,TJ,r=>{var{typed:e,Complex:t}=r;return e(sP,{number:h0,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Iw="fix",MJ=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],DJ=C(Iw,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(Iw,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Pw=C(Iw,MJ,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:u,DenseMatrix:l}=r,s=vr({typed:e,DenseMatrix:l}),c=En({typed:e}),f=DJ({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,d){return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},"Complex, BigNumber":function(m,d){var h=d.toNumber();return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,d){return m.isNegative()?i(m,d):a(m,d)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,d){return m.s<0?i(m,d):a(m,d)},"Array | Matrix":e.referToSelf(p=>m=>rt(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,d)=>rt(m,h=>p(h,d),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,d)=>c(n(d),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,d)=>o(m,0)?u(d.size(),d.storage()):d.storage()==="dense"?c(d,m,p,!0):s(d,m,p,!0))})});var Bw="floor",CJ=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],NJ=C(Bw,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Bw,{number:function(a){return Gr(a,n(a),t.relTol,t.absTol)?n(a):Math.floor(a)},"number, number":function(a,o){if(Gr(a,n(a,o),t.relTol,t.absTol))return n(a,o);var[u,l]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(u,"e").concat(Number(l)+o)));return[u,l]="".concat(s,"e").split("e"),Number("".concat(u,"e").concat(Number(l)-o))}})}),Cp=C(Bw,CJ,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=r,l=Cr({typed:e,equalScalar:a}),s=vr({typed:e,DenseMatrix:u}),c=En({typed:e}),f=NJ({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,d){return m.floor(d)},"Complex, BigNumber":function(m,d){return m.floor(d.toNumber())},BigNumber:function(m){return ln(m,n(m),t.relTol,t.absTol)?n(m):m.floor()},"BigNumber, BigNumber":function(m,d){return ln(m,n(m,d),t.relTol,t.absTol)?n(m,d):m.toDecimalPlaces(d.toNumber(),Al.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,d){return m.floor(d)},"Fraction, BigNumber":function(m,d){return m.floor(d.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>rt(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,d)=>rt(m,h=>p(h,d),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>l(m,d,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>c(m,d,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,d)=>c(i(d),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,d)=>a(m,0)?o(d.size(),d.storage()):d.storage()==="dense"?c(d,m,p,!0):s(d,m,p,!0))})});var FJ="matAlgo02xDS0",IJ=["typed","equalScalar"],Tn=C(FJ,IJ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,u){var l=i._data,s=i._size,c=i._datatype||i.getDataType(),f=a._values,p=a._index,m=a._ptr,d=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==d.length)throw new Mt(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var w=s[0],x=s[1],E,v=t,_=0,A=o;typeof c=="string"&&c===h&&c!=="mixed"&&(E=c,v=e.find(t,[E,E]),_=e.convert(0,E),A=e.find(o,[E,E]));for(var y=[],T=[],M=[],b=0;b<x;b++){M[b]=T.length;for(var D=m[b],I=m[b+1],P=D;P<I;P++){var R=p[P],q=u?A(f[P],l[R][b]):A(l[R][b],f[P]);v(q,_)||(T.push(R),y.push(q))}}return M[x]=T.length,a.createSparseMatrix({values:y,index:T,ptr:M,size:[w,x],datatype:c===i._datatype&&h===a._datatype?E:void 0})}});var PJ="matAlgo03xDSf",BJ=["typed"],qr=C(PJ,BJ,r=>{var{typed:e}=r;return function(n,i,a,o){var u=n._data,l=n._size,s=n._datatype||n.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new Mt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],w=l[1],x,E=0,v=a;typeof s=="string"&&s===d&&s!=="mixed"&&(x=s,E=e.convert(0,x),v=e.find(a,[x,x]));for(var _=[],A=0;A<h;A++)_[A]=[];for(var y=[],T=[],M=0;M<w;M++){for(var b=M+1,D=p[M],I=p[M+1],P=D;P<I;P++){var R=f[P];y[R]=o?v(c[P],u[R][M]):v(u[R][M],c[P]),T[R]=b}for(var q=0;q<h;q++)T[q]===b?_[q][M]=y[q]:_[q][M]=o?v(E,u[q][M]):v(u[q][M],E)}return n.createDenseMatrix({data:_,size:[h,w],datatype:s===n._datatype&&d===i._datatype?x:void 0})}});var kJ="matAlgo05xSfSf",$J=["typed","equalScalar"],Du=C(kJ,$J,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,l=i._index,s=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,d=a._ptr,h=a._size,w=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var x=c[0],E=c[1],v,_=t,A=0,y=o;typeof f=="string"&&f===w&&f!=="mixed"&&(v=f,_=e.find(t,[v,v]),A=e.convert(0,v),y=e.find(o,[v,v]));var T=u&&p?[]:void 0,M=[],b=[],D=T?[]:void 0,I=T?[]:void 0,P=[],R=[],q,L,k,B;for(L=0;L<E;L++){b[L]=M.length;var W=L+1;for(k=s[L],B=s[L+1];k<B;k++)q=l[k],M.push(q),P[q]=W,D&&(D[q]=u[k]);for(k=d[L],B=d[L+1];k<B;k++)q=m[k],P[q]!==W&&M.push(q),R[q]=W,I&&(I[q]=p[k]);if(T)for(k=b[L];k<M.length;){q=M[k];var O=P[q],X=R[q];if(O===W||X===W){var ne=O===W?D[q]:A,Z=X===W?I[q]:A,U=y(ne,Z);_(U,A)?M.splice(k,1):(T.push(U),k++)}}}return b[E]=M.length,i.createSparseMatrix({values:T,index:M,ptr:b,size:[x,E],datatype:f===i._datatype&&w===a._datatype?v:void 0})}});var OJ="matAlgo13xDD",RJ=["typed"],uP=C(OJ,RJ,r=>{var{typed:e}=r;return function(i,a,o){var u=i._data,l=i._size,s=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(l.length!==f.length)throw new Mt(l.length,f.length);for(var d=0;d<l.length;d++){if(l[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");m[d]=l[d]}var h,w=o;typeof s=="string"&&s===p&&(h=s,w=e.find(o,[h,h]));var x=m.length>0?t(w,0,m,m[0],u,c):[];return i.createDenseMatrix({data:x,size:m,datatype:h})};function t(n,i,a,o,u,l){var s=[];if(i===a.length-1)for(var c=0;c<o;c++)s[c]=n(u[c],l[c]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],u[f],l[f]);return s}});function jn(r,e){if(ia(r.size(),e.size()))return[r,e];var t=Ap(r.size(),e.size());return[r,e].map(n=>LJ(n,t))}function LJ(r,e){return ia(r.size(),e)?r:r.create(Jo(r.valueOf(),e),r.datatype())}var UJ="matrixAlgorithmSuite",VJ=["typed","matrix"],Ft=C(UJ,VJ,r=>{var{typed:e,matrix:t}=r,n=uP({typed:e}),i=En({typed:e});return function(o){var u=o.elop,l=o.SD||o.DS,s;u?(s={"DenseMatrix, DenseMatrix":(m,d)=>n(...jn(m,d),u),"Array, Array":(m,d)=>n(...jn(t(m),t(d)),u).valueOf(),"Array, DenseMatrix":(m,d)=>n(...jn(t(m),d),u),"DenseMatrix, Array":(m,d)=>n(...jn(m,t(d)),u)},o.SS&&(s["SparseMatrix, SparseMatrix"]=(m,d)=>o.SS(...jn(m,d),u,!1)),o.DS&&(s["DenseMatrix, SparseMatrix"]=(m,d)=>o.DS(...jn(m,d),u,!1),s["Array, SparseMatrix"]=(m,d)=>o.DS(...jn(t(m),d),u,!1)),l&&(s["SparseMatrix, DenseMatrix"]=(m,d)=>l(...jn(d,m),u,!0),s["SparseMatrix, Array"]=(m,d)=>l(...jn(t(d),m),u,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(d,h)=>n(...jn(d,h),m)),"Array, Array":e.referToSelf(m=>(d,h)=>n(...jn(t(d),t(h)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(d,h)=>n(...jn(t(d),h),m)),"DenseMatrix, Array":e.referToSelf(m=>(d,h)=>n(...jn(d,t(h)),m))},o.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(d,h)=>o.SS(...jn(d,h),m,!1))),o.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(d,h)=>o.DS(...jn(d,h),m,!1)),s["Array, SparseMatrix"]=e.referToSelf(m=>(d,h)=>o.DS(...jn(t(d),h),m,!1))),l&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(d,h)=>l(...jn(h,d),m,!0)),s["SparseMatrix, Array"]=e.referToSelf(m=>(d,h)=>l(...jn(t(h),d),m,!0))));var c=o.scalar||"any",f=o.Ds||o.Ss;f&&(u?(s["DenseMatrix,"+c]=(m,d)=>i(m,d,u,!1),s[c+", DenseMatrix"]=(m,d)=>i(d,m,u,!0),s["Array,"+c]=(m,d)=>i(t(m),d,u,!1).valueOf(),s[c+", Array"]=(m,d)=>i(t(d),m,u,!0).valueOf()):(s["DenseMatrix,"+c]=e.referToSelf(m=>(d,h)=>i(d,h,m,!1)),s[c+", DenseMatrix"]=e.referToSelf(m=>(d,h)=>i(h,d,m,!0)),s["Array,"+c]=e.referToSelf(m=>(d,h)=>i(t(d),h,m,!1).valueOf()),s[c+", Array"]=e.referToSelf(m=>(d,h)=>i(t(h),d,m,!0).valueOf())));var p=o.sS!==void 0?o.sS:o.Ss;return u?(o.Ss&&(s["SparseMatrix,"+c]=(m,d)=>o.Ss(m,d,u,!1)),p&&(s[c+", SparseMatrix"]=(m,d)=>p(d,m,u,!0))):(o.Ss&&(s["SparseMatrix,"+c]=e.referToSelf(m=>(d,h)=>o.Ss(d,h,m,!1))),p&&(s[c+", SparseMatrix"]=e.referToSelf(m=>(d,h)=>p(h,d,m,!0)))),u&&u.signatures&&Ch(s,u.signatures),s}});var lP="mod",qJ=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Np=C(lP,qJ,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u,concat:l}=r,s=Cp({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}),c=Tn({typed:e,equalScalar:a}),f=qr({typed:e}),p=Du({typed:e,equalScalar:a}),m=Cr({typed:e,equalScalar:a}),d=vr({typed:e,DenseMatrix:u}),h=Ft({typed:e,matrix:i,concat:l});return e(lP,{"number, number":w,"BigNumber, BigNumber":function(E,v){return v.isZero()?E:E.sub(v.mul(s(E.div(v))))},"bigint, bigint":function(E,v){if(v===0n)return E;if(E<0){var _=E%v;return _===0n?_:_+v}return E%v},"Fraction, Fraction":function(E,v){return v.equals(0)?E:E.sub(v.mul(s(E.div(v))))}},h({SS:p,DS:f,SD:c,Ss:m,sS:d}));function w(x,E){return E===0?x:x-E*s(x/E)}});var zJ="matAlgo01xDSid",HJ=["typed"],Ei=C(zJ,HJ,r=>{var{typed:e}=r;return function(n,i,a,o){var u=n._data,l=n._size,s=n._datatype||n.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new Mt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],w=l[1],x=typeof s=="string"&&s!=="mixed"&&s===d?s:void 0,E=x?e.find(a,[x,x]):a,v,_,A=[];for(v=0;v<h;v++)A[v]=[];var y=[],T=[];for(_=0;_<w;_++){for(var M=_+1,b=p[_],D=p[_+1],I=b;I<D;I++)v=f[I],y[v]=o?E(c[I],u[v][_]):E(u[v][_],c[I]),T[v]=M;for(v=0;v<h;v++)T[v]===M?A[v][_]=y[v]:A[v][_]=u[v][_]}return n.createDenseMatrix({data:A,size:[h,w],datatype:s===n._datatype&&d===i._datatype?x:void 0})}});var GJ="matAlgo04xSidSid",WJ=["typed","equalScalar"],Qc=C(GJ,WJ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,l=i._index,s=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,d=a._ptr,h=a._size,w=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var x=c[0],E=c[1],v,_=t,A=0,y=o;typeof f=="string"&&f===w&&f!=="mixed"&&(v=f,_=e.find(t,[v,v]),A=e.convert(0,v),y=e.find(o,[v,v]));var T=u&&p?[]:void 0,M=[],b=[],D=u&&p?[]:void 0,I=u&&p?[]:void 0,P=[],R=[],q,L,k,B,W;for(L=0;L<E;L++){b[L]=M.length;var O=L+1;for(B=s[L],W=s[L+1],k=B;k<W;k++)q=l[k],M.push(q),P[q]=O,D&&(D[q]=u[k]);for(B=d[L],W=d[L+1],k=B;k<W;k++)if(q=m[k],P[q]===O){if(D){var X=y(D[q],p[k]);_(X,A)?P[q]=null:D[q]=X}}else M.push(q),R[q]=O,I&&(I[q]=p[k]);if(D&&I)for(k=b[L];k<M.length;)q=M[k],P[q]===O?(T[k]=D[q],k++):R[q]===O?(T[k]=I[q],k++):M.splice(k,1)}return b[E]=M.length,i.createSparseMatrix({values:T,index:M,ptr:b,size:[x,E],datatype:f===i._datatype&&w===a._datatype?v:void 0})}});var YJ="matAlgo10xSids",jJ=["typed","DenseMatrix"],ua=C(YJ,jJ,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,u){var l=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],d=f[1],h,w=o;typeof p=="string"&&(h=p,a=e.convert(a,h),w=e.find(o,[h,h]));for(var x=[],E=[],v=[],_=0;_<d;_++){for(var A=_+1,y=c[_],T=c[_+1],M=y;M<T;M++){var b=s[M];E[b]=l[M],v[b]=A}for(var D=0;D<m;D++)_===0&&(x[D]=[]),v[D]===A?x[D][_]=u?w(a,E[D]):w(E[D],a):x[D][_]=a}return new t({data:x,size:[m,d],datatype:h})}});function Os(r,e,t,n){if(!(this instanceof Os))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Os.prototype=new Error;Os.prototype.constructor=Error;Os.prototype.name="ArgumentsError";Os.prototype.isArgumentsError=!0;var cP="gcd",ZJ=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],kw="number | BigNumber | Fraction | Matrix | Array",JJ="".concat(kw,", ").concat(kw,", ...").concat(kw);function fP(r){return!r.some(e=>Array.isArray(e))}var $w=C(cP,ZJ,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:u,DenseMatrix:l,concat:s}=r,c=Np({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:l,concat:s}),f=Ei({typed:e}),p=Qc({typed:e,equalScalar:a}),m=ua({typed:e,DenseMatrix:l}),d=Ft({typed:e,matrix:t,concat:s});return e(cP,{"number, number":h,"BigNumber, BigNumber":w,"Fraction, Fraction":(x,E)=>x.gcd(E)},d({SS:p,DS:f,Ss:m}),{[JJ]:e.referToSelf(x=>(E,v,_)=>{for(var A=x(E,v),y=0;y<_.length;y++)A=x(A,_[y]);return A}),Array:e.referToSelf(x=>E=>{if(E.length===1&&Array.isArray(E[0])&&fP(E[0]))return x(...E[0]);if(fP(E))return x(...E);throw new Os("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(x=>E=>x(E.toArray()))});function h(x,E){if(!Je(x)||!Je(E))throw new Error("Parameters in function gcd must be integer numbers");for(var v;E!==0;)v=c(x,E),x=E,E=v;return x<0?-x:x}function w(x,E){if(!x.isInt()||!E.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new u(0);!E.isZero();){var _=c(x,E);x=E,E=_}return x.lt(v)?x.neg():x}});var XJ="matAlgo06xS0S0",QJ=["typed","equalScalar"],Cu=C(XJ,QJ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,l=i._size,s=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==f.length)throw new Mt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var m=l[0],d=l[1],h,w=t,x=0,E=o;typeof s=="string"&&s===p&&s!=="mixed"&&(h=s,w=e.find(t,[h,h]),x=e.convert(0,h),E=e.find(o,[h,h]));for(var v=u&&c?[]:void 0,_=[],A=[],y=v?[]:void 0,T=[],M=[],b=0;b<d;b++){A[b]=_.length;var D=b+1;if(a0(i,b,T,y,M,D,_,E),a0(a,b,T,y,M,D,_,E),y)for(var I=A[b];I<_.length;){var P=_[I];if(M[P]===D){var R=y[P];w(R,x)?_.splice(I,1):(v.push(R),I++)}else _.splice(I,1)}else for(var q=A[b];q<_.length;){var L=_[q];M[L]!==D?_.splice(q,1):q++}}return A[d]=_.length,i.createSparseMatrix({values:v,index:_,ptr:A,size:[m,d],datatype:s===i._datatype&&p===a._datatype?h:void 0})}});var pP="lcm",KJ=["typed","matrix","equalScalar","concat"],Ow=C(pP,KJ,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Tn({typed:e,equalScalar:n}),o=Cu({typed:e,equalScalar:n}),u=Cr({typed:e,equalScalar:n}),l=Ft({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(p=>(m,d,h)=>{for(var w=p(m,d),x=0;x<h.length;x++)w=p(w,h[x]);return w}),e(pP,{"number, number":g0,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},l({SS:o,DS:a,Ss:u}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var d=p.times(m);!m.isZero();){var h=m;m=p.mod(h),p=h}return d.div(p).abs()}});var mP="log10",eX=["typed","config","Complex"],Rw=C(mP,eX,r=>{var{typed:e,config:t,Complex:n}=r;return e(mP,{number:function(a){return a>=0||t.predictable?v0(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>rt(a,i))})});var dP="log2",tX=["typed","config","Complex"],Lw=C(dP,tX,r=>{var{typed:e,config:t,Complex:n}=r;return e(dP,{number:function(o){return o>=0||t.predictable?y0(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>rt(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var rX="multiplyScalar",nX=["typed"],Uw=C(rX,nX,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":c0,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var hP="multiply",iX=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Vw=C(hP,iX,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,u=Cr({typed:e,equalScalar:a}),l=En({typed:e});function s(A,y){switch(A.length){case 1:switch(y.length){case 1:if(A[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(A[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+y[0]+")");break;case 2:if(A[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function c(A,y,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return o(A,y)}function f(A,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(A,y)}function p(A,y){var T=A._data,M=A._size,b=A._datatype||A.getDataType(),D=y._data,I=y._size,P=y._datatype||y.getDataType(),R=M[0],q=I[1],L,k=n,B=i;b&&P&&b===P&&typeof b=="string"&&b!=="mixed"&&(L=b,k=e.find(n,[L,L]),B=e.find(i,[L,L]));for(var W=[],O=0;O<q;O++){for(var X=B(T[0],D[0][O]),ne=1;ne<R;ne++)X=k(X,B(T[ne],D[ne][O]));W[O]=X}return A.createDenseMatrix({data:W,size:[q],datatype:b===A._datatype&&P===y._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":E}),d=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":w,"DenseMatrix, SparseMatrix":x,"SparseMatrix, DenseMatrix":v,"SparseMatrix, SparseMatrix":_});function h(A,y){var T=A._data,M=A._size,b=A._datatype||A.getDataType(),D=y._data,I=y._datatype||y.getDataType(),P=M[0],R=M[1],q,L=n,k=i;b&&I&&b===I&&typeof b=="string"&&b!=="mixed"&&(q=b,L=e.find(n,[q,q]),k=e.find(i,[q,q]));for(var B=[],W=0;W<P;W++){for(var O=T[W],X=k(O[0],D[0]),ne=1;ne<R;ne++)X=L(X,k(O[ne],D[ne]));B[W]=X}return A.createDenseMatrix({data:B,size:[P],datatype:b===A._datatype&&I===y._datatype?q:void 0})}function w(A,y){var T=A._data,M=A._size,b=A._datatype||A.getDataType(),D=y._data,I=y._size,P=y._datatype||y.getDataType(),R=M[0],q=M[1],L=I[1],k,B=n,W=i;b&&P&&b===P&&typeof b=="string"&&b!=="mixed"&&b!=="mixed"&&(k=b,B=e.find(n,[k,k]),W=e.find(i,[k,k]));for(var O=[],X=0;X<R;X++){var ne=T[X];O[X]=[];for(var Z=0;Z<L;Z++){for(var U=W(ne[0],D[0][Z]),pe=1;pe<q;pe++)U=B(U,W(ne[pe],D[pe][Z]));O[X][Z]=U}}return A.createDenseMatrix({data:O,size:[R,L],datatype:b===A._datatype&&P===y._datatype?k:void 0})}function x(A,y){var T=A._data,M=A._size,b=A._datatype||A.getDataType(),D=y._values,I=y._index,P=y._ptr,R=y._size,q=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=M[0],k=R[1],B,W=n,O=i,X=a,ne=0;b&&q&&b===q&&typeof b=="string"&&b!=="mixed"&&(B=b,W=e.find(n,[B,B]),O=e.find(i,[B,B]),X=e.find(a,[B,B]),ne=e.convert(0,B));for(var Z=[],U=[],pe=[],me=y.createSparseMatrix({values:Z,index:U,ptr:pe,size:[L,k],datatype:b===A._datatype&&q===y._datatype?B:void 0}),oe=0;oe<k;oe++){pe[oe]=U.length;var ve=P[oe],_e=P[oe+1];if(_e>ve)for(var ye=0,be=0;be<L;be++){for(var we=be+1,Ee=void 0,qe=ve;qe<_e;qe++){var Qe=I[qe];ye!==we?(Ee=O(T[be][Qe],D[qe]),ye=we):Ee=W(Ee,O(T[be][Qe],D[qe]))}ye===we&&!X(Ee,ne)&&(U.push(be),Z.push(Ee))}}return pe[k]=U.length,me}function E(A,y){var T=A._values,M=A._index,b=A._ptr,D=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=y._data,P=y._datatype||y.getDataType(),R=A._size[0],q=y._size[0],L=[],k=[],B=[],W,O=n,X=i,ne=a,Z=0;D&&P&&D===P&&typeof D=="string"&&D!=="mixed"&&(W=D,O=e.find(n,[W,W]),X=e.find(i,[W,W]),ne=e.find(a,[W,W]),Z=e.convert(0,W));var U=[],pe=[];B[0]=0;for(var me=0;me<q;me++){var oe=I[me];if(!ne(oe,Z))for(var ve=b[me],_e=b[me+1],ye=ve;ye<_e;ye++){var be=M[ye];pe[be]?U[be]=O(U[be],X(oe,T[ye])):(pe[be]=!0,k.push(be),U[be]=X(oe,T[ye]))}}for(var we=k.length,Ee=0;Ee<we;Ee++){var qe=k[Ee];L[Ee]=U[qe]}return B[1]=k.length,A.createSparseMatrix({values:L,index:k,ptr:B,size:[R,1],datatype:D===A._datatype&&P===y._datatype?W:void 0})}function v(A,y){var T=A._values,M=A._index,b=A._ptr,D=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=y._data,P=y._datatype||y.getDataType(),R=A._size[0],q=y._size[0],L=y._size[1],k,B=n,W=i,O=a,X=0;D&&P&&D===P&&typeof D=="string"&&D!=="mixed"&&(k=D,B=e.find(n,[k,k]),W=e.find(i,[k,k]),O=e.find(a,[k,k]),X=e.convert(0,k));for(var ne=[],Z=[],U=[],pe=A.createSparseMatrix({values:ne,index:Z,ptr:U,size:[R,L],datatype:D===A._datatype&&P===y._datatype?k:void 0}),me=[],oe=[],ve=0;ve<L;ve++){U[ve]=Z.length;for(var _e=ve+1,ye=0;ye<q;ye++){var be=I[ye][ve];if(!O(be,X))for(var we=b[ye],Ee=b[ye+1],qe=we;qe<Ee;qe++){var Qe=M[qe];oe[Qe]!==_e?(oe[Qe]=_e,Z.push(Qe),me[Qe]=W(be,T[qe])):me[Qe]=B(me[Qe],W(be,T[qe]))}}for(var Y=U[ve],Q=Z.length,xe=Y;xe<Q;xe++){var J=Z[xe];ne[xe]=me[J]}}return U[L]=Z.length,pe}function _(A,y){var T=A._values,M=A._index,b=A._ptr,D=A._datatype||A._data===void 0?A._datatype:A.getDataType(),I=y._values,P=y._index,R=y._ptr,q=y._datatype||y._data===void 0?y._datatype:y.getDataType(),L=A._size[0],k=y._size[1],B=T&&I,W,O=n,X=i;D&&q&&D===q&&typeof D=="string"&&D!=="mixed"&&(W=D,O=e.find(n,[W,W]),X=e.find(i,[W,W]));for(var ne=B?[]:void 0,Z=[],U=[],pe=A.createSparseMatrix({values:ne,index:Z,ptr:U,size:[L,k],datatype:D===A._datatype&&q===y._datatype?W:void 0}),me=B?[]:void 0,oe=[],ve,_e,ye,be,we,Ee,qe,Qe,Y=0;Y<k;Y++){U[Y]=Z.length;var Q=Y+1;for(we=R[Y],Ee=R[Y+1],be=we;be<Ee;be++)if(Qe=P[be],B)for(_e=b[Qe],ye=b[Qe+1],ve=_e;ve<ye;ve++)qe=M[ve],oe[qe]!==Q?(oe[qe]=Q,Z.push(qe),me[qe]=X(I[be],T[ve])):me[qe]=O(me[qe],X(I[be],T[ve]));else for(_e=b[Qe],ye=b[Qe+1],ve=_e;ve<ye;ve++)qe=M[ve],oe[qe]!==Q&&(oe[qe]=Q,Z.push(qe));if(B)for(var xe=U[Y],J=Z.length,re=xe;re<J;re++){var se=Z[re];ne[re]=me[se]}}return U[k]=Z.length,pe}return e(hP,i,{"Array, Array":e.referTo("Matrix, Matrix",A=>(y,T)=>{s(mt(y),mt(T));var M=A(t(y),t(T));return et(M)?M.valueOf():M}),"Matrix, Matrix":function(y,T){var M=y.size(),b=T.size();return s(M,b),M.length===1?b.length===1?c(y,T,M[0]):f(y,T):b.length===1?m(y,T):d(y,T)},"Matrix, Array":e.referTo("Matrix,Matrix",A=>(y,T)=>A(y,t(T))),"Array, Matrix":e.referToSelf(A=>(y,T)=>A(t(y,T.storage()),T)),"SparseMatrix, any":function(y,T){return u(y,T,i,!1)},"DenseMatrix, any":function(y,T){return l(y,T,i,!1)},"any, SparseMatrix":function(y,T){return u(T,y,i,!0)},"any, DenseMatrix":function(y,T){return l(T,y,i,!0)},"Array, any":function(y,T){return l(t(y),T,i,!1).valueOf()},"any, Array":function(y,T){return l(t(T),y,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(A=>(y,T,M)=>{for(var b=A(y,T),D=0;D<M.length;D++)b=A(b,M[D]);return b})})});var gP="nthRoot",aX=["typed","matrix","equalScalar","BigNumber","concat"],qw=C(gP,aX,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=Ei({typed:e}),u=Tn({typed:e,equalScalar:n}),l=Cu({typed:e,equalScalar:n}),s=Cr({typed:e,equalScalar:n}),c=Ft({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(gP,{number:x0,"number, number":x0,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>d=>m(t(d),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>d=>m(d,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>d=>m(d,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(d,h)=>{if(h.density()===1)return l(d,h,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(d,h)=>{if(h.density()===1)return o(d,h,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(d,h)=>m(t(d),h)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(d,h)=>{if(h.density()===1)return s(h,d,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:u,Ss:s,sS:!1}));function p(m,d){var h=i.precision,w=i.clone({precision:h+2}),x=new i(0),E=new w(1),v=d.isNegative();if(v&&(d=d.neg()),d.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!d.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return v?new w(1/0):0;if(!m.isFinite())return v?x:m;var _=m.abs().pow(E.div(d));return _=m.isNeg()?_.neg():_,new i((v?E.div(_):_).toPrecision(h))}});var vP="sign",oX=["typed","BigNumber","Fraction","complex"],zw=C(vP,oX,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(vP,{number:Xh,Complex:function(o){return o.im===0?n(Xh(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>rt(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var sX="sqrt",uX=["config","typed","Complex"],Hw=C(sX,uX,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var yP="square",lX=["typed"],Gw=C(yP,lX,r=>{var{typed:e}=r;return e(yP,{number:b0,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var xP="subtract",cX=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Ww=C(xP,cX,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:u}=r,l=Ei({typed:e}),s=qr({typed:e}),c=Du({typed:e,equalScalar:n}),f=ua({typed:e,DenseMatrix:o}),p=vr({typed:e,DenseMatrix:o}),m=Ft({typed:e,matrix:t,concat:u});return e(xP,{"any, any":i},m({elop:i,SS:c,DS:l,SD:s,Ss:p,sS:f}))});var bP="xgcd",fX=["typed","config","matrix","BigNumber"],Yw=C(bP,fX,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(bP,{"number, number":function(u,l){var s=w0(u,l);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,u){var l,s,c,f=new i(0),p=new i(1),m=f,d=p,h=p,w=f;if(!o.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)s=o.div(u).floor(),c=o.mod(u),l=m,m=d.minus(s.times(m)),d=l,l=h,h=w.minus(s.times(h)),w=l,o=u,u=c;var x;return o.lt(f)?x=[o.neg(),d.neg(),w.neg()]:x=[o,o.isZero()?0:d,w],t.matrix==="Array"?x:n(x)}});var wP="invmod",pX=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],jw=C(wP,pX,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:u,add:l,isInteger:s}=r;return e(wP,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!s(f)||!s(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=u(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[d,h]=m;return a(d,n(1))?(h=u(h,p),o(h,n(0))&&(h=l(h,p)),h):NaN}});var mX="matAlgo09xS0Sf",dX=["typed","equalScalar"],ng=C(mX,dX,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,l=i._index,s=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,d=a._ptr,h=a._size,w=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var x=c[0],E=c[1],v,_=t,A=0,y=o;typeof f=="string"&&f===w&&f!=="mixed"&&(v=f,_=e.find(t,[v,v]),A=e.convert(0,v),y=e.find(o,[v,v]));var T=u&&p?[]:void 0,M=[],b=[],D=T?[]:void 0,I=[],P,R,q,L,k;for(R=0;R<E;R++){b[R]=M.length;var B=R+1;if(D)for(L=d[R],k=d[R+1],q=L;q<k;q++)P=m[q],I[P]=B,D[P]=p[q];for(L=s[R],k=s[R+1],q=L;q<k;q++)if(P=l[q],D){var W=I[P]===B?D[P]:A,O=y(u[q],W);_(O,A)||(M.push(P),T.push(O))}else M.push(P)}return b[E]=M.length,i.createSparseMatrix({values:T,index:M,ptr:b,size:[x,E],datatype:f===i._datatype&&w===a._datatype?v:void 0})}});var _P="dotMultiply",hX=["typed","matrix","equalScalar","multiplyScalar","concat"],Zw=C(_P,hX,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=Tn({typed:e,equalScalar:n}),u=ng({typed:e,equalScalar:n}),l=Cr({typed:e,equalScalar:n}),s=Ft({typed:e,matrix:t,concat:a});return e(_P,s({elop:i,SS:u,DS:o,Ss:l}))});function SP(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return Jw(r,e,function(n,i){return n&i})}function Kc(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function AP(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:Jw(r,e,function(i,a){return i|a})}function Jw(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),u=+(e.s<0);if(o){i=ig(Kc(r));for(var l=0;l<i.length;++l)i[l]^=1}else i=ig(r);if(u){a=ig(Kc(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=ig(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=u);var m=c.length,d=f.length,h=t(o,u)^1,w=new n(h^1),x=new n(1),E=new n(2),v=n.precision;for(n.config({precision:1e9});m>0;)t(c[--m],f[--d])===h&&(w=w.plus(x)),x=x.times(E);for(;d>0;)t(p,f[--d])===h&&(w=w.plus(x)),x=x.times(E);return n.config({precision:v}),h===0&&(w.s=-w.s),w}function ig(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var u=r.e,l=t.slice(0,o+1||1),s=l.length;if(u>0)if(++u>s)for(u-=s;u--;)l+="0";else u<s&&(l=l.slice(0,u)+"."+l.slice(u));for(var c=[0],f=0;f<l.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(l.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function EP(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?Kc(e):e.eq(n)?Kc(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):Jw(r,e,function(i,a){return i^a})}function TP(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function MP(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var DP="bitAnd",gX=["typed","matrix","equalScalar","concat"],Fp=C(DP,gX,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Tn({typed:e,equalScalar:n}),o=Cu({typed:e,equalScalar:n}),u=Cr({typed:e,equalScalar:n}),l=Ft({typed:e,matrix:t,concat:i});return e(DP,{"number, number":S0,"BigNumber, BigNumber":SP,"bigint, bigint":(s,c)=>s&c},l({SS:o,DS:a,Ss:u}))});var CP="bitNot",vX=["typed"],Xw=C(CP,vX,r=>{var{typed:e}=r;return e(CP,{number:A0,BigNumber:Kc,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var NP="bitOr",yX=["typed","matrix","equalScalar","DenseMatrix","concat"],Ip=C(NP,yX,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Ei({typed:e}),u=Qc({typed:e,equalScalar:n}),l=ua({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:t,concat:a});return e(NP,{"number, number":E0,"BigNumber, BigNumber":AP,"bigint, bigint":(c,f)=>c|f},s({SS:u,DS:o,Ss:l}))});var xX="matAlgo07xSSf",bX=["typed","DenseMatrix"],Rn=C(xX,bX,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,u){var l=a._size,s=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==c.length)throw new Mt(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var p=l[0],m=l[1],d,h=0,w=u;typeof s=="string"&&s===f&&s!=="mixed"&&(d=s,h=e.convert(0,d),w=e.find(u,[d,d]));var x,E,v=[];for(x=0;x<p;x++)v[x]=[];var _=[],A=[],y=[],T=[];for(E=0;E<m;E++){var M=E+1;for(n(a,E,y,_,M),n(o,E,T,A,M),x=0;x<p;x++){var b=y[x]===M?_[x]:h,D=T[x]===M?A[x]:h;v[x][E]=w(b,D)}}return new t({data:v,size:[p,m],datatype:s===a._datatype&&f===o._datatype?d:void 0})};function n(i,a,o,u,l){for(var s=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var d=c[p];o[d]=l,u[d]=s[p]}}});var FP="bitXor",wX=["typed","matrix","DenseMatrix","concat"],Qw=C(FP,wX,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=qr({typed:e}),o=Rn({typed:e,DenseMatrix:n}),u=vr({typed:e,DenseMatrix:n}),l=Ft({typed:e,matrix:t,concat:i});return e(FP,{"number, number":T0,"BigNumber, BigNumber":EP,"bigint, bigint":(s,c)=>s^c},l({SS:o,DS:a,Ss:u}))});var IP="arg",_X=["typed"],Kw=C(IP,_X,r=>{var{typed:e}=r;return e(IP,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var PP="conj",SX=["typed"],e_=C(PP,SX,r=>{var{typed:e}=r;return e(PP,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var BP="im",AX=["typed"],t_=C(BP,AX,r=>{var{typed:e}=r;return e(BP,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var kP="re",EX=["typed"],r_=C(kP,EX,r=>{var{typed:e}=r;return e(kP,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var $P="not",TX=["typed"],n_=C($P,TX,r=>{var{typed:e}=r;return e($P,{"null | undefined":()=>!0,number:I0,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var OP="or",MX=["typed","matrix","equalScalar","DenseMatrix","concat"],Pp=C(OP,MX,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Du({typed:e,equalScalar:n}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:t,concat:a});return e(OP,{"number, number":Qh,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"bigint, bigint":Qh,"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},s({SS:u,DS:o,Ss:l}))});var RP="xor",DX=["typed","matrix","DenseMatrix","concat"],i_=C(RP,DX,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=qr({typed:e}),o=Rn({typed:e,DenseMatrix:n}),u=vr({typed:e,DenseMatrix:n}),l=Ft({typed:e,matrix:t,concat:i});return e(RP,{"number, number":Kh,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"bigint, bigint":Kh,"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(c,f)=>s(c.value||0,f.value||0))},l({SS:o,DS:a,Ss:u}))});var LP="concat",CX=["typed","matrix","isInteger"],Bp=C(LP,CX,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(LP,{"...Array | Matrix | number | BigNumber":function(a){var o,u=a.length,l=-1,s,c=!1,f=[];for(o=0;o<u;o++){var p=a[o];if(et(p)&&(c=!0),xt(p)||ut(p)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(s=l,l=p.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>s)throw new pi(l,s+1)}else{var m=ht(p).valueOf(),d=mt(m);if(f[o]=m,s=l,l=d.length-1,o>0&&l!==s)throw new Mt(s+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var h=f.shift();f.length;)h=r0(h,f.shift(),l);return c?t(h):h},"...string":function(a){return a.join("")}})});var UP="column",NX=["typed","Index","matrix","range"],kp=C(UP,NX,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(UP,{"Matrix, number":a,"Array, number":function(u,l){return a(n(ht(u)),l).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Fr(u,o.size()[1]);var l=i(0,o.size()[0]),s=new t(l,u),c=o.subset(s);return et(c)?c:n([[c]])}});var VP="count",FX=["typed","size","prod"],a_=C(VP,FX,r=>{var{typed:e,size:t,prod:n}=r;return e(VP,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var qP="cross",IX=["typed","matrix","subtract","multiply"],o_=C(qP,IX,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(qP,{"Matrix, Matrix":function(u,l){return t(a(u.toArray(),l.toArray()))},"Matrix, Array":function(u,l){return t(a(u.toArray(),l))},"Array, Matrix":function(u,l){return t(a(u,l.toArray()))},"Array, Array":a});function a(o,u){var l=Math.max(mt(o).length,mt(u).length);o=Wc(o),u=Wc(u);var s=mt(o),c=mt(u);if(s.length!==1||c.length!==1||s[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],u[2]),i(o[2],u[1])),n(i(o[2],u[0]),i(o[0],u[2])),n(i(o[0],u[1]),i(o[1],u[0]))];return l>1?[f]:f}});var zP="diag",PX=["typed","matrix","DenseMatrix","SparseMatrix"],s_=C(zP,PX,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(zP,{Array:function(s){return a(s,0,mt(s),null)},"Array, number":function(s,c){return a(s,c,mt(s),null)},"Array, BigNumber":function(s,c){return a(s,c.toNumber(),mt(s),null)},"Array, string":function(s,c){return a(s,0,mt(s),c)},"Array, number, string":function(s,c,f){return a(s,c,mt(s),f)},"Array, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),mt(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,c){return a(s,c,s.size(),s.storage())},"Matrix, BigNumber":function(s,c){return a(s,c.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,c){return a(s,0,s.size(),c)},"Matrix, number, string":function(s,c,f){return a(s,c,s.size(),f)},"Matrix, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),s.size(),f)}});function a(l,s,c,f){if(!Je(s))throw new TypeError("Second parameter in function diag must be an integer");var p=s>0?s:0,m=s<0?-s:0;switch(c.length){case 1:return o(l,s,f,c[0],m,p);case 2:return u(l,s,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,s,c,f,p,m){var d=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var h=c==="sparse"?i.diagonal(d,l,s):n.diagonal(d,l,s);return c!==null?h:h.valueOf()}function u(l,s,c,f,p,m){if(et(l)){var d=l.diagonal(s);return c!==null?c!==d.storage()?t(d,c):d:d.valueOf()}for(var h=Math.min(f[0]-p,f[1]-m),w=[],x=0;x<h;x++)w[x]=l[x+p][x+m];return c!==null?t(w):w}});var BX="filter",kX=["typed"],u_=C(BX,kX,r=>{var{typed:e}=r;return e("filter",{"Array, function":HP,"Matrix, function":function(n,i){return n.create(HP(n.valueOf(),i),n.datatype())},"Array, RegExp":Yc,"Matrix, RegExp":function(n,i){return n.create(Yc(n.valueOf(),i),n.datatype())}})});function HP(r,e){return Yh(r,function(t,n,i){return oa(e,t,[n],i,"filter")})}var GP="flatten",$X=["typed"],l_=C(GP,$X,r=>{var{typed:e}=r;return e(GP,{Array:function(n){return kt(n)},Matrix:function(n){return n.create(kt(n.toArray()),n.datatype())}})});var WP="forEach",OX=["typed"],c_=C(WP,OX,r=>{var{typed:e}=r;return e(WP,{"Array, function":RX,"Matrix, function":function(n,i){n.forEach(i)}})});function RX(r,e){var t=function(i,a){if(Array.isArray(i))Eu(i,function(o,u){t(o,a.concat(u))});else return oa(e,i,a,r,"forEach")};t(r,[])}var YP="getMatrixDataType",LX=["typed"],f_=C(YP,LX,r=>{var{typed:e}=r;return e(YP,{Array:function(n){return Tu(n,nr)},Matrix:function(n){return n.getDataType()}})});var jP="identity",UX=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],p_=C(jP,UX,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(jP,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return l(c,f,p)},Array:function(c){return u(c)},"Array, string":function(c,f){return u(c,f)},Matrix:function(c){return u(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return u(c.valueOf(),f)}});function u(s,c){switch(s.length){case 0:return c?n(c):[];case 1:return l(s[0],s[0],c);case 2:return l(s[0],s[1],c);default:throw new Error("Vector containing two values expected")}}function l(s,c,f){var p=ut(s)||ut(c)?i:null;if(ut(s)&&(s=s.toNumber()),ut(c)&&(c=c.toNumber()),!Je(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!Je(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,d=p?new p(0):0,h=[s,c];if(f){if(f==="sparse")return o.diagonal(h,m,0,d);if(f==="dense")return a.diagonal(h,m,0,d);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var w=Do([],h,d),x=s<c?s:c,E=0;E<x;E++)w[E][E]=m;return w}});var ZP="kron",VX=["typed","matrix","multiplyScalar"],m_=C(ZP,VX,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(ZP,{"Matrix, Matrix":function(o,u){return t(i(o.toArray(),u.toArray()))},"Matrix, Array":function(o,u){return t(i(o.toArray(),u))},"Array, Matrix":function(o,u){return t(i(o,u.toArray()))},"Array, Array":i});function i(a,o){if(mt(a).length===1&&(a=[a]),mt(o).length===1&&(o=[o]),mt(a).length>2||mt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var u=[],l=[];return a.map(function(s){return o.map(function(c){return l=[],u.push(l),s.map(function(f){return c.map(function(p){return l.push(n(f,p))})})})})&&u}});var JP="map",qX=["typed"],$p=C(JP,qX,r=>{var{typed:e}=r;return e(JP,{"Array, function":XP,"Matrix, function":function(i,a){return i.map(a)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(n,i,a)=>t([n,i,...a.slice(0,a.length-1)],a[a.length-1])});function t(n,i){if(typeof i!="function")throw new Error("Last argument must be a callback function");var a=n[0].isMatrix,o=Ap(...n.map(v=>v.isMatrix?v.size():mt(v))),u=a?(v,_)=>v.get(_):jh,l=a?n.map(v=>v.isMatrix?v.create(Jo(v.toArray(),o),v.datatype()):n[0].create(Jo(v.valueOf(),o))):n.map(v=>v.isMatrix?Jo(v.toArray(),o):Jo(v,o)),s;if(e.isTypedFunction(i)){var c=o.map(()=>0),f=l.map(v=>u(v,c)),p=E(i,f,c,l);s=w(p)}else{var m=n.length,d=x(i,m);s=w(d)}var h=(v,_)=>s([v,...l.slice(1).map(A=>u(A,_))],_);if(a)return l[0].map(h);return XP(l[0],h);function w(v){switch(v){case 0:return _=>i(..._);case 1:return(_,A)=>i(..._,A);case 2:return(_,A)=>i(..._,A,...l)}}function x(v,_){return v.length>_+1?2:v.length===_+1?1:0}function E(v,_,A,y){return e.resolve(v,[..._,A,...y])!==null?2:e.resolve(v,[..._,A])!==null?1:(e.resolve(v,_)!==null,0)}}});function XP(r,e){return QP(r,[],r,e)}function QP(r,e,t,n){return Array.isArray(r)?r.map(function(i,a){return QP(i,e.concat(a),t,n)}):oa(n,r,e,t,"map")}var KP="diff",zX=["typed","matrix","subtract","number"],Op=C(KP,zX,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(KP,{"Array | Matrix":function(c){return et(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Je(f))throw new RangeError("Dimension must be a whole number");return et(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",s=>(c,f)=>s(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(c,f)=>s(c,i(f)))});function a(s,c){if(et(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return s.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var c=[],f=s.length,p=1;p<f;p++)c.push(u(s[p-1],s[p]));return c}function u(s,c){et(s)&&(s=s.toArray()),et(c)&&(c=c.toArray());var f=Array.isArray(s),p=Array.isArray(c);if(f&&p)return l(s,c);if(!f&&!p)return n(c,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(s,c){if(s.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=s.length,m=0;m<p;m++)f.push(u(s[m],c[m]));return f}});var HX="ones",GX=["typed","config","matrix","BigNumber"],d_=C(HX,GX,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(l,s){var c=o(l),f=c?new i(1):1;if(u(l),s){var p=n(s);return l.length>0?p.resize(l,f):p}else{var m=[];return l.length>0?Do(m,l,f):m}}function o(l){var s=!1;return l.forEach(function(c,f,p){ut(c)&&(s=!0,p[f]=c.toNumber())}),s}function u(l){l.forEach(function(s){if(typeof s!="number"||!Je(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function ef(){throw new Error('No "bignumber" implementation available')}function ag(){throw new Error('No "fraction" implementation available')}function og(){throw new Error('No "matrix" implementation available')}var eB="range",WX=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Rp=C(eB,WX,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:l,add:s,isPositive:c}=r;return e(eB,{string:p,"string, boolean":p,"number, number":function(w,x){return f(m(w,x,1,!1))},"number, number, number":function(w,x,E){return f(m(w,x,E,!1))},"number, number, boolean":function(w,x,E){return f(m(w,x,1,E))},"number, number, number, boolean":function(w,x,E,v){return f(m(w,x,E,v))},"BigNumber, BigNumber":function(w,x){var E=w.constructor;return f(m(w,x,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(w,x,E){return f(m(w,x,E,!1))},"BigNumber, BigNumber, boolean":function(w,x,E){var v=w.constructor;return f(m(w,x,new v(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(w,x,E,v){return f(m(w,x,E,v))},"Unit, Unit, Unit":function(w,x,E){return f(m(w,x,E,!1))},"Unit, Unit, Unit, boolean":function(w,x,E,v){return f(m(w,x,E,v))}});function f(h){return t.matrix==="Matrix"?n?n(h):og():h}function p(h,w){var x=d(h);if(!x)throw new SyntaxError('String "'+h+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&ef(),f(m(i(x.start),i(x.end),i(x.step)),w)):f(m(x.start,x.end,x.step,w))}function m(h,w,x,E){for(var v=[],_=c(x)?E?o:a:E?l:u,A=h;_(A,w);)v.push(A),A=s(A,x);return v}function d(h){var w=h.split(":"),x=w.map(function(v){return Number(v)}),E=x.some(function(v){return isNaN(v)});if(E)return null;switch(x.length){case 2:return{start:x[0],end:x[1],step:1};case 3:return{start:x[0],end:x[2],step:x[1]};default:return null}}});var tB="reshape",YX=["typed","isInteger","matrix"],h_=C(tB,YX,r=>{var{typed:e,isInteger:t}=r;return e(tB,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),_p(i,a)}})});var jX="resize",ZX=["config","matrix"],g_=C(jX,ZX,r=>{var{config:e,matrix:t}=r;return function(a,o,u){if(arguments.length!==2&&arguments.length!==3)throw new Os("resize",arguments.length,2,3);if(et(o)&&(o=o.valueOf()),ut(o[0])&&(o=o.map(function(c){return ut(c)?c.toNumber():c})),et(a))return a.resize(o,u,!0);if(typeof a=="string")return n(a,o,u);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return ht(a)}else{Array.isArray(a)||(a=[a]),a=ht(a);var s=Do(a,o,u);return l?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new Mt(a.length,1);var u=a[0];if(typeof u!="number"||!Je(u))throw new TypeError("Invalid size, must contain positive integers (size: "+Et(a)+")");if(i.length>u)return i.substring(0,u);if(i.length<u){for(var l=i,s=0,c=u-i.length;s<c;s++)l+=o;return l}else return i}});var rB="rotate",JX=["typed","multiply","rotationMatrix"],v_=C(rB,JX,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(rB,{"Array , number | BigNumber | Complex | Unit":function(o,u){i(o,2);var l=t(n(u),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,u){return i(o,2),t(n(u),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,l){i(o,3);var s=t(n(u,l),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,u,l){return i(o,3),t(n(u,l),o)}});function i(a,o){var u=Array.isArray(a)?mt(a):a.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(u[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var nB="rotationMatrix",XX=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],y_=C(nB,XX,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:u,matrix:l,DenseMatrix:s,SparseMatrix:c,cos:f,sin:p}=r;return e(nB,{"":function(){return t.matrix==="Matrix"?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return m(v,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,_){return m(v,_)},"number | BigNumber | Complex | Unit, Array":function(v,_){var A=l(_);return d(A),x(v,A,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,_){d(_);var A=_.storage()||(t.matrix==="Matrix"?"dense":void 0);return x(v,_,A)},"number | BigNumber | Complex | Unit, Array, string":function(v,_,A){var y=l(_);return d(y),x(v,y,A)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,_,A){return d(_),x(v,_,A)}});function m(E,v){var _=ut(E),A=_?new u(-1):-1,y=f(E),T=p(E),M=[[y,n(A,T)],[T,y]];return w(M,v)}function d(E){var v=E.size();if(v.length<1||v[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function h(E){return E.reduce((v,_)=>n(v,_))}function w(E,v){if(v){if(v==="sparse")return new c(E);if(v==="dense")return new s(E);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return E}function x(E,v,_){var A=o(v);if(A===0)throw new RangeError("Rotation around zero vector");var y=ut(E)?u:null,T=y?new y(1):1,M=y?new y(-1):-1,b=y?new y(v.get([0])/A):v.get([0])/A,D=y?new y(v.get([1])/A):v.get([1])/A,I=y?new y(v.get([2])/A):v.get([2])/A,P=f(E),R=i(T,a(P)),q=p(E),L=i(P,h([b,b,R])),k=i(h([b,D,R]),h([M,I,q])),B=i(h([b,I,R]),h([D,q])),W=i(h([b,D,R]),h([I,q])),O=i(P,h([D,D,R])),X=i(h([D,I,R]),h([M,b,q])),ne=i(h([b,I,R]),h([M,D,q])),Z=i(h([D,I,R]),h([b,q])),U=i(P,h([I,I,R])),pe=[[L,k,B],[W,O,X],[ne,Z,U]];return w(pe,_)}});var iB="row",QX=["typed","Index","matrix","range"],Lp=C(iB,QX,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(iB,{"Matrix, number":a,"Array, number":function(u,l){return a(n(ht(u)),l).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Fr(u,o.size()[0]);var l=i(0,o.size()[1]),s=new t(u,l),c=o.subset(s);return et(c)?c:n([[c]])}});var aB="size",KX=["typed","config","?matrix"],x_=C(aB,KX,r=>{var{typed:e,config:t,matrix:n}=r;return e(aB,{Matrix:function(a){return a.create(a.size(),"number")},Array:mt,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([],"dense","number"):og()}})});var oB="squeeze",eQ=["typed"],b_=C(oB,eQ,r=>{var{typed:e}=r;return e(oB,{Array:function(n){return Wc(ht(n))},Matrix:function(n){var i=Wc(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return ht(n)}})});var sB="subset",tQ=["typed","matrix","zeros","add"],Up=C(sB,tQ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(sB,{"Matrix, Index":function(u,l){return Tl(l)?t():(wp(u,l),u.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(u,l){var s=o(t(u),l);return l.isScalar()?s:s.valueOf()}}),"Object, Index":nQ,"string, Index":rQ,"Matrix, Index, any, any":function(u,l,s,c){return Tl(l)?u:(wp(u,l),u.clone().subset(l,a(s,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,l,s,c){var f=o(t(u),l,s,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,l,s){return o(t(u),l,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(u,l,s){return o(u,l,s,void 0)}}),"string, Index, string":uB,"string, Index, string, string":uB,"Object, Index, any":iQ});function a(o,u){if(typeof o=="string")throw new Error("can't boradcast a string");if(u._isScalar)return o;var l=u.size();if(l.every(s=>s>0))try{return i(o,n(l))}catch{return o}else return o}});function rQ(r,e){if(!xu(e))throw new TypeError("Index expected");if(Tl(e))return"";if(wp(Array.from(r),e),e.size().length!==1)throw new Mt(e.size().length,1);var t=r.length;Fr(e.min()[0],t),Fr(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function uB(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Tl(e))return r;if(wp(Array.from(r),e),e.size().length!==1)throw new Mt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new Mt(i.size()[0],t.length);var o=r.length;Fr(e.min()[0]),Fr(e.max()[0]);for(var u=[],l=0;l<o;l++)u[l]=r.charAt(l);if(i.forEach(function(f,p){u[f]=t.charAt(p[0])}),u.length>o)for(var s=o-1,c=u.length;s<c;s++)u[s]||(u[s]=n);return u.join("")}function nQ(r,e){if(!Tl(e)){if(e.size().length!==1)throw new Mt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Qr(r,t)}}function iQ(r,e,t){if(Tl(e))return r;if(e.size().length!==1)throw new Mt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=ht(r);return Yo(i,n,t),i}var lB="transpose",aQ=["typed","matrix"],w_=C(lB,aQ,r=>{var{typed:e,matrix:t}=r;return e(lB,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:ht});function n(o){var u=o.size(),l;switch(u.length){case 1:l=o.clone();break;case 2:{var s=u[0],c=u[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Et(u)+")");switch(o.storage()){case"dense":l=i(o,s,c);break;case"sparse":l=a(o,s,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Et(u)+")")}return l}function i(o,u,l){for(var s=o._data,c=[],f,p=0;p<l;p++){f=c[p]=[];for(var m=0;m<u;m++)f[m]=ht(s[m][p])}return o.createDenseMatrix({data:c,size:[l,u],datatype:o._datatype})}function a(o,u,l){for(var s=o._values,c=o._index,f=o._ptr,p=s?[]:void 0,m=[],d=[],h=[],w=0;w<u;w++)h[w]=0;var x,E,v;for(x=0,E=c.length;x<E;x++)h[c[x]]++;for(var _=0,A=0;A<u;A++)d.push(_),_+=h[A],h[A]=d[A];for(d.push(_),v=0;v<l;v++)for(var y=f[v],T=f[v+1],M=y;M<T;M++){var b=h[c[M]]++;m[b]=v,s&&(p[b]=ht(s[M]))}return o.createSparseMatrix({values:p,index:m,ptr:d,size:[l,u],datatype:o._datatype})}});var cB="ctranspose",oQ=["typed","transpose","conj"],__=C(cB,oQ,r=>{var{typed:e,transpose:t,conj:n}=r;return e(cB,{any:function(a){return n(t(a))}})});var fB="zeros",sQ=["typed","config","matrix","BigNumber"],S_=C(fB,sQ,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(fB,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(l,s){var c=o(l),f=c?new i(0):0;if(u(l),s){var p=n(s);return l.length>0?p.resize(l,f):p}else{var m=[];return l.length>0?Do(m,l,f):m}}function o(l){var s=!1;return l.forEach(function(c,f,p){ut(c)&&(s=!0,p[f]=c.toNumber())}),s}function u(l){l.forEach(function(s){if(typeof s!="number"||!Je(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var pB="fft",uQ=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],A_=C(pB,uQ,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:u,i:l,dotDivide:s,conj:c,pow:f,ceil:p,log2:m}=r;return e(pB,{Array:d,Matrix:function(v){return v.create(d(v.valueOf()),v.datatype())}});function d(E){var v=mt(E);return v.length===1?x(E,v[0]):h(E.map(_=>d(_,v.slice(1))),0)}function h(E,v){var _=mt(E);if(v!==0)return new Array(_[0]).fill(0).map((y,T)=>h(E[T],v-1));if(_.length===1)return x(E);function A(y){var T=mt(y);return new Array(T[1]).fill(0).map((M,b)=>new Array(T[0]).fill(0).map((D,I)=>y[I][b]))}return A(h(A(E),1))}function w(E){for(var v=E.length,_=o(a(i(-1,i(l,u)),v)),A=[],y=1-v;y<v;y++)A.push(f(_,a(f(y,2),2)));for(var T=f(2,p(m(v+v-1))),M=[...new Array(v).fill(0).map((k,B)=>i(E[B],A[v-1+B])),...new Array(T-v).fill(0)],b=[...new Array(v+v-1).fill(0).map((k,B)=>a(1,A[B])),...new Array(T-(v+v-1)).fill(0)],D=x(M),I=x(b),P=new Array(T).fill(0).map((k,B)=>i(D[B],I[B])),R=s(c(d(c(P))),T),q=[],L=v-1;L<v+v-1;L++)q.push(i(R[L],A[L]));return q}function x(E){var v=E.length;if(v===1)return[E[0]];if(v%2===0){for(var _=[...x(E.filter((M,b)=>b%2===0),v/2),...x(E.filter((M,b)=>b%2===1),v/2)],A=0;A<v/2;A++){var y=_[A],T=i(_[A+v/2],o(i(i(u,l),a(-A,v))));_[A]=n(y,T),_[A+v/2]=n(y,i(-1,T))}return _}else return w(E)}});var mB="ifft",lQ=["typed","fft","dotDivide","conj"],E_=C(mB,lQ,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(mB,{"Array | Matrix":function(o){var u=et(o)?o.size():mt(o);return n(i(t(i(o))),u.reduce((l,s)=>l*s,1))}})});function Cl(r){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(r)}function dB(r,e){if(Cl(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hB(r){var e=dB(r,"string");return Cl(e)=="symbol"?e:e+""}function br(r,e,t){return(e=hB(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function cQ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var fQ="solveODE",pQ=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],T_=C(fQ,pQ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:u,abs:l,isPositive:s,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:d,unaryMinus:h}=r;function w(M){return function(b,D,I,P){var R=!(D.length===2&&(D.every(y)||D.every(ui)));if(R)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var q=D[0],L=D[1],k=f(L,q),B=P.firstStep;if(B!==void 0&&!s(B))throw new Error('"firstStep" must be positive');var W=P.maxStep;if(W!==void 0&&!s(W))throw new Error('"maxStep" must be positive');var O=P.minStep;if(O&&c(O))throw new Error('"minStep" must be positive or zero');var X=[q,L,B,O,W].filter(Ve=>Ve!==void 0);if(!(X.every(y)||X.every(ui)))throw new Error('Inconsistent type of "t" dependant variables');for(var ne=1,Z=P.tol?P.tol:1e-4,U=P.minDelta?P.minDelta:.2,pe=P.maxDelta?P.maxDelta:5,me=P.maxIter?P.maxIter:1e4,oe=[q,L,...I,W,O].some(ut),[ve,_e,ye,be]=oe?[d(M.a),d(M.c),d(M.b),d(M.bp)]:[M.a,M.c,M.b,M.bp],we=B?k?B:h(B):a(n(L,q),ne),Ee=[q],qe=[I],Qe=n(ye,be),Y=0,Q=0,xe=_(k),J=A(k);xe(Ee[Y],L);){var re=[];we=J(Ee[Y],L,we),re.push(b(Ee[Y],qe[Y]));for(var se=1;se<_e.length;++se)re.push(b(t(Ee[Y],i(_e[se],we)),t(qe[Y],i(we,ve[se],re))));var Ae=o(l(u(i(Qe,re),Ve=>ui(Ve)?Ve.value:Ve)));Ae<Z&&Z/Ae>1/4&&(Ee.push(t(Ee[Y],we)),qe.push(t(qe[Y],i(we,ye,re))),Y++);var Te=.84*(Z/Ae)**(1/5);if(p(Te,U)?Te=U:f(Te,pe)&&(Te=pe),Te=oe?d(Te):Te,we=i(we,Te),W&&f(l(we),W)?we=k?W:h(W):O&&p(l(we),O)&&(we=k?O:h(O)),Q++,Q>me)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ee,y:qe}}}function x(M,b,D,I){var P=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],R=[null,1/2,3/4,1],q=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],k={a:P,c:R,b:q,bp:L};return w(k)(M,b,D,I)}function E(M,b,D,I){var P=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],R=[null,1/5,3/10,4/5,8/9,1,1],q=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],k={a:P,c:R,b:q,bp:L};return w(k)(M,b,D,I)}function v(M,b,D,I){var P=I.method?I.method:"RK45",R={RK23:x,RK45:E};if(P.toUpperCase()in R){var q=cQ({},I);return delete q.method,R[P.toUpperCase()](M,b,D,q)}else{var L=Object.keys(R).map(B=>'"'.concat(B,'"')),k="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(P,'". Available methods are ').concat(k))}}function _(M){return M?p:f}function A(M){var b=M?f:p;return function(D,I,P){var R=t(D,P);return b(R,I)?n(I,D):P}}function y(M){return ut(M)||xt(M)}function T(M,b,D,I){var P=v(M,b.toArray(),D.toArray(),I);return{t:m(P.t),y:m(P.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":T,"function, Array, Array":(M,b,D)=>v(M,b,D,{}),"function, Matrix, Matrix":(M,b,D)=>T(M,b,D,{}),"function, Array, number | BigNumber | Unit":(M,b,D)=>{var I=v(M,b,[D],{});return{t:I.t,y:I.y.map(P=>P[0])}},"function, Matrix, number | BigNumber | Unit":(M,b,D)=>{var I=v(M,b.toArray(),[D],{});return{t:m(I.t),y:m(I.y.map(P=>P[0]))}},"function, Array, number | BigNumber | Unit, Object":(M,b,D,I)=>{var P=v(M,b,[D],I);return{t:P.t,y:P.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit, Object":(M,b,D,I)=>{var P=v(M,b.toArray(),[D],I);return{t:m(P.t),y:m(P.y.map(R=>R[0]))}}})});var mQ="erf",dQ=["typed"],M_=C(mQ,dQ,r=>{var{typed:e}=r;return e("name",{number:function(o){var u=Math.abs(o);return u>=vQ?eo(o):u<=hQ?eo(o)*t(u):u<=4?eo(o)*(1-n(u)):eo(o)*(1-i(u))},"Array | Matrix":e.referToSelf(a=>o=>rt(o,a))});function t(a){var o=a*a,u=Rs[0][4]*o,l=o,s;for(s=0;s<3;s+=1)u=(u+Rs[0][s])*o,l=(l+tf[0][s])*o;return a*(u+Rs[0][3])/(l+tf[0][3])}function n(a){var o=Rs[1][8]*a,u=a,l;for(l=0;l<7;l+=1)o=(o+Rs[1][l])*a,u=(u+tf[1][l])*a;var s=(o+Rs[1][7])/(u+tf[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*s}function i(a){var o=1/(a*a),u=Rs[2][5]*o,l=o,s;for(s=0;s<4;s+=1)u=(u+Rs[2][s])*o,l=(l+tf[2][s])*o;var c=o*(u+Rs[2][4])/(l+tf[2][4]);c=(gQ-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),hQ=.46875,gQ=.5641895835477563,Rs=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],tf=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],vQ=Math.pow(2,53);var vB="zeta",yQ=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],D_=C(vB,yQ,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:u,smallerEq:l,isNegative:s,gamma:c,sin:f,subtract:p,add:m,Complex:d,BigNumber:h,pi:w}=r;return e(vB,{number:y=>x(y,T=>T,()=>20),BigNumber:y=>x(y,T=>new h(T),()=>Math.abs(Math.log10(t.relTol))),Complex:E});function x(y,T,M){return u(y,0)?T(-.5):u(y,1)?T(NaN):isFinite(y)?v(y,T,M,b=>b):s(y)?T(NaN):T(1)}function E(y){return y.re===0&&y.im===0?new d(-.5):y.re===1?new d(NaN,NaN):y.re===1/0&&y.im===0?new d(1):y.im===1/0||y.re===-1/0?new d(NaN,NaN):v(y,T=>T,T=>Math.round(1.3*15+.9*Math.abs(T.im)),T=>T.re)}function v(y,T,M,b){var D=M(y);if(b(y)>-(D-1)/2)return A(y,T(D),T);var I=n(i(2,y),i(T(w),p(y,1)));return I=n(I,f(n(a(T(w),2),y))),I=n(I,c(p(1,y))),n(I,v(p(1,y),T,M,b))}function _(y,T){for(var M=y,b=y;l(b,T);b=m(b,1)){var D=a(n(o(m(T,p(b,1))),i(4,b)),n(o(p(T,b)),o(n(2,b))));M=m(M,D)}return n(T,M)}function A(y,T,M){for(var b=a(1,n(_(M(0),T),p(1,i(2,p(1,y))))),D=M(0),I=M(1);l(I,T);I=m(I,1))D=m(D,a(n((-1)**(I-1),_(I,T)),i(I,y)));return n(b,D)}});var yB="mode",xQ=["typed","isNaN","isNumeric"],C_=C(yB,xQ,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(yB,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=kt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},l=[],s=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in u||(u[f]=0),u[f]++,u[f]===s?l.push(f):u[f]>s&&(s=u[f],l=[f])}return l}});function gn(r,e,t){var n;return String(r).includes("Unexpected type")?(n=arguments.length>2?" (type: "+nr(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).includes("complex numbers")?(n=arguments.length>2?" (type: "+nr(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var xB="prod",bQ=["typed","config","multiplyScalar","numeric"],N_=C(xB,bQ,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(xB,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(u,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return a(u)}});function a(o){var u;if(Ai(o,function(l){try{u=u===void 0?l:n(u,l)}catch(s){throw gn(s,"prod",l)}}),typeof u=="string"&&(u=i(u,_i(u,t))),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}});var bB="format",wQ=["typed"],F_=C(bB,wQ,r=>{var{typed:e}=r;return e(bB,{any:Et,"any, Object | function | number | BigNumber":Et})});var wB="bin",_Q=["typed","format"],I_=C(wB,_Q,r=>{var{typed:e,format:t}=r;return e(wB,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var _B="oct",SQ=["typed","format"],P_=C(_B,SQ,r=>{var{typed:e,format:t}=r;return e(_B,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var SB="hex",AQ=["typed","format"],B_=C(SB,AQ,r=>{var{typed:e,format:t}=r;return e(SB,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var sg=/\$([\w.]+)/g;var AB="print",EQ=["typed"],Vp=C(AB,EQ,r=>{var{typed:e}=r;return e(AB,{"string, Object | Array":EB,"string, Object | Array, number | Object":EB})});function EB(r,e,t){return r.replace(sg,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var u=a.shift();o=u?o[u]:o+"."}return o!==void 0?dn(o)?o:Et(o,t):n})}var TB="to",TQ=["typed","matrix","concat"],k_=C(TB,TQ,r=>{var{typed:e,matrix:t,concat:n}=r,i=Ft({typed:e,matrix:t,concat:n});return e(TB,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var MB="isPrime",MQ=["typed"],$_=C(MB,MQ,r=>{var{typed:e}=r;return e(MB,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(E,v,_){for(var A=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),E=E.mul(E).mod(_)):(v=v.sub(1),A=E.mul(A).mod(_));return A}var u=n.constructor.clone({precision:n.toFixed(0).length*2});n=new u(n);for(var l=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(E=>E<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var d=c[m],h=o(n.sub(n).add(d),s,n);if(!h.eq(1)){for(var w=0,x=h;!x.eq(n.sub(1));w+=1,x=x.mul(x).mod(n))if(w===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>rt(n,t))})});var DQ="numeric",CQ=["number","?bignumber","?fraction"],O_=C(DQ,CQ,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):ef,bigint:o=>BigInt(o),Fraction:n?o=>n(o):ag};return function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=nr(u);if(!(c in i))throw new TypeError("Cannot convert "+u+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+u+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?u:a[l](u)}});var DB="divideScalar",NQ=["typed","numeric"],R_=C(DB,NQ,r=>{var{typed:e,numeric:t}=r;return e(DB,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var CB="pow",FQ=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],L_=C(CB,FQ,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:u,fraction:l,Complex:s}=r;return e(CB,{"number, number":c,"Complex, Complex":function(d,h){return d.pow(h)},"BigNumber, BigNumber":function(d,h){return h.isInteger()||d>=0||t.predictable?d.pow(h):new s(d.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(m,d)=>m**d,"Fraction, Fraction":function(d,h){var w=d.pow(h);if(w!=null)return w;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(d.valueOf(),h.valueOf())},"Array, number":f,"Array, BigNumber":function(d,h){return f(d,h.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(d,h){return p(d,h.toNumber())},"Unit, number | BigNumber":function(d,h){return d.pow(h)}});function c(m,d){if(t.predictable&&!Je(d)&&m<0)try{var h=l(d),w=u(h);if((d===w||Math.abs((d-w)/d)<1e-14)&&h.d%2===1)return(h.n%2===0?1:-1)*Math.pow(-m,d)}catch{}return t.predictable&&(m<-1&&d===1/0||m>-1&&m<0&&d===-1/0)?NaN:Je(d)||m>=0||t.predictable?_0(m,d):m*m<1&&d===1/0||m*m>1&&d===-1/0?0:new s(m,0).pow(d,0)}function f(m,d){if(!Je(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var h=mt(m);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(d<0)try{return f(o(m),-d)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):E}for(var w=n(h[0]).valueOf(),x=m;d>=1;)(d&1)===1&&(w=i(x,w)),d>>=1,x=i(x,x);return w}function p(m,d){return a(f(m.valueOf(),d))}});var rf="Number of decimals in function round must be an integer",NB="round",IQ=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],U_=C(NB,IQ,r=>{var{typed:e,config:t,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:u}=r,l=Cr({typed:e,equalScalar:i}),s=vr({typed:e,DenseMatrix:u}),c=En({typed:e});function f(p){return Math.abs(qc(p).exponent)}return e(NB,{number:function(m){var d=Jc(m,f(t.relTol)),h=Gr(m,d,t.relTol,t.absTol)?d:m;return Jc(h)},"number, number":function(m,d){var h=f(t.relTol);if(d>=h)return Jc(m,d);var w=Jc(m,h),x=Gr(m,w,t.relTol,t.absTol)?w:m;return Jc(x,d)},"number, BigNumber":function(m,d){if(!d.isInteger())throw new TypeError(rf);return new o(m).toDecimalPlaces(d.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,d){if(d%1)throw new TypeError(rf);return m.round(d)},"Complex, BigNumber":function(m,d){if(!d.isInteger())throw new TypeError(rf);var h=d.toNumber();return m.round(h)},BigNumber:function(m){var d=new o(m).toDecimalPlaces(f(t.relTol)),h=ln(m,d,t.relTol,t.absTol)?d:m;return h.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,d){if(!d.isInteger())throw new TypeError(rf);var h=f(t.relTol);if(d>=h)return m.toDecimalPlaces(d.toNumber());var w=m.toDecimalPlaces(h),x=ln(m,w,t.relTol,t.absTol)?w:m;return x.toDecimalPlaces(d.toNumber())},Fraction:function(m){return m.round()},"Fraction, number":function(m,d){if(d%1)throw new TypeError(rf);return m.round(d)},"Fraction, BigNumber":function(m,d){if(!d.isInteger())throw new TypeError(rf);return m.round(d.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,d,h){var w=m.toNumeric(h);return h.multiply(p(w,d))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,d,h)=>p(m,d.toNumber(),h)),"Unit, Unit":e.referToSelf(p=>(m,d)=>p(m,0,d)),"Array | Matrix, number, Unit":e.referToSelf(p=>(m,d,h)=>rt(m,w=>p(w,d,h),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(m,d,h)=>p(m,d.toNumber(),h)),"Array | Matrix, Unit":e.referToSelf(p=>(m,d)=>p(m,0,d)),"Array | Matrix":e.referToSelf(p=>m=>rt(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>l(m,d,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,d)=>c(m,d,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,d)=>c(n(m),d,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,d)=>i(m,0)?a(d.size(),d.storage()):s(d,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,d)=>i(m,0)?a(d.size(),d.storage()):c(d,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,d)=>c(n(d),m,p,!0).valueOf())})});var FB="log",PQ=["config","typed","divideScalar","Complex"],V_=C(FB,PQ,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(FB,{number:function(o){return o>=0||t.predictable?F2(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,u)=>n(a(o),a(u)))})});var IB="log1p",BQ=["typed","config","divideScalar","log","Complex"],q_=C(IB,BQ,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(IB,{number:function(l){return l>=-1||t.predictable?Nh(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var s=l.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(u=>l=>rt(l,u)),"any, any":e.referToSelf(u=>(l,s)=>n(u(l),i(s)))});function o(u){var l=u.re+1;return new a(Math.log(Math.sqrt(l*l+u.im*u.im)),Math.atan2(u.im,l))}});var PB="nthRoots",kQ=["config","typed","divideScalar","Complex"],z_=C(PB,kQ,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(u,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new i(0,0)];var s=typeof u=="number",c;(s||u.re===0||u.im===0)&&(s?c=2*+(u<0):u.im===0?c=2*+(u.re<0):c=2*+(u.im<0)+1);for(var f=u.arg(),p=u.abs(),m=[],d=Math.pow(p,1/l),h=0;h<l;h++){var w=(c+4*h)/l;if(w===Math.round(w)){m.push(a[w%4](d));continue}m.push(new i({r:d,phi:(f+2*Math.PI*h)/l}))}return m}return e(PB,{Complex:function(l){return o(l,2)},"Complex, number":o})});var BB="dotPow",$Q=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],H_=C(BB,$Q,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,u=qr({typed:e}),l=Rn({typed:e,DenseMatrix:a}),s=Cr({typed:e,equalScalar:t}),c=vr({typed:e,DenseMatrix:a}),f=Ft({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var d=e(p);return e(BB,f({elop:d,SS:l,DS:u,Ss:s,sS:c}))});var kB="dotDivide",OQ=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],G_=C(kB,OQ,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,u=Tn({typed:e,equalScalar:n}),l=qr({typed:e}),s=Rn({typed:e,DenseMatrix:a}),c=Cr({typed:e,equalScalar:n}),f=vr({typed:e,DenseMatrix:a}),p=Ft({typed:e,matrix:t,concat:o});return e(kB,p({elop:i,SS:s,DS:l,SD:u,Ss:c,sS:f}))});function Xo(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Et(o)+")");var u=o[0],l=o[1];if(u!==l)throw new RangeError("Matrix must be square (size: "+Et(o)+")");var s=[];if(et(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<u;p++)s[p]=[f[p]];return new e({data:s,size:[u,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==u||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Sl(i)){if(a){s=[];for(var m=0;m<u;m++)s[m]=[f[m][0]];return new e({data:s,size:[u,1],datatype:i._datatype})}return i}if(Ao(i)){for(var d=0;d<u;d++)s[d]=[0];for(var h=i._values,w=i._index,x=i._ptr,E=x[1],v=x[0];v<E;v++){var _=w[v];s[_][0]=h[v]}return new e({data:s,size:[u,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(ur(i)){var A=mt(i);if(A.length===1){if(A[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<u;y++)s[y]=[i[y]];return new e({data:s,size:[u,1]})}if(A.length===2){if(A[0]!==u||A[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<u;T++)s[T]=[i[T][0]];return new e({data:s,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var $B="lsolve",RQ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],W_=C($B,RQ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,l=Xo({DenseMatrix:u});return e($B,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var d=t(p),h=s(d,m);return h.valueOf()}});function s(f,p){p=l(f,p,!0);for(var m=p._data,d=f._size[0],h=f._size[1],w=[],x=f._data,E=0;E<h;E++){var v=m[E][0]||0,_=void 0;if(o(v,0))_=0;else{var A=x[E][E];if(o(A,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(v,A);for(var y=E+1;y<d;y++)m[y]=[a(m[y][0]||0,i(_,x[y][E]))]}w[E]=[_]}return new u({data:w,size:[d,1]})}function c(f,p){p=l(f,p,!0);for(var m=p._data,d=f._size[0],h=f._size[1],w=f._values,x=f._index,E=f._ptr,v=[],_=0;_<h;_++){var A=m[_][0]||0;if(o(A,0))v[_]=[0];else{for(var y=0,T=[],M=[],b=E[_],D=E[_+1],I=b;I<D;I++){var P=x[I];P===_?y=w[I]:P>_&&(T.push(w[I]),M.push(P))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(A,y),q=0,L=M.length;q<L;q++){var k=M[q];m[k]=[a(m[k][0]||0,i(R,T[q]))]}v[_]=[R]}}return new u({data:v,size:[d,1]})}});var OB="usolve",LQ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Y_=C(OB,LQ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,l=Xo({DenseMatrix:u});return e(OB,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var d=t(p),h=s(d,m);return h.valueOf()}});function s(f,p){p=l(f,p,!0);for(var m=p._data,d=f._size[0],h=f._size[1],w=[],x=f._data,E=h-1;E>=0;E--){var v=m[E][0]||0,_=void 0;if(o(v,0))_=0;else{var A=x[E][E];if(o(A,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(v,A);for(var y=E-1;y>=0;y--)m[y]=[a(m[y][0]||0,i(_,x[y][E]))]}w[E]=[_]}return new u({data:w,size:[d,1]})}function c(f,p){p=l(f,p,!0);for(var m=p._data,d=f._size[0],h=f._size[1],w=f._values,x=f._index,E=f._ptr,v=[],_=h-1;_>=0;_--){var A=m[_][0]||0;if(o(A,0))v[_]=[0];else{for(var y=0,T=[],M=[],b=E[_],D=E[_+1],I=D-1;I>=b;I--){var P=x[I];P===_?y=w[I]:P<_&&(T.push(w[I]),M.push(P))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(A,y),q=0,L=M.length;q<L;q++){var k=M[q];m[k]=[a(m[k][0],i(R,T[q]))]}v[_]=[R]}}return new u({data:v,size:[d,1]})}});var RB="lsolveAll",UQ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],j_=C(RB,UQ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,l=Xo({DenseMatrix:u});return e(RB,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var d=t(p),h=s(d,m);return h.map(w=>w.valueOf())}});function s(f,p){for(var m=[l(f,p,!0)._data.map(M=>M[0])],d=f._data,h=f._size[0],w=f._size[1],x=0;x<w;x++)for(var E=m.length,v=0;v<E;v++){var _=m[v];if(o(d[x][x],0))if(o(_[x],0)){if(v===0){var y=[..._];y[x]=1;for(var T=x+1;T<w;T++)y[T]=a(y[T],d[T][x]);m.push(y)}}else{if(v===0)return[];m.splice(v,1),v-=1,E-=1}else{_[x]=n(_[x],d[x][x]);for(var A=x+1;A<w;A++)_[A]=a(_[A],i(_[x],d[A][x]))}}return m.map(M=>new u({data:M.map(b=>[b]),size:[h,1]}))}function c(f,p){for(var m=[l(f,p,!0)._data.map(ne=>ne[0])],d=f._size[0],h=f._size[1],w=f._values,x=f._index,E=f._ptr,v=0;v<h;v++)for(var _=m.length,A=0;A<_;A++){for(var y=m[A],T=[],M=[],b=E[v],D=E[v+1],I=0,P=b;P<D;P++){var R=x[P];R===v?I=w[P]:R>v&&(T.push(w[P]),M.push(R))}if(o(I,0))if(o(y[v],0)){if(A===0){var B=[...y];B[v]=1;for(var W=0,O=M.length;W<O;W++){var X=M[W];B[X]=a(B[X],T[W])}m.push(B)}}else{if(A===0)return[];m.splice(A,1),A-=1,_-=1}else{y[v]=n(y[v],I);for(var q=0,L=M.length;q<L;q++){var k=M[q];y[k]=a(y[k],i(y[v],T[q]))}}}return m.map(ne=>new u({data:ne.map(Z=>[Z]),size:[d,1]}))}});var LB="usolveAll",VQ=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Z_=C(LB,VQ,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=r,l=Xo({DenseMatrix:u});return e(LB,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var d=t(p),h=s(d,m);return h.map(w=>w.valueOf())}});function s(f,p){for(var m=[l(f,p,!0)._data.map(M=>M[0])],d=f._data,h=f._size[0],w=f._size[1],x=w-1;x>=0;x--)for(var E=m.length,v=0;v<E;v++){var _=m[v];if(o(d[x][x],0))if(o(_[x],0)){if(v===0){var y=[..._];y[x]=1;for(var T=x-1;T>=0;T--)y[T]=a(y[T],d[T][x]);m.push(y)}}else{if(v===0)return[];m.splice(v,1),v-=1,E-=1}else{_[x]=n(_[x],d[x][x]);for(var A=x-1;A>=0;A--)_[A]=a(_[A],i(_[x],d[A][x]))}}return m.map(M=>new u({data:M.map(b=>[b]),size:[h,1]}))}function c(f,p){for(var m=[l(f,p,!0)._data.map(ne=>ne[0])],d=f._size[0],h=f._size[1],w=f._values,x=f._index,E=f._ptr,v=h-1;v>=0;v--)for(var _=m.length,A=0;A<_;A++){for(var y=m[A],T=[],M=[],b=E[v],D=E[v+1],I=0,P=D-1;P>=b;P--){var R=x[P];R===v?I=w[P]:R<v&&(T.push(w[P]),M.push(R))}if(o(I,0))if(o(y[v],0)){if(A===0){var B=[...y];B[v]=1;for(var W=0,O=M.length;W<O;W++){var X=M[W];B[X]=a(B[X],T[W])}m.push(B)}}else{if(A===0)return[];m.splice(A,1),A-=1,_-=1}else{y[v]=n(y[v],I);for(var q=0,L=M.length;q<L;q++){var k=M[q];y[k]=a(y[k],i(y[v],T[q]))}}}return m.map(ne=>new u({data:ne.map(Z=>[Z]),size:[d,1]}))}});var qQ="matAlgo08xS0Sid",zQ=["typed","equalScalar"],nf=C(qQ,zQ,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var u=i._values,l=i._index,s=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,d=a._ptr,h=a._size,w=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==h.length)throw new Mt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!u||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var x=c[0],E=c[1],v,_=t,A=0,y=o;typeof f=="string"&&f===w&&f!=="mixed"&&(v=f,_=e.find(t,[v,v]),A=e.convert(0,v),y=e.find(o,[v,v]));for(var T=[],M=[],b=[],D=[],I=[],P,R,q,L,k=0;k<E;k++){b[k]=M.length;var B=k+1;for(R=s[k],q=s[k+1],P=R;P<q;P++)L=l[P],I[L]=B,D[L]=u[P],M.push(L);for(R=d[k],q=d[k+1],P=R;P<q;P++)L=m[P],I[L]===B&&(D[L]=y(D[L],p[P]));for(P=b[k];P<M.length;){L=M[P];var W=D[L];_(W,A)?M.splice(P,1):(T.push(W),P++)}}return b[E]=M.length,i.createSparseMatrix({values:T,index:M,ptr:b,size:[x,E],datatype:f===i._datatype&&w===a._datatype?v:void 0})}});var af=C("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var UB="leftShift",HQ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],J_=C(UB,HQ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=Ei({typed:e}),l=Tn({typed:e,equalScalar:n}),s=nf({typed:e,equalScalar:n}),c=ua({typed:e,DenseMatrix:a}),f=Cr({typed:e,equalScalar:n}),p=En({typed:e}),m=Ft({typed:e,matrix:t,concat:o}),d=af({typed:e,matrix:t});return e(UB,{"number, number":M0,"BigNumber, BigNumber":TP,"bigint, bigint":(h,w)=>h<<w,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():f(w,x,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():p(w,x,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):c(x,w,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):p(x,w,h,!0))},d,m({SS:s,DS:u,SD:l}))});var VB="rightArithShift",GQ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],X_=C(VB,GQ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=Ei({typed:e}),l=Tn({typed:e,equalScalar:n}),s=nf({typed:e,equalScalar:n}),c=ua({typed:e,DenseMatrix:a}),f=Cr({typed:e,equalScalar:n}),p=En({typed:e}),m=Ft({typed:e,matrix:t,concat:o}),d=af({typed:e,matrix:t});return e(VB,{"number, number":D0,"BigNumber, BigNumber":MP,"bigint, bigint":(h,w)=>h>>w,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():f(w,x,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():p(w,x,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):c(x,w,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):p(x,w,h,!0))},d,m({SS:s,DS:u,SD:l}))});var qB="rightLogShift",WQ=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Q_=C(qB,WQ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,u=Ei({typed:e}),l=Tn({typed:e,equalScalar:n}),s=nf({typed:e,equalScalar:n}),c=ua({typed:e,DenseMatrix:a}),f=Cr({typed:e,equalScalar:n}),p=En({typed:e}),m=Ft({typed:e,matrix:t,concat:o}),d=af({typed:e,matrix:t});return e(qB,{"number, number":C0,"SparseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():f(w,x,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(w,x)=>n(x,0)?w.clone():p(w,x,h,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):c(x,w,h,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(h=>(w,x)=>n(w,0)?i(x.size(),x.storage()):p(x,w,h,!0))},d,m({SS:s,DS:u,SD:l}))});var zB="and",YQ=["typed","matrix","equalScalar","zeros","not","concat"],qp=C(zB,YQ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=Tn({typed:e,equalScalar:n}),l=Cu({typed:e,equalScalar:n}),s=Cr({typed:e,equalScalar:n}),c=En({typed:e}),f=Ft({typed:e,matrix:t,concat:o});return e(zB,{"number, number":eg,"Complex, Complex":function(m,d){return(m.re!==0||m.im!==0)&&(d.re!==0||d.im!==0)},"BigNumber, BigNumber":function(m,d){return!m.isZero()&&!d.isZero()&&!m.isNaN()&&!d.isNaN()},"bigint, bigint":eg,"Unit, Unit":e.referToSelf(p=>(m,d)=>p(m.value||0,d.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,d)=>a(d)?i(m.size(),m.storage()):s(m,d,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,d)=>a(d)?i(m.size(),m.storage()):c(m,d,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,d)=>a(m)?i(m.size(),m.storage()):s(d,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,d)=>a(m)?i(m.size(),m.storage()):c(d,m,p,!0)),"Array, any":e.referToSelf(p=>(m,d)=>p(t(m),d).valueOf()),"any, Array":e.referToSelf(p=>(m,d)=>p(m,t(d)).valueOf())},f({SS:l,DS:u}))});var ug="compare",jQ=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],K_=C(ug,jQ,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:u,concat:l}=r,s=qr({typed:e}),c=Du({typed:e,equalScalar:n}),f=vr({typed:e,DenseMatrix:u}),p=Ft({typed:e,matrix:i,concat:l}),m=no({typed:e});return e(ug,ZQ({typed:e,config:t}),{"boolean, boolean":function(h,w){return h===w?0:h>w?1:-1},"BigNumber, BigNumber":function(h,w){return ln(h,w,t.relTol,t.absTol)?new a(0):new a(h.cmp(w))},"bigint, bigint":function(h,w){return h===w?0n:h>w?1n:-1n},"Fraction, Fraction":function(h,w){return new o(h.compare(w))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:s,Ss:f}))}),ZQ=C(ug,["typed","config"],r=>{var{typed:e,config:t}=r;return e(ug,{"number, number":function(i,a){return Gr(i,a,t.relTol,t.absTol)?0:i>a?1:-1}})});var Nl=$r(GB(),1);var WB="compareNatural",JQ=["typed","compare"],e1=C(WB,JQ,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(WB,{"any, any":i});function i(l,s){var c=nr(l),f=nr(s),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(l,s),p.toString()!=="0"?p>0?1:-1:(0,Nl.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,l,s),p!==0?p:(0,Nl.default)(c,f);if(c!==f)return(0,Nl.default)(c,f);if(c==="Complex")return XQ(l,s);if(c==="Unit")return l.equalBase(s)?i(l.value,s.value):o(i,l.formatUnits(),s.formatUnits());if(c==="boolean")return n(l,s);if(c==="string")return(0,Nl.default)(l,s);if(c==="Object")return u(i,l,s);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,s,c){return Ao(s)&&Ao(c)?o(l,s.toJSON().values,c.toJSON().values):Ao(s)?a(l,s.toArray(),c):Ao(c)?a(l,s,c.toArray()):Sl(s)?a(l,s.toJSON().data,c):Sl(c)?a(l,s,c.toJSON().data):Array.isArray(s)?Array.isArray(c)?o(l,s,c):a(l,s,[c]):a(l,[s],c)}function o(l,s,c){for(var f=0,p=Math.min(s.length,c.length);f<p;f++){var m=l(s[f],c[f]);if(m!==0)return m}return s.length>c.length?1:s.length<c.length?-1:0}function u(l,s,c){var f=Object.keys(s),p=Object.keys(c);f.sort(Nl.default),p.sort(Nl.default);var m=o(l,f,p);if(m!==0)return m;for(var d=0;d<f.length;d++){var h=l(s[f[d]],c[p[d]]);if(h!==0)return h}return 0}});function XQ(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var YB="compareText",QQ=["typed","matrix","concat"];Gh.signature="any, any";var t1=C(YB,QQ,r=>{var{typed:e,matrix:t,concat:n}=r,i=Ft({typed:e,matrix:t,concat:n});return e(YB,Gh,i({elop:Gh,Ds:!0}))});var lg="equal",KQ=["typed","matrix","equalScalar","DenseMatrix","concat"],r1=C(lg,KQ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Rn({typed:e,DenseMatrix:i}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:t,concat:a});return e(lg,eK({typed:e,equalScalar:n}),s({elop:n,SS:u,DS:o,Ss:l}))}),eK=C(lg,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(lg,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var jB="equalText",tK=["typed","compareText","isZero"],n1=C(jB,tK,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(jB,{"any, any":function(a,o){return n(t(a,o))}})});var cg="smaller",rK=["typed","config","matrix","DenseMatrix","concat"],i1=C(cg,rK,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Rn({typed:e,DenseMatrix:i}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:n,concat:a}),c=no({typed:e});return e(cg,nK({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!ln(p,m,t.relTol,t.absTol)},"bigint, bigint":(f,p)=>f<p,"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:u,DS:o,Ss:l}))}),nK=C(cg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(cg,{"number, number":function(i,a){return i<a&&!Gr(i,a,t.relTol,t.absTol)}})});var fg="smallerEq",iK=["typed","config","matrix","DenseMatrix","concat"],a1=C(fg,iK,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Rn({typed:e,DenseMatrix:i}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:n,concat:a}),c=no({typed:e});return e(fg,aK({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||ln(p,m,t.relTol,t.absTol)},"bigint, bigint":(f,p)=>f<=p,"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:u,DS:o,Ss:l}))}),aK=C(fg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(fg,{"number, number":function(i,a){return i<=a||Gr(i,a,t.relTol,t.absTol)}})});var pg="larger",oK=["typed","config","matrix","DenseMatrix","concat"],o1=C(pg,oK,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Rn({typed:e,DenseMatrix:i}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:n,concat:a}),c=no({typed:e});return e(pg,sK({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!ln(p,m,t.relTol,t.absTol)},"bigint, bigint":(f,p)=>f>p,"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:u,DS:o,Ss:l}))}),sK=C(pg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(pg,{"number, number":function(i,a){return i>a&&!Gr(i,a,t.relTol,t.absTol)}})});var mg="largerEq",uK=["typed","config","matrix","DenseMatrix","concat"],s1=C(mg,uK,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=qr({typed:e}),u=Rn({typed:e,DenseMatrix:i}),l=vr({typed:e,DenseMatrix:i}),s=Ft({typed:e,matrix:n,concat:a}),c=no({typed:e});return e(mg,lK({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||ln(p,m,t.relTol,t.absTol)},"bigint, bigint":function(p,m){return p>=m},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:u,DS:o,Ss:l}))}),lK=C(mg,["typed","config"],r=>{var{typed:e,config:t}=r;return e(mg,{"number, number":function(i,a){return i>=a||Gr(i,a,t.relTol,t.absTol)}})});var ZB="deepEqual",cK=["typed","equal"],u1=C(ZB,cK,r=>{var{typed:e,equal:t}=r;return e(ZB,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var u=0;u<o;u++)if(!n(i[u],a[u]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var dg="unequal",fK=["typed","config","equalScalar","matrix","DenseMatrix","concat"],l1=C(dg,fK,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,u=qr({typed:e}),l=Rn({typed:e,DenseMatrix:a}),s=vr({typed:e,DenseMatrix:a}),c=Ft({typed:e,matrix:i,concat:o});return e(dg,pK({typed:e,equalScalar:n}),c({elop:f,SS:l,DS:u,Ss:s}));function f(p,m){return!n(p,m)}}),pK=C(dg,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(dg,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var JB="partitionSelect",mK=["typed","isNumeric","isNaN","compare"],c1=C(JB,mK,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,c)=>-i(s,c);return e(JB,{"Array | Matrix, number":function(c,f){return u(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return u(c,f,a);if(p==="desc")return u(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(s,c,f){if(!Je(c)||c<0)throw new Error("k must be a non-negative integer");if(et(s)){var p=s.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return l(s.valueOf(),c,f)}if(Array.isArray(s))return l(s,c,f)}function l(s,c,f){if(c>=s.length)throw new Error("k out of bounds");for(var p=0;p<s.length;p++)if(t(s[p])&&n(s[p]))return s[p];for(var m=0,d=s.length-1;m<d;){for(var h=m,w=d,x=s[Math.floor(Math.random()*(d-m+1))+m];h<w;)if(f(s[h],x)>=0){var E=s[w];s[w]=s[h],s[h]=E,--w}else++h;f(s[h],x)>0&&--h,c<=h?d=h:m=h+1}return s[c]}});var XB="sort",dK=["typed","matrix","compare","compareNatural"],f1=C(XB,dK,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,f)=>-n(c,f);return e(XB,{Array:function(f){return l(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return l(f),f.sort(p)},"Matrix, function":function(f,p){return s(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return l(f),f.sort(u(p))},"Matrix, string":function(f,p){return s(f),t(f.toArray().sort(u(p)),f.storage())}});function u(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(mt(c).length!==1)throw new Error("One dimensional array expected")}function s(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var QB="max",hK=["typed","config","numeric","larger"],zp=C(QB,hK,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(QB,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,s){return Mu(l,s.valueOf(),a)},"...":function(l){if(ro(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function a(u,l){try{return i(u,l)?u:l}catch(s){throw gn(s,"max",l)}}function o(u){var l;if(Ai(u,function(s){try{isNaN(s)&&typeof s=="number"?l=NaN:(l===void 0||i(s,l))&&(l=s)}catch(c){throw gn(c,"max",s)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=n(l,_i(l,t))),l}});var KB="min",gK=["typed","config","numeric","smaller"],Hp=C(KB,gK,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(KB,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,s){return Mu(l,s.valueOf(),a)},"...":function(l){if(ro(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function a(u,l){try{return i(u,l)?u:l}catch(s){throw gn(s,"min",l)}}function o(u){var l;if(Ai(u,function(s){try{isNaN(s)&&typeof s=="number"?l=NaN:(l===void 0||i(s,l))&&(l=s)}catch(c){throw gn(c,"min",s)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=n(l,_i(l,t))),l}});var vK="ImmutableDenseMatrix",yK=["smaller","DenseMatrix"],p1=C(vK,yK,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!dn(a))throw new Error("Invalid datatype: "+a);if(et(i)||ur(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&ur(i.data)&&ur(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+nr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return et(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:ht(this._data),size:ht(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var xK="Index",bK=["ImmutableDenseMatrix","getMatrixDataType"],m1=C(xK,bK,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,u=arguments.length;o<u;o++){var l=arguments[o],s=ur(l),c=et(l),f=null;if(Uc(l))this._dimensions.push(l),this._isScalar=!1;else if(s||c){var p=void 0;t(l)==="boolean"?(s&&(p=i(ek(l).valueOf())),c&&(p=i(ek(l._data).valueOf())),f=l.valueOf().length):p=i(l.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,u=a.length;o<u;o++)if(typeof a[o]!="number"||!Je(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=ht(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var o=0,u=this._dimensions.length;o<u;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,u=this._dimensions.length;o<u;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function ek(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var wK="FibonacciHeap",_K=["smaller","larger"],d1=C(wK,_K,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var d=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=d,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=s(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),u(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function u(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),u(p)):f.mark=!0)}var l=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function s(c,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),d=0,h=c;if(h)for(d++,h=h.right;h!==c;)d++,h=h.right;for(var w;d>0;){for(var x=h.degree,E=h.right;w=m[x],!!w;){if(t(h.key,w.key)){var v=w;w=h,h=v}l(w,h),m[x]=null,x++}m[x]=h,h=E,d--}c=null;for(var _=0;_<p;_++)w=m[_],w&&(c?(w.left.right=w.right,w.right.left=w.left,w.left=c,w.right=c.right,c.right=w,w.right.left=w,e(w.key,c.key)&&(c=w)):c=w);return c}return i},{isClass:!0});var SK="Spa",AK=["addScalar","equalScalar","FibonacciHeap"],h1=C(SK,AK,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var u=this._heap.insert(a,o);this._values[a]=u}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var u=this._values[a];u?u.value=e(u.value,o):(u=this._heap.insert(a,o),this._values[a]=u)},i.prototype.forEach=function(a,o,u){var l=this._heap,s=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||u(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=l.insert(m.key,m.value),s[f.key]=f}},i.prototype.swap=function(a,o){var u=this._values[a],l=this._values[o];if(!u&&l)u=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=u,this._values[o]=void 0;else if(u&&!l)l=this._heap.insert(o,u.value),this._heap.remove(u),this._values[o]=l,this._values[a]=void 0;else if(u&&l){var s=u.value;u.value=l.value,l.value=s}},i},{isClass:!0});function tk(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var s=i[l];if(s&&(delete n[s],delete i[l],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(l){var s=i[l],c=++a;if(n[c]=l,i[l]=c,!s)return++e,e<=r?void 0:(l=n[t],o(l),l);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function Fl(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:tk(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var u=r.apply(r,i);return n.cache.values.set(o,u),n.cache.values.delete(n.cache.lru.hit(o)),u}}var rk=Fl(function(r){return new r(1).exp()},{hasher:hg}),nk=Fl(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:hg}),Gp=Fl(function(r){return r.acos(-1)},{hasher:hg}),ik=Fl(function(r){return Gp(r).times(2)},{hasher:hg});function hg(r){return r[0].precision}function ak(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function g1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ak(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var EK="Unit",TK=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],v1=C(EK,TK,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:u,abs:l,fix:s,round:c,equal:f,isNumeric:p,format:m,number:d,Complex:h,BigNumber:w,Fraction:x}=r,E=d;function v(Y,Q){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(!(Y==null||p(Y)||zi(Y)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,Q===void 0)this.units=[],this.dimensions=W.map(J=>0);else if(typeof Q=="string"){var xe=v.parse(Q);this.units=xe.units,this.dimensions=xe.dimensions}else if(ui(Q)&&Q.value===null)this.fixPrefix=Q.fixPrefix,this.skipAutomaticSimplification=Q.skipAutomaticSimplification,this.dimensions=Q.dimensions.slice(0),this.units=Q.units.map(J=>rn({},J));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(Y)}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0;var _,A,y;function T(){for(;y===" "||y==="	";)D()}function M(Y){return Y>="0"&&Y<="9"||Y==="."}function b(Y){return Y>="0"&&Y<="9"}function D(){A++,y=_.charAt(A)}function I(Y){A=Y,y=_.charAt(A)}function P(){var Y="",Q=A;if(y==="+"?D():y==="-"&&(Y+=y,D()),!M(y))return I(Q),null;if(y==="."){if(Y+=y,D(),!b(y))return I(Q),null}else{for(;b(y);)Y+=y,D();y==="."&&(Y+=y,D())}for(;b(y);)Y+=y,D();if(y==="E"||y==="e"){var xe="",J=A;if(xe+=y,D(),(y==="+"||y==="-")&&(xe+=y,D()),!b(y))return I(J),Y;for(Y=Y+xe;b(y);)Y+=y,D()}return Y}function R(){for(var Y="";b(y)||v.isValidAlpha(y);)Y+=y,D();var Q=Y.charAt(0);return v.isValidAlpha(Q)?Y:null}function q(Y){return y===Y?(D(),Y):null}v.parse=function(Y,Q){if(Q=Q||{},_=Y,A=-1,y="",typeof _!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var xe=new v;xe.units=[];var J=1,re=!1;D(),T();var se=P(),Ae=null;if(se){if(t.number==="BigNumber")Ae=new w(se);else if(t.number==="Fraction")try{Ae=new x(se)}catch{Ae=parseFloat(se)}else Ae=parseFloat(se);T(),q("*")?(J=1,re=!0):q("/")&&(J=-1,re=!0)}for(var Te=[],Ve=1;;){for(T();y==="(";)Te.push(J),Ve*=J,J=1,D(),T();var Se=void 0;if(y){var wt=y;if(Se=R(),Se===null)throw new SyntaxError('Unexpected "'+wt+'" in "'+_+'" at index '+A.toString())}else break;var Dt=L(Se);if(Dt===null)throw new SyntaxError('Unit "'+Se+'" not found.');var jt=J*Ve;if(T(),q("^")){T();var Tt=P();if(Tt===null)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');jt*=Tt}xe.units.push({unit:Dt.unit,prefix:Dt.prefix,power:jt});for(var j=0;j<W.length;j++)xe.dimensions[j]+=(Dt.unit.dimensions[j]||0)*jt;for(T();y===")";){if(Te.length===0)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+A.toString());Ve/=Te.pop(),D(),T()}if(re=!1,q("*")?(J=1,re=!0):q("/")?(J=-1,re=!0):J=1,Dt.unit.base){var le=Dt.unit.base.key;oe.auto[le]={unit:Dt.unit,prefix:Dt.prefix}}}if(T(),y)throw new SyntaxError('Could not parse: "'+Y+'"');if(re)throw new SyntaxError('Trailing characters: "'+Y+'"');if(Te.length!==0)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(xe.units.length===0&&!Q.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return xe.value=Ae!==void 0?xe._normalize(Ae):null,xe},v.prototype.clone=function(){var Y=new v;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=ht(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var Q=0;Q<this.units.length;Q++){Y.units[Q]={};for(var xe in this.units[Q])nt(this.units[Q],xe)&&(Y.units[Q][xe]=this.units[Q][xe])}return Y},v.prototype.valueType=function(){return nr(this.value)},v.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},v.prototype._normalize=function(Y){if(Y==null||this.units.length===0)return Y;for(var Q=Y,xe=v._getNumberConverter(nr(Y)),J=0;J<this.units.length;J++){var re=xe(this.units[J].unit.value),se=xe(this.units[J].prefix.value),Ae=xe(this.units[J].power);Q=a(Q,u(a(re,se),Ae))}return Q},v.prototype._denormalize=function(Y,Q){if(Y==null||this.units.length===0)return Y;for(var xe=Y,J=v._getNumberConverter(nr(Y)),re=0;re<this.units.length;re++){var se=J(this.units[re].unit.value),Ae=J(this.units[re].prefix.value),Te=J(this.units[re].power);xe=o(xe,u(a(se,Ae),Te))}return xe};var L=Fl(Y=>{if(nt(U,Y)){var Q=U[Y],xe=Q.prefixes[""];return{unit:Q,prefix:xe}}for(var J in U)if(nt(U,J)&&w2(Y,J)){var re=U[J],se=Y.length-J.length,Ae=Y.substring(0,se),Te=nt(re.prefixes,Ae)?re.prefixes[Ae]:void 0;if(Te!==void 0)return{unit:re,prefix:Te}}return null},{hasher:Y=>Y[0],limit:100});v.isValuelessUnit=function(Y){return L(Y)!==null},v.prototype.hasBase=function(Y){if(typeof Y=="string"&&(Y=O[Y]),!Y)return!1;for(var Q=0;Q<W.length;Q++)if(Math.abs((this.dimensions[Q]||0)-(Y.dimensions[Q]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(Y){for(var Q=0;Q<W.length;Q++)if(Math.abs((this.dimensions[Q]||0)-(Y.dimensions[Q]||0))>1e-12)return!1;return!0},v.prototype.equals=function(Y){return this.equalBase(Y)&&f(this.value,Y.value)},v.prototype.multiply=function(Y){for(var Q=this.clone(),xe=ui(Y)?Y:new v(Y),J=0;J<W.length;J++)Q.dimensions[J]=(this.dimensions[J]||0)+(xe.dimensions[J]||0);for(var re=0;re<xe.units.length;re++){var se=g1({},xe.units[re]);Q.units.push(se)}if(this.value!==null||xe.value!==null){var Ae=this.value===null?this._normalize(1):this.value,Te=xe.value===null?xe._normalize(1):xe.value;Q.value=a(Ae,Te)}else Q.value=null;return ui(Y)&&(Q.skipAutomaticSimplification=!1),k(Q)},v.prototype.divideInto=function(Y){return new v(Y).divide(this)},v.prototype.divide=function(Y){for(var Q=this.clone(),xe=ui(Y)?Y:new v(Y),J=0;J<W.length;J++)Q.dimensions[J]=(this.dimensions[J]||0)-(xe.dimensions[J]||0);for(var re=0;re<xe.units.length;re++){var se=g1(g1({},xe.units[re]),{},{power:-xe.units[re].power});Q.units.push(se)}if(this.value!==null||xe.value!==null){var Ae=this.value===null?this._normalize(1):this.value,Te=xe.value===null?xe._normalize(1):xe.value;Q.value=o(Ae,Te)}else Q.value=null;return ui(Y)&&(Q.skipAutomaticSimplification=!1),k(Q)},v.prototype.pow=function(Y){for(var Q=this.clone(),xe=0;xe<W.length;xe++)Q.dimensions[xe]=(this.dimensions[xe]||0)*Y;for(var J=0;J<Q.units.length;J++)Q.units[J].power*=Y;return Q.value!==null?Q.value=u(Q.value,Y):Q.value=null,Q.skipAutomaticSimplification=!1,k(Q)};function k(Y){return Y.equalBase(O.NONE)&&Y.value!==null&&!t.predictable?Y.value:Y}v.prototype.abs=function(){var Y=this.clone();if(Y.value!==null)if(Y._isDerived()||Y.units.length===0||Y.units[0].unit.offset===0)Y.value=l(Y.value);else{var Q=Y._numberConverter(),xe=Q(Y.units[0].unit.value),J=Q(Y.units[0].unit.offset),re=a(xe,J);Y.value=i(l(n(Y.value,re)),re)}for(var se in Y.units)(Y.units[se].unit.name==="VA"||Y.units[se].unit.name==="VAR")&&(Y.units[se].unit=U.W);return Y},v.prototype.to=function(Y){var Q=this.value===null?this._normalize(1):this.value,xe;if(typeof Y=="string")xe=v.parse(Y);else if(ui(Y))xe=Y.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(xe))throw new Error("Units do not match ('".concat(xe.toString(),"' != '").concat(this.toString(),"')"));if(xe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||xe.units.length===0||this.units[0].unit.offset===xe.units[0].unit.offset)xe.value=ht(Q);else{var J=v._getNumberConverter(nr(Q)),re=this.units[0].unit.value,se=this.units[0].unit.offset,Ae=a(re,se),Te=xe.units[0].unit.value,Ve=xe.units[0].unit.offset,Se=a(Te,Ve);xe.value=n(Q,J(i(Ae,Se)))}return xe.fixPrefix=!0,xe.skipAutomaticSimplification=!0,xe},v.prototype.toNumber=function(Y){return E(this.toNumeric(Y))},v.prototype.toNumeric=function(Y){var Q;return Y?Q=this.to(Y):Q=this.clone(),Q._isDerived()||Q.units.length===0?Q._denormalize(Q.value):Q._denormalize(Q.value,Q.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},v.fromJSON=function(Y){var Q,xe=new v(Y.value,(Q=Y.unit)!==null&&Q!==void 0?Q:void 0);return xe.fixPrefix=Y.fixPrefix||!1,xe},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var Y=this.clone(),Q=[],xe;for(var J in ve)if(nt(ve,J)&&Y.hasBase(O[J])){xe=J;break}if(xe==="NONE")Y.units=[];else{var re;if(xe&&nt(ve,xe)&&(re=ve[xe]),re)Y.units=[{unit:re.unit,prefix:re.prefix,power:1}];else{for(var se=!1,Ae=0;Ae<W.length;Ae++){var Te=W[Ae];Math.abs(Y.dimensions[Ae]||0)>1e-12&&(nt(ve,Te)?Q.push({unit:ve[Te].unit,prefix:ve[Te].prefix,power:Y.dimensions[Ae]||0}):se=!0)}Q.length<Y.units.length&&!se&&(Y.units=Q)}}return Y},v.prototype.toSI=function(){for(var Y=this.clone(),Q=[],xe=0;xe<W.length;xe++){var J=W[xe];if(Math.abs(Y.dimensions[xe]||0)>1e-12)if(nt(oe.si,J))Q.push({unit:oe.si[J].unit,prefix:oe.si[J].prefix,power:Y.dimensions[xe]||0});else throw new Error("Cannot express custom unit "+J+" in SI units")}return Y.units=Q,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,this.value!==null?(Y.value=null,this.to(Y)):Y},v.prototype.formatUnits=function(){for(var Y="",Q="",xe=0,J=0,re=0;re<this.units.length;re++)this.units[re].power>0?(xe++,Y+=" "+this.units[re].prefix.name+this.units[re].unit.name,Math.abs(this.units[re].power-1)>1e-15&&(Y+="^"+this.units[re].power)):this.units[re].power<0&&J++;if(J>0)for(var se=0;se<this.units.length;se++)this.units[se].power<0&&(xe>0?(Q+=" "+this.units[se].prefix.name+this.units[se].unit.name,Math.abs(this.units[se].power+1)>1e-15&&(Q+="^"+-this.units[se].power)):(Q+=" "+this.units[se].prefix.name+this.units[se].unit.name,Q+="^"+this.units[se].power));Y=Y.substr(1),Q=Q.substr(1),xe>1&&J>0&&(Y="("+Y+")"),J>1&&xe>0&&(Q="("+Q+")");var Ae=Y;return xe>0&&J>0&&(Ae+=" / "),Ae+=Q,Ae},v.prototype.format=function(Y){var Q=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),xe=!1;typeof Q.value<"u"&&Q.value!==null&&zi(Q.value)&&(xe=Math.abs(Q.value.re)<1e-14);for(var J in Q.units)nt(Q.units,J)&&Q.units[J].unit&&(Q.units[J].unit.name==="VA"&&xe?Q.units[J].unit=U.VAR:Q.units[J].unit.name==="VAR"&&!xe&&(Q.units[J].unit=U.VA));Q.units.length===1&&!Q.fixPrefix&&Math.abs(Q.units[0].power-Math.round(Q.units[0].power))<1e-14&&(Q.units[0].prefix=Q._bestPrefix());var re=Q._denormalize(Q.value),se=Q.value!==null?m(re,Y||{}):"",Ae=Q.formatUnits();return Q.value&&zi(Q.value)&&(se="("+se+")"),Ae.length>0&&se.length>0&&(se+=" "),se+=Ae,se},v.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=this.value!==null?l(this.value):0,Q=l(this.units[0].unit.value),xe=this.units[0].prefix;if(Y===0)return xe;var J=this.units[0].power,re=Math.log(Y/Math.pow(xe.value*Q,J))/Math.LN10-1.2;if(re>-2.200001&&re<1.800001)return xe;re=Math.abs(re);var se=this.units[0].unit.prefixes;for(var Ae in se)if(nt(se,Ae)){var Te=se[Ae];if(Te.scientific){var Ve=Math.abs(Math.log(Y/Math.pow(Te.value*Q,J))/Math.LN10-1.2);(Ve<re||Ve===re&&Te.name.length<xe.name.length)&&(xe=Te,re=Ve)}}return xe},v.prototype.splitUnit=function(Y){for(var Q=this.clone(),xe=[],J=0;J<Y.length&&(Q=Q.to(Y[J]),J!==Y.length-1);J++){var re=Q.toNumeric(),se=c(re),Ae=void 0,Te=f(se,re);Te?Ae=se:Ae=s(Q.toNumeric());var Ve=new v(Ae,Y[J].toString());xe.push(Ve),Q=i(Q,Ve)}for(var Se=0,wt=0;wt<xe.length;wt++)Se=n(Se,xe[wt].value);return f(Se,this.value)&&(Q.value=0),xe.push(Q),xe};var B={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};B.SHORTLONG=rn({},B.SHORT,B.LONG),B.BINARY_SHORT=rn({},B.BINARY_SHORT_SI,B.BINARY_SHORT_IEC),B.BINARY_LONG=rn({},B.BINARY_LONG_SI,B.BINARY_LONG_IEC);var W=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var X in O)nt(O,X)&&(O[X].key=X);var ne={},Z={name:"",base:ne,value:1,offset:0,dimensions:W.map(Y=>0)},U={meter:{name:"meter",base:O.LENGTH,prefixes:B.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:B.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:B.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:B.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:B.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:B.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:B.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:B.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:B.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:B.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:B.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:B.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:B.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:B.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:B.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:B.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:B.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:B.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:B.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:B.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:B.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:B.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:B.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:B.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:B.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:B.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:B.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:B.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:B.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:B.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:B.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:B.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:B.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:B.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:B.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:B.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:B.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:B.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:B.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:B.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:B.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:B.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:B.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:B.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:B.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:B.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:B.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:B.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:B.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:B.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:B.NONE,value:.238480942392,offset:0},g:{name:"g",base:O.MASS,prefixes:B.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:B.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:B.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:B.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:B.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:B.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:B.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:B.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:B.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:B.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:B.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:B.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:B.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:B.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:B.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:B.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:B.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:B.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:B.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:B.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:B.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:B.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:B.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:B.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:B.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:B.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:B.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:B.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:B.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:B.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:B.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:B.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:B.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:B.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:B.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:B.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:B.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:B.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:B.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:B.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:B.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:B.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:B.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:B.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:B.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:B.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:B.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:B.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:B.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:B.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:B.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:B.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:B.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:B.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:B.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:B.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:B.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:B.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:B.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:B.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:B.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:B.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:B.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:B.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:B.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:B.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:B.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:B.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:B.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:B.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:B.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:B.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:B.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:B.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:B.SHORT,value:h.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:B.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:B.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:B.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:B.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:B.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:B.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:B.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:B.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:B.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:B.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:B.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:B.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:B.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:B.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:B.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:B.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:B.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:B.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:B.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:B.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:B.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:B.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:B.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:B.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:B.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:B.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:B.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:B.BINARY_LONG,value:8,offset:0}},pe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function me(Y){if(Y.number==="BigNumber"){var Q=Gp(w);U.rad.value=new w(1),U.deg.value=Q.div(180),U.grad.value=Q.div(200),U.cycle.value=Q.times(2),U.arcsec.value=Q.div(648e3),U.arcmin.value=Q.div(10800)}else U.rad.value=1,U.deg.value=Math.PI/180,U.grad.value=Math.PI/200,U.cycle.value=Math.PI*2,U.arcsec.value=Math.PI/648e3,U.arcmin.value=Math.PI/10800;U.radian.value=U.rad.value,U.degree.value=U.deg.value,U.gradian.value=U.grad.value}me(t),e&&e("config",function(Y,Q){Y.number!==Q.number&&me(Y)});var oe={si:{NONE:{unit:Z,prefix:B.NONE[""]},LENGTH:{unit:U.m,prefix:B.SHORT[""]},MASS:{unit:U.g,prefix:B.SHORT.k},TIME:{unit:U.s,prefix:B.SHORT[""]},CURRENT:{unit:U.A,prefix:B.SHORT[""]},TEMPERATURE:{unit:U.K,prefix:B.SHORT[""]},LUMINOUS_INTENSITY:{unit:U.cd,prefix:B.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:U.mol,prefix:B.SHORT[""]},ANGLE:{unit:U.rad,prefix:B.SHORT[""]},BIT:{unit:U.bits,prefix:B.SHORT[""]},FORCE:{unit:U.N,prefix:B.SHORT[""]},ENERGY:{unit:U.J,prefix:B.SHORT[""]},POWER:{unit:U.W,prefix:B.SHORT[""]},PRESSURE:{unit:U.Pa,prefix:B.SHORT[""]},ELECTRIC_CHARGE:{unit:U.C,prefix:B.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:U.F,prefix:B.SHORT[""]},ELECTRIC_POTENTIAL:{unit:U.V,prefix:B.SHORT[""]},ELECTRIC_RESISTANCE:{unit:U.ohm,prefix:B.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:U.H,prefix:B.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:U.S,prefix:B.SHORT[""]},MAGNETIC_FLUX:{unit:U.Wb,prefix:B.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:U.T,prefix:B.SHORT[""]},FREQUENCY:{unit:U.Hz,prefix:B.SHORT[""]}}};oe.cgs=JSON.parse(JSON.stringify(oe.si)),oe.cgs.LENGTH={unit:U.m,prefix:B.SHORT.c},oe.cgs.MASS={unit:U.g,prefix:B.SHORT[""]},oe.cgs.FORCE={unit:U.dyn,prefix:B.SHORT[""]},oe.cgs.ENERGY={unit:U.erg,prefix:B.NONE[""]},oe.us=JSON.parse(JSON.stringify(oe.si)),oe.us.LENGTH={unit:U.ft,prefix:B.NONE[""]},oe.us.MASS={unit:U.lbm,prefix:B.NONE[""]},oe.us.TEMPERATURE={unit:U.degF,prefix:B.NONE[""]},oe.us.FORCE={unit:U.lbf,prefix:B.NONE[""]},oe.us.ENERGY={unit:U.BTU,prefix:B.BTU[""]},oe.us.POWER={unit:U.hp,prefix:B.NONE[""]},oe.us.PRESSURE={unit:U.psi,prefix:B.NONE[""]},oe.auto=JSON.parse(JSON.stringify(oe.si));var ve=oe.auto;v.setUnitSystem=function(Y){if(nt(oe,Y))ve=oe[Y];else throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(oe).join(", "))},v.getUnitSystem=function(){for(var Y in oe)if(nt(oe,Y)&&oe[Y]===ve)return Y},v.typeConverters={BigNumber:function(Q){return Q!=null&&Q.isFraction?new w(Q.n).div(Q.d).times(Q.s):new w(Q+"")},Fraction:function(Q){return new x(Q)},Complex:function(Q){return Q},number:function(Q){return Q!=null&&Q.isFraction?d(Q):Q}},v.prototype._numberConverter=function(){var Y=v.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(Y){if(!v.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return v.typeConverters[Y]};for(var _e in U)if(nt(U,_e)){var ye=U[_e];ye.dimensions=ye.base.dimensions}for(var be in pe)if(nt(pe,be)){var we=U[pe[be]],Ee={};for(var qe in we)nt(we,qe)&&(Ee[qe]=we[qe]);Ee.name=be,U[be]=Ee}v.isValidAlpha=function(Q){return/^[a-zA-Z]$/.test(Q)};function Qe(Y){for(var Q=0;Q<Y.length;Q++){if(y=Y.charAt(Q),Q===0&&!v.isValidAlpha(y))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(Q>0&&!(v.isValidAlpha(y)||b(y)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}return v.createUnit=function(Y,Q){if(typeof Y!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Q&&Q.override){for(var xe in Y)if(nt(Y,xe)&&v.deleteUnit(xe),Y[xe].aliases)for(var J=0;J<Y[xe].aliases.length;J++)v.deleteUnit(Y[xe].aliases[J])}var re;for(var se in Y)nt(Y,se)&&(re=v.createUnitSingle(se,Y[se]));return re},v.createUnitSingle=function(Y,Q){if((typeof Q>"u"||Q===null)&&(Q={}),typeof Y!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(nt(U,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');Qe(Y);var xe=null,J=[],re=0,se,Ae,Te;if(Q&&Q.type==="Unit")xe=Q.clone();else if(typeof Q=="string")Q!==""&&(se=Q);else if(typeof Q=="object")se=Q.definition,Ae=Q.prefixes,re=Q.offset,Te=Q.baseName,Q.aliases&&(J=Q.aliases.valueOf());else throw new TypeError('Cannot create unit "'+Y+'" from "'+Q.toString()+'": expecting "string" or "Unit" or "Object"');if(J){for(var Ve=0;Ve<J.length;Ve++)if(nt(U,J[Ve]))throw new Error('Cannot create alias "'+J[Ve]+'": a unit with that name already exists')}if(se&&typeof se=="string"&&!xe)try{xe=v.parse(se,{allowNoUnits:!0})}catch(N){throw N.message='Could not create unit "'+Y+'" from "'+se+'": '+N.message,N}else se&&se.type==="Unit"&&(xe=se.clone());J=J||[],re=re||0,Ae&&Ae.toUpperCase?Ae=B[Ae.toUpperCase()]||B.NONE:Ae=B.NONE;var Se={};if(xe){Se={name:Y,value:xe.value,dimensions:xe.dimensions.slice(0),prefixes:Ae,offset:re};var Tt=!1;for(var j in O)if(nt(O,j)){for(var le=!0,fe=0;fe<W.length;fe++)if(Math.abs((Se.dimensions[fe]||0)-(O[j].dimensions[fe]||0))>1e-12){le=!1;break}if(le){Tt=!0,Se.base=O[j];break}}if(!Tt){Te=Te||Y+"_STUFF";var Pe={dimensions:xe.dimensions.slice(0)};Pe.key=Te,O[Te]=Pe,ve[Te]={unit:Se,prefix:B.NONE[""]},Se.base=O[Te]}}else{if(Te=Te||Y+"_STUFF",W.indexOf(Te)>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');W.push(Te);for(var wt in O)nt(O,wt)&&(O[wt].dimensions[W.length-1]=0);for(var Dt={dimensions:[]},jt=0;jt<W.length;jt++)Dt.dimensions[jt]=0;Dt.dimensions[W.length-1]=1,Dt.key=Te,O[Te]=Dt,Se={name:Y,value:1,dimensions:O[Te].dimensions.slice(0),prefixes:Ae,offset:re,base:O[Te]},ve[Te]={unit:Se,prefix:B.NONE[""]}}v.UNITS[Y]=Se;for(var ke=0;ke<J.length;ke++){var Fe=J[ke],$e={};for(var ze in Se)nt(Se,ze)&&($e[ze]=Se[ze]);$e.name=Fe,v.UNITS[Fe]=$e}return delete L.cache,new v(null,Y)},v.deleteUnit=function(Y){delete v.UNITS[Y],delete L.cache},v.PREFIXES=B,v.BASE_DIMENSIONS=W,v.BASE_UNITS=O,v.UNIT_SYSTEMS=oe,v.UNITS=U,v},{isClass:!0});var ok="unit",MK=["typed","Unit"],y1=C(ok,MK,r=>{var{typed:e,Unit:t}=r;return e(ok,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var sk="sparse",DK=["typed","SparseMatrix"],x1=C(sk,DK,r=>{var{typed:e,SparseMatrix:t}=r;return e(sk,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var uk="createUnit",CK=["typed","Unit"],b1=C(uk,CK,r=>{var{typed:e,Unit:t}=r;return e(uk,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var u={};return u[i]=a,t.createUnit(u,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var lk="acos",NK=["typed","config","Complex"],w1=C(lk,NK,r=>{var{typed:e,config:t,Complex:n}=r;return e(lk,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var ck="acosh",FK=["typed","config","Complex"],_1=C(ck,FK,r=>{var{typed:e,config:t,Complex:n}=r;return e(ck,{number:function(a){return a>=1||t.predictable?k0(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var fk="acot",IK=["typed","BigNumber"],S1=C(fk,IK,r=>{var{typed:e,BigNumber:t}=r;return e(fk,{number:$0,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var pk="acoth",PK=["typed","config","Complex","BigNumber"],A1=C(pk,PK,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(pk,{number:function(o){return o>=1||o<=-1||t.predictable?O0(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var mk="acsc",BK=["typed","config","Complex","BigNumber"],E1=C(mk,BK,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(mk,{number:function(o){return o<=-1||o>=1||t.predictable?R0(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var dk="acsch",kK=["typed","BigNumber"],T1=C(dk,kK,r=>{var{typed:e,BigNumber:t}=r;return e(dk,{number:L0,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var hk="asec",$K=["typed","config","Complex","BigNumber"],M1=C(hk,$K,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(hk,{number:function(o){return o<=-1||o>=1||t.predictable?U0(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var gk="asech",OK=["typed","config","Complex","BigNumber"],D1=C(gk,OK,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(gk,{number:function(o){if(o<=1&&o>=-1||t.predictable){var u=1/o;if(u>0||t.predictable)return V0(o);var l=Math.sqrt(u*u-1);return new n(Math.log(l-u),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var vk="asin",RK=["typed","config","Complex"],C1=C(vk,RK,r=>{var{typed:e,config:t,Complex:n}=r;return e(vk,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var LK="asinh",UK=["typed"],N1=C(LK,UK,r=>{var{typed:e}=r;return e("asinh",{number:q0,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var VK="atan",qK=["typed"],F1=C(VK,qK,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var yk="atan2",zK=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],I1=C(yk,zK,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,u=Tn({typed:e,equalScalar:n}),l=qr({typed:e}),s=ng({typed:e,equalScalar:n}),c=Cr({typed:e,equalScalar:n}),f=vr({typed:e,DenseMatrix:a}),p=Ft({typed:e,matrix:t,concat:o});return e(yk,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,d)=>i.atan2(m,d)},p({scalar:"number | BigNumber",SS:s,DS:l,SD:u,Ss:c,sS:f}))});var xk="atanh",HK=["typed","config","Complex"],P1=C(xk,HK,r=>{var{typed:e,config:t,Complex:n}=r;return e(xk,{number:function(a){return a<=1&&a>=-1||t.predictable?z0(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var io=C("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var bk="cos",GK=["typed"],B1=C(bk,GK,r=>{var{typed:e}=r,t=io({typed:e});return e(bk,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var wk="cosh",WK=["typed"],k1=C(wk,WK,r=>{var{typed:e}=r;return e(wk,{number:Ih,"Complex | BigNumber":t=>t.cosh()})});var _k="cot",YK=["typed","BigNumber"],$1=C(_k,YK,r=>{var{typed:e,BigNumber:t}=r,n=io({typed:e});return e(_k,{number:H0,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var Sk="coth",jK=["typed","BigNumber"],O1=C(Sk,jK,r=>{var{typed:e,BigNumber:t}=r;return e(Sk,{number:G0,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var Ak="csc",ZK=["typed","BigNumber"],R1=C(Ak,ZK,r=>{var{typed:e,BigNumber:t}=r,n=io({typed:e});return e(Ak,{number:W0,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var Ek="csch",JK=["typed","BigNumber"],L1=C(Ek,JK,r=>{var{typed:e,BigNumber:t}=r;return e(Ek,{number:Y0,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var Tk="sec",XK=["typed","BigNumber"],U1=C(Tk,XK,r=>{var{typed:e,BigNumber:t}=r,n=io({typed:e});return e(Tk,{number:j0,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var Mk="sech",QK=["typed","BigNumber"],V1=C(Mk,QK,r=>{var{typed:e,BigNumber:t}=r;return e(Mk,{number:Z0,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var Dk="sin",KK=["typed"],q1=C(Dk,KK,r=>{var{typed:e}=r,t=io({typed:e});return e(Dk,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var Ck="sinh",eee=["typed"],z1=C(Ck,eee,r=>{var{typed:e}=r;return e(Ck,{number:J0,"Complex | BigNumber":t=>t.sinh()})});var Nk="tan",tee=["typed"],H1=C(Nk,tee,r=>{var{typed:e}=r,t=io({typed:e});return e(Nk,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var ree="tanh",nee=["typed"],G1=C(ree,nee,r=>{var{typed:e}=r;return e("tanh",{number:Ph,"Complex | BigNumber":t=>t.tanh()})});var Fk="setCartesian",iee=["typed","size","subset","compareNatural","Index","DenseMatrix"],W1=C(Fk,iee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(Fk,{"Array | Matrix, Array | Matrix":function(l,s){var c=[];if(n(t(l),new a(0))!==0&&n(t(s),new a(0))!==0){var f=kt(Array.isArray(l)?l:l.toArray()).sort(i),p=kt(Array.isArray(s)?s:s.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var d=0;d<p.length;d++)c.push([f[m],p[d]])}return Array.isArray(l)&&Array.isArray(s)?c:new o(c)}})});var Ik="setDifference",aee=["typed","size","subset","compareNatural","Index","DenseMatrix"],Y1=C(Ik,aee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(Ik,{"Array | Matrix, Array | Matrix":function(l,s){var c;if(n(t(l),new a(0))===0)c=[];else{if(n(t(s),new a(0))===0)return kt(l.toArray());var f=ks(kt(Array.isArray(l)?l:l.toArray()).sort(i)),p=ks(kt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m,d=0;d<f.length;d++){m=!1;for(var h=0;h<p.length;h++)if(i(f[d].value,p[h].value)===0&&f[d].identifier===p[h].identifier){m=!0;break}m||c.push(f[d])}}return Array.isArray(l)&&Array.isArray(s)?jc(c):new o(jc(c))}})});var Pk="setDistinct",oee=["typed","size","subset","compareNatural","Index","DenseMatrix"],j1=C(Pk,oee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(Pk,{"Array | Matrix":function(l){var s;if(n(t(l),new a(0))===0)s=[];else{var c=kt(Array.isArray(l)?l:l.toArray()).sort(i);s=[],s.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&s.push(c[f])}return Array.isArray(l)?s:new o(s)}})});var Bk="setIntersect",see=["typed","size","subset","compareNatural","Index","DenseMatrix"],Z1=C(Bk,see,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(Bk,{"Array | Matrix, Array | Matrix":function(l,s){var c;if(n(t(l),new a(0))===0||n(t(s),new a(0))===0)c=[];else{var f=ks(kt(Array.isArray(l)?l:l.toArray()).sort(i)),p=ks(kt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var d=0;d<p.length;d++)if(i(f[m].value,p[d].value)===0&&f[m].identifier===p[d].identifier){c.push(f[m]);break}}return Array.isArray(l)&&Array.isArray(s)?jc(c):new o(jc(c))}})});var kk="setIsSubset",uee=["typed","size","subset","compareNatural","Index"],J1=C(kk,uee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(kk,{"Array | Matrix, Array | Matrix":function(u,l){if(n(t(u),new a(0))===0)return!0;if(n(t(l),new a(0))===0)return!1;for(var s=ks(kt(Array.isArray(u)?u:u.toArray()).sort(i)),c=ks(kt(Array.isArray(l)?l:l.toArray()).sort(i)),f,p=0;p<s.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(s[p].value,c[m].value)===0&&s[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var $k="setMultiplicity",lee=["typed","size","subset","compareNatural","Index"],X1=C($k,lee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e($k,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,l){if(n(t(l),new a(0))===0)return 0;for(var s=kt(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<s.length;f++)i(s[f],u)===0&&c++;return c}})});var Ok="setPowerset",cee=["typed","size","subset","compareNatural","Index"],Q1=C(Ok,cee,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(Ok,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var c=kt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return u(f)}});function o(l,s){for(var c=[],f=0;f<s.length;f++)s[f]==="1"&&c.push(l[f]);return c}function u(l){for(var s=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(s=l[f],l[f]=l[f+1],l[f+1]=s);return l}});var Rk="setSize",fee=["typed","compareNatural"],K1=C(Rk,fee,r=>{var{typed:e,compareNatural:t}=r;return e(Rk,{"Array | Matrix":function(i){return Array.isArray(i)?kt(i).length:kt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?kt(i).length:kt(i.toArray()).length;for(var o=kt(Array.isArray(i)?i:i.toArray()).sort(t),u=1,l=1;l<o.length;l++)t(o[l],o[l-1])!==0&&u++;return u}})});var Lk="setSymDifference",pee=["typed","size","concat","subset","setDifference","Index"],eS=C(Lk,pee,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(Lk,{"Array | Matrix, Array | Matrix":function(l,s){if(i(t(l),new o(0))===0)return kt(s);if(i(t(s),new o(0))===0)return kt(l);var c=kt(l),f=kt(s);return n(a(c,f),a(f,c))}})});var Uk="setUnion",mee=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],tS=C(Uk,mee,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:u}=r;return e(Uk,{"Array | Matrix, Array | Matrix":function(s,c){if(i(t(s),new u(0))===0)return kt(c);if(i(t(c),new u(0))===0)return kt(s);var f=kt(s),p=kt(c);return n(o(f,p),a(f,p))}})});var Vk="add",dee=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],rS=C(Vk,dee,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:u}=r,l=Ei({typed:e}),s=Qc({typed:e,equalScalar:i}),c=ua({typed:e,DenseMatrix:a}),f=Ft({typed:e,matrix:t,concat:u});return e(Vk,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,d,h)=>{for(var w=p(m,d),x=0;x<h.length;x++)w=p(w,h[x]);return w})},f({elop:n,DS:l,SS:s,Ss:c}))});var qk="hypot",hee=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],nS=C(qk,hee,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:u,isPositive:l}=r;return e(qk,{"... number | BigNumber":s,Array:s,Matrix:c=>s(kt(c.toArray()))});function s(c){for(var f=0,p=0,m=0;m<c.length;m++){if(zi(c[m]))throw new TypeError("Unexpected type of argument to hypot");var d=t(c[m]);u(p,d)?(f=a(f,a(i(p,d),i(p,d))),f=n(f,1),p=d):f=n(f,l(d)?a(i(d,p),i(d,p)):d)}return a(p,o(f))}});var zk="norm",gee=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],iS=C(zk,gee,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:u,equalScalar:l,larger:s,smaller:c,matrix:f,ctranspose:p,eigs:m}=r;return e(zk,{number:Math.abs,Complex:function(M){return M.abs()},BigNumber:function(M){return M.abs()},boolean:function(M){return Math.abs(M)},Array:function(M){return y(f(M),2)},Matrix:function(M){return y(M,2)},"Array, number | BigNumber | string":function(M,b){return y(f(M),b)},"Matrix, number | BigNumber | string":function(M,b){return y(M,b)}});function d(T){var M=0;return T.forEach(function(b){var D=t(b);s(D,M)&&(M=D)},!0),M}function h(T){var M;return T.forEach(function(b){var D=t(b);(!M||c(D,M))&&(M=D)},!0),M||0}function w(T,M){if(M===Number.POSITIVE_INFINITY||M==="inf")return d(T);if(M===Number.NEGATIVE_INFINITY||M==="-inf")return h(T);if(M==="fro")return y(T,2);if(typeof M=="number"&&!isNaN(M)){if(!l(M,0)){var b=0;return T.forEach(function(D){b=n(i(t(D),M),b)},!0),i(b,1/M)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function x(T){var M=0;return T.forEach(function(b,D){M=n(M,u(b,a(b)))}),t(o(M))}function E(T){var M=[],b=0;return T.forEach(function(D,I){var P=I[1],R=n(M[P]||0,t(D));s(R,b)&&(b=R),M[P]=R},!0),b}function v(T){var M=T.size();if(M[0]!==M[1])throw new RangeError("Invalid matrix dimensions");var b=p(T),D=u(b,T),I=m(D).values.toArray(),P=I[I.length-1];return t(o(P))}function _(T){var M=[],b=0;return T.forEach(function(D,I){var P=I[0],R=n(M[P]||0,t(D));s(R,b)&&(b=R),M[P]=R},!0),b}function A(T,M){if(M===1)return E(T);if(M===Number.POSITIVE_INFINITY||M==="inf")return _(T);if(M==="fro")return x(T);if(M===2)return v(T);throw new Error("Unsupported parameter value "+M)}function y(T,M){var b=T.size();if(b.length===1)return w(T,M);if(b.length===2){if(b[0]&&b[1])return A(T,M);throw new RangeError("Invalid matrix dimensions")}}});var Hk="dot",vee=["typed","addScalar","multiplyScalar","conj","size"],aS=C(Hk,vee,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(Hk,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":l});function o(c,f){var p=s(c),m=s(f),d,h;if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(d!==h)throw new RangeError("Vectors must have equal length ("+d+" != "+h+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function u(c,f){var p=o(c,f),m=et(c)?c._data:c,d=et(c)?c._datatype||c.getDataType():void 0,h=et(f)?f._data:f,w=et(f)?f._datatype||f.getDataType():void 0,x=s(c).length===2,E=s(f).length===2,v=t,_=n;if(d&&w&&d===w&&typeof d=="string"&&d!=="mixed"){var A=d;v=e.find(t,[A,A]),_=e.find(n,[A,A])}if(!x&&!E){for(var y=_(i(m[0]),h[0]),T=1;T<p;T++)y=v(y,_(i(m[T]),h[T]));return y}if(!x&&E){for(var M=_(i(m[0]),h[0][0]),b=1;b<p;b++)M=v(M,_(i(m[b]),h[b][0]));return M}if(x&&!E){for(var D=_(i(m[0][0]),h[0]),I=1;I<p;I++)D=v(D,_(i(m[I][0]),h[I]));return D}if(x&&E){for(var P=_(i(m[0][0]),h[0][0]),R=1;R<p;R++)P=v(P,_(i(m[R][0]),h[R][0]));return P}}function l(c,f){o(c,f);for(var p=c._index,m=c._values,d=f._index,h=f._values,w=0,x=t,E=n,v=0,_=0;v<p.length&&_<d.length;){var A=p[v],y=d[_];if(A<y){v++;continue}if(A>y){_++;continue}A===y&&(w=x(w,E(m[v],h[_])),v++,_++)}return w}function s(c){return et(c)?c.size():a(c)}});var yee="trace",xee=["typed","matrix","add"],oS=C(yee,xee,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(u){return i(t(u))},SparseMatrix:a,DenseMatrix:i,any:ht});function i(o){var u=o._size,l=o._data;switch(u.length){case 1:if(u[0]===1)return ht(l[0]);throw new RangeError("Matrix must be square (size: "+Et(u)+")");case 2:{var s=u[0],c=u[1];if(s===c){for(var f=0,p=0;p<s;p++)f=n(f,l[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+Et(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Et(u)+")")}}function a(o){var u=o._values,l=o._index,s=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(u.length>0)for(var d=0;d<p;d++)for(var h=s[d],w=s[d+1],x=h;x<w;x++){var E=l[x];if(E===d){m=n(m,u[x]);break}if(E>d)break}return m}throw new RangeError("Matrix must be square (size: "+Et(c)+")")}});var Gk="index",bee=["typed","Index"],sS=C(Gk,bee,r=>{var{typed:e,Index:t}=r;return e(Gk,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(u){return ut(u)?u.toNumber():ur(u)||et(u)?u.map(function(l){return ut(l)?l.toNumber():l}):u}),o=new t;return t.apply(o,a),o}})});var gg=new Set(["end"]);var wee="Node",_ee=["mathWithTransform"],uS=C(wee,_ee,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...gg])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},u=null;function l(s){var c=Fs(s);return t(c),a(c,o,u)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Kt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(u,l){u.forEach(function(s,c,f){l(s,c,f),o(s,l)})}o(this,a)}transform(a){function o(u,l,s){var c=a(u,l,s);return c!==u?c:u.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(u,l,s){a(u,l,s)&&o.push(u)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&ia(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function zr(r){return r&&r.isIndexError?new pi(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function vg(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Qr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw zr(a)}}}var yg="AccessorNode",See=["subset","Node"],lS=C(yg,See,r=>{var{subset:e,Node:t}=r,n=vg({subset:e});function i(o){return!(Da(o)||li(o)||Yt(o)||Hi(o)||bu(o)||ci(o)||Ur(o))}class a extends t{constructor(u,l){if(super(),!Kt(u))throw new TypeError('Node expected for parameter "object"');if(!Ka(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return yg}get isAccessorNode(){return!0}_compile(u,l){var s=this.object._compile(u,l),c=this.index._compile(u,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,d,h){return Qr(s(m,d,h),f)}}else return function(m,d,h){var w=s(m,d,h),x=c(m,d,w);return n(w,x)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new a(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(u){var l=this.object.toString(u);return i(this.object)&&(l="("+l+")"),l+this.index.toString(u)}_toHTML(u){var l=this.object.toHTML(u);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(u)}_toTex(u){var l=this.object.toTex(u);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(u)}toJSON(){return{mathjs:yg,object:this.object,index:this.index}}static fromJSON(u){return new a(u.object,u.index)}}return br(a,"name",yg),a},{isClass:!0,isNode:!0});var xg="ArrayNode",Aee=["Node"],cS=C(xg,Aee,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Kt))throw new TypeError("Array containing Nodes expected")}get type(){return xg}get isArrayNode(){return!0}_compile(i,a){var o=to(this.items,function(s){return s._compile(i,a)}),u=i.config.matrix!=="Array";if(u){var l=i.matrix;return function(c,f,p){return l(to(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return to(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:xg,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,u){var l=o.some(li)&&!o.every(li),s=u||l,c=s?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!u):p.toTex(i)}).join(c);return l||!s||s&&!u?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return br(t,"name",xg),t},{isClass:!0,isNode:!0});function Wk(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var u=t(i).subset(a,o).valueOf();return u.forEach((l,s)=>{i[s]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Yo(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw zr(l)}}}var ao=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function bg(r,e){if(!e||e!=="auto")return r;for(var t=r;ci(t);)t=t.content;return t}function Sr(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,u=0;u<ao.length;u++)if(a in ao[u]){o=u;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var l=bg(i.args[0],e);!(Yt(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&yp(bg(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&yp(bg(l.args[0],e))&&Yt(bg(l.args[1])))&&(o+=1)}return o}function of(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=Sr(t,e);if(i===null)return null;var a=ao[i][n];if(nt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function wg(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),u=Sr(n,t);if(u===null)return null;var l=ao[u][a];if(nt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var s=0;s<l.associativeWith.length;s++)if(l.associativeWith[s]===o)return!0;return!1}return null}function Yk(r){var e="OperatorNode:"+r;for(var t of ao)if(e in t)return t[e].op;return null}var _g="AssignmentNode",Eee=["subset","?matrix","Node"],fS=C(_g,Eee,r=>{var{subset:e,matrix:t,Node:n}=r,i=vg({subset:e}),a=Wk({subset:e,matrix:t});function o(l,s,c){s||(s="keep");var f=Sr(l,s,c),p=Sr(l.value,s,c);return s==="all"||p!==null&&p<=f}class u extends n{constructor(s,c,f){if(super(),this.object=s,this.index=f?c:null,this.value=f||c,!Ur(s)&&!Da(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ur(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Ka(this.index))throw new TypeError('IndexNode expected as "index"');if(!Kt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return _g}get isAssignmentNode(){return!0}_compile(s,c){var f=this.object._compile(s,c),p=this.index?this.index._compile(s,c):null,m=this.value._compile(s,c),d=this.object.name;if(this.index)if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(_,A,y){var T=f(_,A,y),M=m(_,A,y);return Yo(T,h,M),M}}else{if(Ur(this.object))return function(_,A,y){var T=f(_,A,y),M=m(_,A,y),b=p(_,A,T);return _.set(d,a(T,b,M)),M};var w=this.object.object._compile(s,c);if(this.object.index.isObjectProperty()){var x=this.object.index.getObjectProperty();return function(_,A,y){var T=w(_,A,y),M=Qr(T,x),b=p(_,A,M),D=m(_,A,y);return Yo(T,x,a(M,b,D)),D}}else{var E=this.object.index._compile(s,c);return function(_,A,y){var T=w(_,A,y),M=E(_,A,T),b=i(T,M),D=p(_,A,b),I=m(_,A,y);return a(T,M,a(b,D,I)),I}}}else{if(!Ur(this.object))throw new TypeError("SymbolNode expected as object");return function(_,A,y){var T=m(_,A,y);return _.set(d,T),T}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var c=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,p=this._ifNode(s(this.value,"value",this));return new u(c,f,p)}clone(){return new u(this.object,this.index,this.value)}_toString(s){var c=this.object.toString(s),f=this.index?this.index.toString(s):"",p=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:_g,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new u(s.object,s.index,s.value)}_toHTML(s){var c=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",p=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(s){var c=this.object.toTex(s),f=this.index?this.index.toTex(s):"",p=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return br(u,"name",_g),u},{isClass:!0,isNode:!0});var Sg="BlockNode",Tee=["ResultSet","Node"],pS=C(Sg,Tee,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var u=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!Kt(u))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:l}})}get type(){return Sg}get isBlockNode(){return!0}_compile(a,o){var u=to(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(s,c,f){var p=[];return Eu(u,function(d){var h=d.evaluate(s,c,f);d.visible&&p.push(h)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],u=0;u<this.blocks.length;u++){var l=this.blocks[u],s=this._ifNode(a(l.node,"blocks["+u+"].node",this));o[u]={node:s,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Sg,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return br(n,"name",Sg),n},{isClass:!0,isNode:!0});var Ag="ConditionalNode",Mee=["Node"],mS=C(Ag,Mee,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(ut(i))return!i.isZero();if(zi(i))return!!(i.re||i.im);if(ui(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+nr(i)+'"')}class n extends e{constructor(a,o,u){if(super(),!Kt(a))throw new TypeError("Parameter condition must be a Node");if(!Kt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Kt(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=u}get type(){return Ag}get isConditionalNode(){return!0}_compile(a,o){var u=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,p,m){return t(u(f,p,m))?l(f,p,m):s(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=Sr(this,o,a&&a.implicit),l=this.condition.toString(a),s=Sr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=u)&&(l="("+l+")");var c=this.trueExpr.toString(a),f=Sr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=Sr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p="("+p+")"),l+" ? "+c+" : "+p}toJSON(){return{mathjs:Ag,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=Sr(this,o,a&&a.implicit),l=this.condition.toHTML(a),s=Sr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=u)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=Sr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=Sr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return br(n,"name",Ag),n},{isClass:!0,isNode:!0});var Xk=$r(Zk(),1);var hS={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},yr={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},gS={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(yr.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(yr.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(yr.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(yr.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(yr.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(yr.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(yr.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(yr.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(yr.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(yr.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(yr.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(yr.bitAnd,"${args[1]}\\right)")},bitNot:{1:yr.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(yr.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(yr.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(yr.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(yr.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(yr.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(yr.and,"${args[1]}\\right)")},not:{1:yr.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(yr.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(yr.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(yr.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(yr.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(yr.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(yr.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(yr.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(yr.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(yr.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(yr.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(yr.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(yr.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(yr.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(hS.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Qk="\\mathrm{${name}}\\left(${args}\\right)",Jk={deg:"^\\circ"};function Eg(r){return(0,Xk.default)(r,{preserveFormatting:!0})}function Tg(r,e){return e=typeof e>"u"?!1:e,e?nt(Jk,r)?Jk[r]:"\\mathrm{"+Eg(r)+"}":nt(hS,r)?hS[r]:Eg(r)}var Mg="ConstantNode",Fee=["Node"],vS=C(Mg,Fee,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return Mg}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return Et(this.value,i)}_toHTML(i){var a=this._toString(i);switch(nr(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Mg,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i),o=nr(this.value);switch(o){case"string":return"\\mathtt{"+Eg(a)+"}";case"number":case"BigNumber":{var u=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!u)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return br(t,"name",Mg),t},{isClass:!0,isNode:!0});var Dg="FunctionAssignmentNode",Iee=["typed","Node"],yS=C(Dg,Iee,r=>{var{typed:e,Node:t}=r;function n(a,o,u){var l=Sr(a,o,u),s=Sr(a.expr,o,u);return o==="all"||s!==null&&s<=l}class i extends t{constructor(o,u,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Kt(l))throw new TypeError('Node expected for parameter "expr"');if(gg.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var c of u){var f=typeof c=="string"?c:c.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=u.map(function(p){return p&&p.name||p}),this.types=u.map(function(p){return p&&p.type||"any"}),this.expr=l}get type(){return Dg}get isFunctionAssignmentNode(){return!0}_compile(o,u){var l=Object.create(u);Eu(this.params,function(d){l[d]=!0});var s=this.expr._compile(o,l),c=this.name,f=this.params,p=t0(this.types,","),m=c+"("+t0(this.params,", ")+")";return function(h,w,x){var E={};E[p]=function(){for(var _=Object.create(w),A=0;A<f.length;A++)_[f[A]]=arguments[A];return s(h,_,x)};var v=e(c,E);return v.syntax=m,h.set(c,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var u=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),u)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,u,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:Dg,name:this.name,params:this.params.map(function(u,l){return{name:u,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var u=o&&o.parenthesis?o.parenthesis:"keep",l=[],s=0;s<this.params.length;s++)l.push('<span class="math-symbol math-parameter">'+Yn(this.params[s])+"</span>");var c=this.expr.toHTML(o);return n(this,u,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Yn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,u,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Tg).join(",")+"\\right)="+l}}return br(i,"name",Dg),i},{isClass:!0,isNode:!0});var Cg="IndexNode",Pee=["Node","size"],xS=C(Cg,Pee,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Kt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Cg}get isIndexNode(){return!0}_compile(a,o){var u=to(this.dimensions,function(s,c){var f=s.filter(d=>d.isSymbolNode&&d.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=s._compile(a,p);return function(h,w,x){if(!et(x)&&!ur(x)&&!dn(x))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+nr(x));var E=t(x).valueOf(),v=Object.create(w);return v.end=E[c],m(h,v,x)}}else return s._compile(a,o)}),l=Qr(a,"index");return function(c,f,p){var m=to(u,function(d){return d(c,f,p)});return l(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this._ifNode(a(this.dimensions[u],"dimensions["+u+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Yt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Cg,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],u=0;u<this.dimensions.length;u++)o[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Yn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(u){return u.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return br(n,"name",Cg),n},{isClass:!0,isNode:!0});var Ng="ObjectNode",Bee=["Node"],bS=C(Ng,Bee,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Kt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Ng}get isObjectNode(){return!0}_compile(i,a){var o={};for(var u in this.properties)if(nt(this.properties,u)){var l=El(u),s=JSON.parse(l),c=Qr(this.properties,u);o[s]=c._compile(i,a)}return function(p,m,d){var h={};for(var w in o)nt(o,w)&&(h[w]=o[w](p,m,d));return h}}forEach(i){for(var a in this.properties)nt(this.properties,a)&&i(this.properties[a],"properties["+El(a)+"]",this)}map(i){var a={};for(var o in this.properties)nt(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+El(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)nt(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push(El(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Ng,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Yn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var u="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return u}}return br(t,"name",Ng),t},{isClass:!0,isNode:!0});function Il(r,e){return new Lc(r,new gu(e),new Set(Object.keys(e)))}var Fg="OperatorNode",kee=["Node"],wS=C(Fg,kee,r=>{var{Node:e}=r;function t(a,o){var u=a;if(o==="auto")for(;ci(u);)u=u.content;return Yt(u)?!0:Jr(u)?t(u.args[0],o):!1}function n(a,o,u,l,s){var c=Sr(a,o,u),f=of(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(l.length){case 0:p=[];break;case 1:{var m=Sr(l[0],o,u,a);if(s&&m!==null){var d,h;if(o==="keep"?(d=l[0].getIdentifier(),h=a.getIdentifier()):(d=l[0].getContent().getIdentifier(),h=a.getContent().getIdentifier()),ao[c][h].latexLeftParens===!1){p=[!1];break}if(ao[m][d].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var w,x=Sr(l[0],o,u,a),E=wg(a,l[0],o);x===null?w=!1:x===c&&f==="right"&&!E||x<c?w=!0:w=!1;var v,_=Sr(l[1],o,u,a),A=wg(a,l[1],o);if(_===null?v=!1:_===c&&f==="left"&&!A||_<c?v=!0:v=!1,s){var y,T,M;o==="keep"?(y=a.getIdentifier(),T=a.args[0].getIdentifier(),M=a.args[1].getIdentifier()):(y=a.getContent().getIdentifier(),T=a.args[0].getContent().getIdentifier(),M=a.args[1].getContent().getIdentifier()),x!==null&&(ao[c][y].latexLeftParens===!1&&(w=!1),ao[x][T].latexParens===!1&&(w=!1)),_!==null&&(ao[c][y].latexRightParens===!1&&(v=!1),ao[_][M].latexParens===!1&&(v=!1))}p=[w,v]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=l.map(function(D){var I=Sr(D,o,u,a),P=wg(a,D,o),R=of(D,o);return I===null?!1:c===I&&f===R&&!P?!0:I<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&u==="hide")for(var b=1;b<p.length;++b)t(l[b],o)&&!p[b-1]&&(o!=="keep"||!ci(l[b-1]))&&(p[b]=!0);return p}class i extends e{constructor(o,u,l,s,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof u!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Kt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=c===!0,this.op=o,this.fn=u,this.args=l||[]}get type(){return Fg}get isOperatorNode(){return!0}_compile(o,u){if(typeof this.fn!="string"||!Eh(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Qr(o,this.fn),s=to(this.args,function(d){return d._compile(o,u)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(h,w,x){return l(c,o,Il(h,w))}}else if(s.length===1){var f=s[0];return function(h,w,x){return l(f(h,w,x))}}else if(s.length===2){var p=s[0],m=s[1];return function(h,w,x){return l(p(h,w,x),m(h,w,x))}}else return function(h,w,x){return l.apply(null,to(s,function(E){return E(h,w,x)}))}}forEach(o){for(var u=0;u<this.args.length;u++)o(this.args[u],"args["+u+"]",this)}map(o){for(var u=[],l=0;l<this.args.length;l++)u[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var u=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,u,l,s,!1);if(s.length===1){var f=of(this,u),p=s[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(s.length===2){var d=s[0].toString(o),h=s[1].toString(o);return c[0]&&(d="("+d+")"),c[1]&&(h="("+h+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?d+" "+h:d+" "+this.op+" "+h}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var w=s.map(function(x,E){return x=x.toString(o),c[E]&&(x="("+x+")"),x});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?w.join(" "):w.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Fg,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var u=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,u,l,s,!1);if(s.length===1){var f=of(this,u),p=s[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Yn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Yn(this.op)+"</span>"}else if(s.length===2){var m=s[0].toHTML(o),d=s[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+d:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Yn(this.op)+"</span>"+d}else{var h=s.map(function(w,x){return w=w.toHTML(o),c[x]&&(w='<span class="math-parenthesis math-round-parenthesis">(</span>'+w+'<span class="math-parenthesis math-round-parenthesis">)</span>'),w});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):h.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Yn(this.op)+"</span>"):'<span class="math-function">'+Yn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var u=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,u,l,s,!0),f=yr[this.fn];if(f=typeof f>"u"?this.op:f,s.length===1){var p=of(this,u),m=s[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(s.length===2){var d=s[0],h=d.toTex(o);c[0]&&(h="\\left(".concat(h,"\\right)"));var w=s[1],x=w.toTex(o);c[1]&&(x="\\left(".concat(x,"\\right)"));var E;switch(u==="keep"?E=d.getIdentifier():E=d.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+h+"}{"+x+"}";case"OperatorNode:pow":switch(h="{"+h+"}",x="{"+x+"}",E){case"ConditionalNode":case"OperatorNode:divide":h="\\left(".concat(h,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return h+"~"+x}return h+f+x}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=s.map(function(_,A){return _=_.toTex(o),c[A]&&(_="\\left(".concat(_,"\\right)")),_});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?v.join("~"):v.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return br(i,"name",Fg),i},{isClass:!0,isNode:!0});var Ig="ParenthesisNode",$ee=["Node"],_S=C(Ig,$ee,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!Kt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Ig}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Ig,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return br(t,"name",Ig),t},{isClass:!0,isNode:!0});var Pg="RangeNode",Oee=["Node"],SS=C(Pg,Oee,r=>{var{Node:e}=r;function t(i,a,o){var u=Sr(i,a,o),l={},s=Sr(i.start,a,o);if(l.start=s!==null&&s<=u||a==="all",i.step){var c=Sr(i.step,a,o);l.step=c!==null&&c<=u||a==="all"}var f=Sr(i.end,a,o);return l.end=f!==null&&f<=u||a==="all",l}class n extends e{constructor(a,o,u){if(super(),!Kt(a))throw new TypeError("Node expected");if(!Kt(o))throw new TypeError("Node expected");if(u&&!Kt(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=u||null}get type(){return Pg}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Ur(o)&&o.name==="end"});return a.length>0}_compile(a,o){var u=a.range,l=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,d){return u(l(p,m,d),s(p,m,d),c(p,m,d))}}else return function(p,m,d){return u(l(p,m,d),s(p,m,d))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),l,s=this.start.toString(a);if(u.start&&(s="("+s+")"),l=s,this.step){var c=this.step.toString(a);u.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(a);return u.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:Pg,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),l,s=this.start.toHTML(a);if(u.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=s,this.step){var c=this.step.toHTML(a);u.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return u.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",u=t(this,o,a&&a.implicit),l=this.start.toTex(a);if(u.start&&(l="\\left(".concat(l,"\\right)")),this.step){var s=this.step.toTex(a);u.step&&(s="\\left(".concat(s,"\\right)")),l+=":"+s}var c=this.end.toTex(a);return u.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return br(n,"name",Pg),n},{isClass:!0,isNode:!0});var Bg="RelationalNode",Ree=["Node"],AS=C(Bg,Ree,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Bg}get isRelationalNode(){return!0}_compile(a,o){var u=this,l=this.params.map(s=>s._compile(a,o));return function(c,f,p){for(var m,d=l[0](c,f,p),h=0;h<u.conditionals.length;h++){m=d,d=l[h+1](c,f,p);var w=Qr(a,u.conditionals[h]);if(!w(m,d))return!1}return!0}}forEach(a){this.params.forEach((o,u)=>a(o,"params["+u+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,u)=>this._ifNode(a(o,"params["+u+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=Sr(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=Sr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"("+f.toString(a)+")":f.toString(a)}),s=l[0],c=0;c<this.conditionals.length;c++)s+=" "+t[this.conditionals[c]],s+=" "+l[c+1];return s}toJSON(){return{mathjs:Bg,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=Sr(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=Sr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=l[0],c=0;c<this.conditionals.length;c++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Yn(t[this.conditionals[c]])+"</span>"+l[c+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",u=Sr(this,o,a&&a.implicit),l=this.params.map(function(f,p){var m=Sr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=u?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=l[0],c=0;c<this.conditionals.length;c++)s+=yr[this.conditionals[c]]+l[c+1];return s}}return br(n,"name",Bg),n},{isClass:!0,isNode:!0});var Lee="SymbolNode",Uee=["math","?Unit","Node"],ES=C(Lee,Uee,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(u){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,l){var s=this.name;if(l[s]===!0)return function(f,p,m){return Qr(p,s)};if(s in u)return function(f,p,m){return f.has(s)?f.get(s):Qr(u,s)};var c=i(s);return function(f,p,m){return f.has(s)?f.get(s):c?new t(null,s):a.onUndefinedSymbol(s)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new a(this.name)}_toString(u){return this.name}_toHTML(u){var l=Yn(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new a(u.name)}_toTex(u){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var s=Tg(this.name,l);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});var kg="FunctionNode",Vee=["math","Node","SymbolNode"],TS=C(kg,Vee,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=l=>Et(l,{truncate:78});function o(l,s,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,d;(d=p.exec(l))!==null;)if(f+=l.substring(m,d.index),m=d.index,d[0]==="$$")f+="$",m++;else{m+=d[0].length;var h=s[d[1]];if(!h)throw new ReferenceError("Template: Property "+d[1]+" does not exist.");if(d[2]===void 0)switch(typeof h){case"string":f+=h;break;case"object":if(Kt(h))f+=h.toTex(c);else if(Array.isArray(h))f+=h.map(function(w,x){if(Kt(w))return w.toTex(c);throw new TypeError("Template: "+d[1]+"["+x+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+d[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+d[1]+" has to be a Node, String or array of Nodes")}else if(Kt(h[d[2]]&&h[d[2]]))f+=h[d[2]].toTex(c);else throw new TypeError("Template: "+d[1]+"["+d[2]+"] is not a Node.")}return f+=l.slice(m),f}class u extends n{constructor(s,c){if(super(),typeof s=="string"&&(s=new i(s)),!Kt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Kt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=c||[]}get name(){return this.fn.name||""}get type(){return kg}get isFunctionNode(){return!0}_compile(s,c){var f=this.args.map(M=>M._compile(s,c));if(Ur(this.fn)){var p=this.fn.name;if(c[p]){var x=this.args;return function(b,D,I){var P=Qr(D,p);if(typeof P!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(P)));if(P.rawArgs)return P(x,s,Il(b,D));var R=f.map(q=>q(b,D,I));return P.apply(P,R)}}else{var m=p in s?Qr(s,p):void 0,d=typeof m=="function"&&m.rawArgs===!0,h=M=>{var b;if(M.has(p))b=M.get(p);else if(p in s)b=Qr(s,p);else return u.onUndefinedFunction(p);if(typeof b=="function")return b;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(b)))};if(d){var w=this.args;return function(b,D,I){var P=h(b);if(P.rawArgs===!0)return P(w,s,Il(b,D));var R=f.map(q=>q(b,D,I));return P(...R)}}else switch(f.length){case 0:return function(b,D,I){var P=h(b);return P()};case 1:return function(b,D,I){var P=h(b),R=f[0];return P(R(b,D,I))};case 2:return function(b,D,I){var P=h(b),R=f[0],q=f[1];return P(R(b,D,I),q(b,D,I))};default:return function(b,D,I){var P=h(b),R=f.map(q=>q(b,D,I));return P(...R)}}}}else if(Da(this.fn)&&Ka(this.fn.index)&&this.fn.index.isObjectProperty()){var E=this.fn.object._compile(s,c),v=this.fn.index.getObjectProperty(),_=this.args;return function(b,D,I){var P=E(b,D,I),R=bI(P,v);if(R!=null&&R.rawArgs)return R(_,s,Il(b,D));var q=f.map(L=>L(b,D,I));return R.apply(P,q)}}else{var A=this.fn.toString(),y=this.fn._compile(s,c),T=this.args;return function(b,D,I){var P=y(b,D,I);if(typeof P!="function")throw new TypeError("Expression '".concat(A,"' did not evaluate to a function; value is:")+`
  `.concat(a(P)));if(P.rawArgs)return P(T,s,Il(b,D));var R=f.map(q=>q(b,D,I));return P.apply(P,R)}}}forEach(s){s(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)s(this.args[c],"args["+c+"]",this)}map(s){for(var c=this._ifNode(s(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(s(this.args[p],"args["+p+"]",this));return new u(c,f)}clone(){return new u(this.fn,this.args.slice(0))}toString(s){var c,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&nt(s.handler,f)&&(c=s.handler[f](this,s)),typeof c<"u"?c:super.toString(s)}_toString(s){var c=this.args.map(function(p){return p.toString(s)}),f=jo(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:kg,fn:this.fn,args:this.args}}_toHTML(s){var c=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Yn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var c;return s&&typeof s.handler=="object"&&nt(s.handler,this.name)&&(c=s.handler[this.name](this,s)),typeof c<"u"?c:super.toTex(s)}_toTex(s){var c=this.args.map(function(m){return m.toTex(s)}),f;gS[this.name]&&(f=gS[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,s);break;case"string":p=o(f,this,s);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,s);break;case"string":p=o(f[c.length],this,s);break}}return typeof p<"u"?p:o(Qk,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=u,br(u,"name",kg),br(u,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),br(u,"fromJSON",function(l){return new e(l.fn,l.args)}),u},{isClass:!0,isNode:!0});var Kk="parse",qee=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],MS=C(Kk,qee,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:u,ConditionalNode:l,ConstantNode:s,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:d,ParenthesisNode:h,RangeNode:w,RelationalNode:x,SymbolNode:E}=r,v=e(Kk,{string:function(G){return ne(G,{})},"Array | Matrix":function(G){return _(G,{})},"string, Object":function(G,ge){var Ne=ge.nodes!==void 0?ge.nodes:{};return ne(G,Ne)},"Array | Matrix, Object":_});function _(N){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=G.nodes!==void 0?G.nodes:{};return rt(N,function(Ne){if(typeof Ne!="string")throw new TypeError("String expected");return ne(Ne,ge)})}var A={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},y={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},M={true:!0,false:!1,null:null,undefined:void 0},b=["NaN","Infinity"],D={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:A.NULL,nestingLevel:0,conditionalLevel:null}}function P(N,G){return N.expression.substr(N.index,G)}function R(N){return P(N,1)}function q(N){N.index++}function L(N){return N.expression.charAt(N.index-1)}function k(N){return N.expression.charAt(N.index+1)}function B(N){for(N.tokenType=A.NULL,N.token="",N.comment="";;){if(R(N)==="#")for(;R(N)!==`
`&&R(N)!=="";)N.comment+=R(N),q(N);if(v.isWhitespace(R(N),N.nestingLevel))q(N);else break}if(R(N)===""){N.tokenType=A.DELIMITER;return}if(R(N)===`
`&&!N.nestingLevel){N.tokenType=A.DELIMITER,N.token=R(N),q(N);return}var G=R(N),ge=P(N,2),Ne=P(N,3);if(Ne.length===3&&y[Ne]){N.tokenType=A.DELIMITER,N.token=Ne,q(N),q(N),q(N);return}if(ge.length===2&&y[ge]){N.tokenType=A.DELIMITER,N.token=ge,q(N),q(N);return}if(y[G]){N.tokenType=A.DELIMITER,N.token=G,q(N);return}if(v.isDigitDot(G)){N.tokenType=A.NUMBER;var at=P(N,2);if(at==="0b"||at==="0o"||at==="0x"){for(N.token+=R(N),q(N),N.token+=R(N),q(N);v.isHexDigit(R(N));)N.token+=R(N),q(N);if(R(N)===".")for(N.token+=".",q(N);v.isHexDigit(R(N));)N.token+=R(N),q(N);else if(R(N)==="i")for(N.token+="i",q(N);v.isDigit(R(N));)N.token+=R(N),q(N);return}if(R(N)==="."){if(N.token+=R(N),q(N),!v.isDigit(R(N))){N.tokenType=A.DELIMITER;return}}else{for(;v.isDigit(R(N));)N.token+=R(N),q(N);v.isDecimalMark(R(N),k(N))&&(N.token+=R(N),q(N))}for(;v.isDigit(R(N));)N.token+=R(N),q(N);if(R(N)==="E"||R(N)==="e"){if(v.isDigit(k(N))||k(N)==="-"||k(N)==="+"){if(N.token+=R(N),q(N),(R(N)==="+"||R(N)==="-")&&(N.token+=R(N),q(N)),!v.isDigit(R(N)))throw $e(N,'Digit expected, got "'+R(N)+'"');for(;v.isDigit(R(N));)N.token+=R(N),q(N);if(v.isDecimalMark(R(N),k(N)))throw $e(N,'Digit expected, got "'+R(N)+'"')}else if(k(N)===".")throw q(N),$e(N,'Digit expected, got "'+R(N)+'"')}return}if(v.isAlpha(R(N),L(N),k(N))){for(;v.isAlpha(R(N),L(N),k(N))||v.isDigit(R(N));)N.token+=R(N),q(N);nt(T,N.token)?N.tokenType=A.DELIMITER:N.tokenType=A.SYMBOL;return}for(N.tokenType=A.UNKNOWN;R(N)!=="";)N.token+=R(N),q(N);throw $e(N,'Syntax error in part "'+N.token+'"')}function W(N){do B(N);while(N.token===`
`)}function O(N){N.nestingLevel++}function X(N){N.nestingLevel--}v.isAlpha=function(G,ge,Ne){return v.isValidLatinOrGreek(G)||v.isValidMathSymbol(G,Ne)||v.isValidMathSymbol(ge,G)},v.isValidLatinOrGreek=function(G){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(G)},v.isValidMathSymbol=function(G,ge){return/^[\uD835]$/.test(G)&&/^[\uDC00-\uDFFF]$/.test(ge)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ge)},v.isWhitespace=function(G,ge){return G===" "||G==="	"||G===`
`&&ge>0},v.isDecimalMark=function(G,ge){return G==="."&&ge!=="/"&&ge!=="*"&&ge!=="^"},v.isDigitDot=function(G){return G>="0"&&G<="9"||G==="."},v.isDigit=function(G){return G>="0"&&G<="9"},v.isHexDigit=function(G){return G>="0"&&G<="9"||G>="a"&&G<="f"||G>="A"&&G<="F"};function ne(N,G){var ge=I();rn(ge,{expression:N,extraNodes:G}),B(ge);var Ne=Z(ge);if(ge.token!=="")throw ge.tokenType===A.DELIMITER?ze(ge,"Unexpected operator "+ge.token):$e(ge,'Unexpected part "'+ge.token+'"');return Ne}function Z(N){var G,ge=[],Ne;for(N.token!==""&&N.token!==`
`&&N.token!==";"&&(G=U(N),N.comment&&(G.comment=N.comment));N.token===`
`||N.token===";";)ge.length===0&&G&&(Ne=N.token!==";",ge.push({node:G,visible:Ne})),B(N),N.token!==`
`&&N.token!==";"&&N.token!==""&&(G=U(N),N.comment&&(G.comment=N.comment),Ne=N.token!==";",ge.push({node:G,visible:Ne}));return ge.length>0?new u(ge):(G||(G=new s(void 0),N.comment&&(G.comment=N.comment)),G)}function U(N){var G,ge,Ne,at,yt=pe(N);if(N.token==="="){if(Ur(yt))return G=yt.name,W(N),Ne=U(N),new o(new E(G),Ne);if(Da(yt))return W(N),Ne=U(N),new o(yt.object,yt.index,Ne);if(Hi(yt)&&Ur(yt.fn)&&(at=!0,ge=[],G=yt.name,yt.args.forEach(function(Re,Jn){Ur(Re)?ge[Jn]=Re.name:at=!1}),at))return W(N),Ne=U(N),new c(G,ge,Ne);throw $e(N,"Invalid left hand side of assignment operator =")}return yt}function pe(N){for(var G=me(N);N.token==="?";){var ge=N.conditionalLevel;N.conditionalLevel=N.nestingLevel,W(N);var Ne=G,at=U(N);if(N.token!==":")throw $e(N,"False part of conditional expression expected");N.conditionalLevel=null,W(N);var yt=U(N);G=new l(Ne,at,yt),N.conditionalLevel=ge}return G}function me(N){for(var G=oe(N);N.token==="or";)W(N),G=new d("or","or",[G,oe(N)]);return G}function oe(N){for(var G=ve(N);N.token==="xor";)W(N),G=new d("xor","xor",[G,ve(N)]);return G}function ve(N){for(var G=_e(N);N.token==="and";)W(N),G=new d("and","and",[G,_e(N)]);return G}function _e(N){for(var G=ye(N);N.token==="|";)W(N),G=new d("|","bitOr",[G,ye(N)]);return G}function ye(N){for(var G=be(N);N.token==="^|";)W(N),G=new d("^|","bitXor",[G,be(N)]);return G}function be(N){for(var G=we(N);N.token==="&";)W(N),G=new d("&","bitAnd",[G,we(N)]);return G}function we(N){for(var G=[Ee(N)],ge=[],Ne={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};nt(Ne,N.token);){var at={name:N.token,fn:Ne[N.token]};ge.push(at),W(N),G.push(Ee(N))}return G.length===1?G[0]:G.length===2?new d(ge[0].name,ge[0].fn,G):new x(ge.map(yt=>yt.fn),G)}function Ee(N){var G,ge,Ne,at;G=qe(N);for(var yt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};nt(yt,N.token);)ge=N.token,Ne=yt[ge],W(N),at=[G,qe(N)],G=new d(ge,Ne,at);return G}function qe(N){var G,ge,Ne,at;G=Qe(N);for(var yt={to:"to",in:"to"};nt(yt,N.token);)ge=N.token,Ne=yt[ge],W(N),ge==="in"&&N.token===""?G=new d("*","multiply",[G,new E("in")],!0):(at=[G,Qe(N)],G=new d(ge,Ne,at));return G}function Qe(N){var G,ge=[];if(N.token===":"?G=new s(1):G=Y(N),N.token===":"&&N.conditionalLevel!==N.nestingLevel){for(ge.push(G);N.token===":"&&ge.length<3;)W(N),N.token===")"||N.token==="]"||N.token===","||N.token===""?ge.push(new E("end")):ge.push(Y(N));ge.length===3?G=new w(ge[0],ge[2],ge[1]):G=new w(ge[0],ge[1])}return G}function Y(N){var G,ge,Ne,at;G=Q(N);for(var yt={"+":"add","-":"subtract"};nt(yt,N.token);){ge=N.token,Ne=yt[ge],W(N);var Re=Q(N);Re.isPercentage?at=[G,new d("*","multiply",[G,Re])]:at=[G,Re],G=new d(ge,Ne,at)}return G}function Q(N){var G,ge,Ne,at;G=xe(N),ge=G;for(var yt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};nt(yt,N.token);)Ne=N.token,at=yt[Ne],W(N),ge=xe(N),G=new d(Ne,at,[G,ge]);return G}function xe(N){var G,ge;for(G=J(N),ge=G;N.tokenType===A.SYMBOL||N.token==="in"&&Yt(G)||N.tokenType===A.NUMBER&&!Yt(ge)&&(!Jr(ge)||ge.op==="!")||N.token==="(";)ge=J(N),G=new d("*","multiply",[G,ge],!0);return G}function J(N){for(var G=re(N),ge=G,Ne=[];N.token==="/"&&yp(ge);)if(Ne.push(rn({},N)),W(N),N.tokenType===A.NUMBER)if(Ne.push(rn({},N)),W(N),N.tokenType===A.SYMBOL||N.token==="(")rn(N,Ne.pop()),Ne.pop(),ge=re(N),G=new d("/","divide",[G,ge]);else{Ne.pop(),rn(N,Ne.pop());break}else{rn(N,Ne.pop());break}return G}function re(N){var G,ge,Ne,at;G=se(N);for(var yt={"%":"mod",mod:"mod"};nt(yt,N.token);)ge=N.token,Ne=yt[ge],W(N),ge==="%"&&N.tokenType===A.DELIMITER&&N.token!=="("?G=new d("/","divide",[G,new s(100)],!1,!0):(at=[G,se(N)],G=new d(ge,Ne,at));return G}function se(N){var G,ge,Ne,at={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return nt(at,N.token)?(Ne=at[N.token],G=N.token,W(N),ge=[se(N)],new d(G,Ne,ge)):Ae(N)}function Ae(N){var G,ge,Ne,at;return G=Te(N),(N.token==="^"||N.token===".^")&&(ge=N.token,Ne=ge==="^"?"pow":"dotPow",W(N),at=[G,se(N)],G=new d(ge,Ne,at)),G}function Te(N){var G,ge,Ne,at;G=Ve(N);for(var yt={"!":"factorial","'":"ctranspose"};nt(yt,N.token);)ge=N.token,Ne=yt[ge],B(N),at=[G],G=new d(ge,Ne,at),G=wt(N,G);return G}function Ve(N){var G=[];if(N.tokenType===A.SYMBOL&&nt(N.extraNodes,N.token)){var ge=N.extraNodes[N.token];if(B(N),N.token==="("){if(G=[],O(N),B(N),N.token!==")")for(G.push(U(N));N.token===",";)B(N),G.push(U(N));if(N.token!==")")throw $e(N,"Parenthesis ) expected");X(N),B(N)}return new ge(G)}return Se(N)}function Se(N){var G,ge;return N.tokenType===A.SYMBOL||N.tokenType===A.DELIMITER&&N.token in T?(ge=N.token,B(N),nt(M,ge)?G=new s(M[ge]):b.includes(ge)?G=new s(t(ge,"number")):G=new E(ge),G=wt(N,G),G):Dt(N)}function wt(N,G,ge){for(var Ne;(N.token==="("||N.token==="["||N.token===".")&&(!ge||ge.includes(N.token));)if(Ne=[],N.token==="(")if(Ur(G)||Da(G)){if(O(N),B(N),N.token!==")")for(Ne.push(U(N));N.token===",";)B(N),Ne.push(U(N));if(N.token!==")")throw $e(N,"Parenthesis ) expected");X(N),B(N),G=new f(G,Ne)}else return G;else if(N.token==="["){if(O(N),B(N),N.token!=="]")for(Ne.push(U(N));N.token===",";)B(N),Ne.push(U(N));if(N.token!=="]")throw $e(N,"Parenthesis ] expected");X(N),B(N),G=new i(G,new p(Ne))}else{B(N);var at=N.tokenType===A.SYMBOL||N.tokenType===A.DELIMITER&&N.token in T;if(!at)throw $e(N,"Property name expected after dot");Ne.push(new s(N.token)),B(N);var yt=!0;G=new i(G,new p(Ne,yt))}return G}function Dt(N){var G,ge;return N.token==='"'||N.token==="'"?(ge=jt(N,N.token),G=new s(ge),G=wt(N,G),G):Tt(N)}function jt(N,G){for(var ge="";R(N)!==""&&R(N)!==G;)if(R(N)==="\\"){q(N);var Ne=R(N),at=D[Ne];if(at!==void 0)ge+=at,N.index+=1;else if(Ne==="u"){var yt=N.expression.slice(N.index+1,N.index+5);if(/^[0-9A-Fa-f]{4}$/.test(yt))ge+=String.fromCharCode(parseInt(yt,16)),N.index+=5;else throw $e(N,"Invalid unicode character \\u".concat(yt))}else throw $e(N,"Bad escape character \\".concat(Ne))}else ge+=R(N),q(N);if(B(N),N.token!==G)throw $e(N,"End of string ".concat(G," expected"));return B(N),ge}function Tt(N){var G,ge,Ne,at;if(N.token==="["){if(O(N),B(N),N.token!=="]"){var yt=j(N);if(N.token===";"){for(Ne=1,ge=[yt];N.token===";";)B(N),N.token!=="]"&&(ge[Ne]=j(N),Ne++);if(N.token!=="]")throw $e(N,"End of matrix ] expected");X(N),B(N),at=ge[0].items.length;for(var Re=1;Re<Ne;Re++)if(ge[Re].items.length!==at)throw ze(N,"Column dimensions mismatch ("+ge[Re].items.length+" !== "+at+")");G=new a(ge)}else{if(N.token!=="]")throw $e(N,"End of matrix ] expected");X(N),B(N),G=yt}}else X(N),B(N),G=new a([]);return wt(N,G)}return le(N)}function j(N){for(var G=[U(N)],ge=1;N.token===",";)B(N),N.token!=="]"&&N.token!==";"&&(G[ge]=U(N),ge++);return new a(G)}function le(N){if(N.token==="{"){O(N);var G,ge={};do if(B(N),N.token!=="}"){if(N.token==='"'||N.token==="'")G=jt(N,N.token);else if(N.tokenType===A.SYMBOL||N.tokenType===A.DELIMITER&&N.token in T)G=N.token,B(N);else throw $e(N,"Symbol or string expected as object key");if(N.token!==":")throw $e(N,"Colon : expected after object key");B(N),ge[G]=U(N)}while(N.token===",");if(N.token!=="}")throw $e(N,"Comma , or bracket } expected after object value");X(N),B(N);var Ne=new m(ge);return Ne=wt(N,Ne),Ne}return fe(N)}function fe(N){var G;if(N.tokenType===A.NUMBER){G=N.token,B(N);var ge=_i(G,n),Ne=t(G,ge);return new s(Ne)}return Pe(N)}function Pe(N){var G;if(N.token==="("){if(O(N),B(N),G=U(N),N.token!==")")throw $e(N,"Parenthesis ) expected");return X(N),B(N),G=new h(G),G=wt(N,G),G}return ke(N)}function ke(N){throw N.token===""?$e(N,"Unexpected end of expression"):$e(N,"Value expected")}function Fe(N){return N.index-N.token.length+1}function $e(N,G){var ge=Fe(N),Ne=new SyntaxError(G+" (char "+ge+")");return Ne.char=ge,Ne}function ze(N,G){var ge=Fe(N),Ne=new SyntaxError(G+" (char "+ge+")");return Ne.char=ge,Ne}return e.addConversion({from:"string",to:"Node",convert:v}),v});var e$="compile",zee=["typed","parse"],DS=C(e$,zee,r=>{var{typed:e,parse:t}=r;return e(e$,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return rt(i,function(a){return t(a).compile()})}})});var t$="evaluate",Hee=["typed","parse"],CS=C(t$,Hee,r=>{var{typed:e,parse:t}=r;return e(t$,{string:function(i){var a=vu();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=vu();return rt(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return rt(i,function(o){return t(o).compile().evaluate(a)})}})});var Gee="Parser",Wee=["evaluate"],NS=C(Gee,Wee,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:vu(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return _I(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var r$="parser",Yee=["typed","Parser"],FS=C(r$,Yee,r=>{var{typed:e,Parser:t}=r;return e(r$,{"":function(){return new t}})});var n$="lup",jee=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],IS=C(n$,jee,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:u,larger:l,equalScalar:s,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=r;return e(n$,{DenseMatrix:function(x){return d(x)},SparseMatrix:function(x){return h(x)},Array:function(x){var E=t(x),v=d(E);return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function d(w){var x=w._size[0],E=w._size[1],v=Math.min(x,E),_=ht(w._data),A=[],y=[x,v],T=[],M=[v,E],b,D,I,P=[];for(b=0;b<x;b++)P[b]=b;for(D=0;D<E;D++){if(D>0)for(b=0;b<x;b++){var R=Math.min(b,D),q=0;for(I=0;I<R;I++)q=i(q,o(_[b][I],_[I][D]));_[b][D]=u(_[b][D],q)}var L=D,k=0,B=0;for(b=D;b<x;b++){var W=_[b][D],O=n(W);l(O,k)&&(L=b,k=O,B=W)}if(D!==L&&(P[D]=[P[L],P[L]=P[D]][0],f._swapRows(D,L,_)),D<x)for(b=D+1;b<x;b++){var X=_[b][D];s(X,0)||(_[b][D]=a(_[b][D],B))}}for(D=0;D<E;D++)for(b=0;b<x;b++){if(D===0&&(b<E&&(T[b]=[]),A[b]=[]),b<D){b<E&&(T[b][D]=_[b][D]),D<x&&(A[b][D]=0);continue}if(b===D){b<E&&(T[b][D]=_[b][D]),D<x&&(A[b][D]=1);continue}b<E&&(T[b][D]=0),D<x&&(A[b][D]=_[b][D])}var ne=new f({data:A,size:y}),Z=new f({data:T,size:M}),U=[];for(b=0,v=P.length;b<v;b++)U[P[b]]=b;return{L:ne,U:Z,p:U,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(w){var x=w._size[0],E=w._size[1],v=Math.min(x,E),_=w._values,A=w._index,y=w._ptr,T=[],M=[],b=[],D=[x,v],I=[],P=[],R=[],q=[v,E],L,k,B,W=[],O=[];for(L=0;L<x;L++)W[L]=L,O[L]=L;var X=function(U,pe){var me=O[U],oe=O[pe];W[me]=pe,W[oe]=U,O[U]=oe,O[pe]=me},ne=function(){var U=new m;k<x&&(b.push(T.length),T.push(1),M.push(k)),R.push(I.length);var pe=y[k],me=y[k+1];for(B=pe;B<me;B++)L=A[B],U.set(W[L],_[B]);k>0&&U.forEach(0,k-1,function(ye,be){p._forEachRow(ye,T,M,b,function(we,Ee){we>ye&&U.accumulate(we,c(o(Ee,be)))})});var oe=k,ve=U.get(k),_e=n(ve);U.forEach(k+1,x-1,function(ye,be){var we=n(be);l(we,_e)&&(oe=ye,_e=we,ve=be)}),k!==oe&&(p._swapRows(k,oe,D[1],T,M,b),p._swapRows(k,oe,q[1],I,P,R),U.swap(k,oe),X(k,oe)),U.forEach(0,x-1,function(ye,be){ye<=k?(I.push(be),P.push(ye)):(be=a(be,ve),s(be,0)||(T.push(be),M.push(ye)))})};for(k=0;k<E;k++)ne();return R.push(I.length),b.push(T.length),{L:new p({values:T,index:M,ptr:b,size:D}),U:new p({values:I,index:P,ptr:R,size:q}),p:W,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var i$="qr",Zee=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],PS=C(i$,Zee,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:u,sqrt:l,conj:s,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:d,complex:h}=r;return rn(e(i$,{DenseMatrix:function(_){return x(_)},SparseMatrix:function(_){return E(_)},Array:function(_){var A=t(_),y=x(A);return{Q:y.Q.valueOf(),R:y.R.valueOf()}}}),{_denseQRimpl:w});function w(v){var _=v._size[0],A=v._size[1],y=i([_],"dense"),T=y._data,M=v.clone(),b=M._data,D,I,P,R=n([_],"");for(P=0;P<Math.min(A,_);++P){var q=b[P][P],L=c(o(q,0)?1:u(q)),k=s(L),B=0;for(D=P;D<_;D++)B=f(B,m(b[D][P],s(b[D][P])));var W=m(L,l(B));if(!a(W)){var O=d(q,W);for(R[P]=1,D=P+1;D<_;D++)R[D]=p(b[D][P],O);var X=c(s(p(O,W))),ne=void 0;for(I=P;I<A;I++){for(ne=0,D=P;D<_;D++)ne=f(ne,m(s(R[D]),b[D][I]));for(ne=m(ne,X),D=P;D<_;D++)b[D][I]=m(d(b[D][I],m(R[D],ne)),k)}for(D=0;D<_;D++){for(ne=0,I=P;I<_;I++)ne=f(ne,m(T[D][I],R[I]));for(ne=m(ne,X),I=P;I<_;++I)T[D][I]=p(d(T[D][I],m(ne,s(R[I]))),k)}}}return{Q:y,R:M,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function x(v){var _=w(v),A=_.R._data;if(v._data.length>0)for(var y=A[0][0].type==="Complex"?h(0):0,T=0;T<A.length;++T)for(var M=0;M<T&&M<(A[0]||[]).length;++M)A[T][M]=y;return _}function E(v){throw new Error("qr not implemented for sparse matrices yet")}});function a$(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,u=r._size,l=r._datatype,s=u[0],c=u[1],f=n&&r._values?[]:null,p=[],m=[],d=0,h=0;h<c;h++){m[h]=d;for(var w=t?t[h]:h,x=o[w],E=o[w+1],v=x;v<E;v++){var _=e?e[a[v]]:a[v];p[d]=_,f&&(f[d]=i[v]),d++}}return m[c]=d,r.createSparseMatrix({values:f,index:p,ptr:m,size:[s,c],datatype:l})}function $g(r,e,t,n,i,a,o){var u=0;for(t[o]=r;u>=0;){var l=t[o+u],s=t[n+l];s===-1?(u--,a[e++]=l):(t[n+l]=t[i+s],++u,t[o+u]=s)}return e}function o$(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,u=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[u+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=$g(n,t,a,o,u,i,l));return i}function s$(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],u=[],l=[],s=0,c=o,f,p;if(e)for(f=0;f<a;f++)l[c+f]=-1;for(var m=0;m<o;m++){u[m]=-1,l[s+m]=-1;for(var d=n[m],h=n[m+1],w=d;w<h;w++){var x=t[w];for(f=e?l[c+x]:x;f!==-1&&f<m;f=p)p=l[s+f],l[s+f]=m,p===-1&&(u[f]=m);e&&(l[c+x]=m)}}return u}function u$(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,u=o[1],l=0,s=0;s<u;s++){var c=a[s];for(a[s]=l;c<a[s+1];c++)e(i[c],s,n?n[c]:1,t)&&(i[l]=i[c],n&&(n[l]=n[c]),l++)}return a[u]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function Co(r){return-r-2}var Jee="csAmd",Xee=["add","multiply","transpose"],l$=C(Jee,Xee,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],d=p[1],h=0,w=Math.max(16,10*Math.sqrt(d));w=Math.min(d-2,w);var x=i(c,f,m,d,w);u$(x,l,null);for(var E=x._index,v=x._ptr,_=v[d],A=[],y=[],T=0,M=d+1,b=2*(d+1),D=3*(d+1),I=4*(d+1),P=5*(d+1),R=6*(d+1),q=7*(d+1),L=A,k=a(d,v,y,T,D,L,b,q,M,R,I,P),B=o(d,v,y,P,I,R,w,M,D,L,b),W=0,O,X,ne,Z,U,pe,me,oe,ve,_e,ye,be,we,Ee,qe,Qe;B<d;){for(ne=-1;W<d&&(ne=y[D+W])===-1;W++);y[b+ne]!==-1&&(L[y[b+ne]]=-1),y[D+W]=y[b+ne];var Y=y[I+ne],Q=y[M+ne];B+=Q;var xe=0;y[M+ne]=-Q;var J=v[ne],re=Y===0?J:_,se=re;for(Z=1;Z<=Y+1;Z++){for(Z>Y?(pe=ne,me=J,oe=y[T+ne]-Y):(pe=E[J++],me=v[pe],oe=y[T+pe]),U=1;U<=oe;U++)O=E[me++],!((ve=y[M+O])<=0)&&(xe+=ve,y[M+O]=-ve,E[se++]=O,y[b+O]!==-1&&(L[y[b+O]]=L[O]),L[O]!==-1?y[b+L[O]]=y[b+O]:y[D+y[P+O]]=y[b+O]);pe!==ne&&(v[pe]=Co(ne),y[R+pe]=0)}for(Y!==0&&(_=se),y[P+ne]=xe,v[ne]=re,y[T+ne]=se-re,y[I+ne]=-2,k=u(k,h,y,R,d),_e=re;_e<se;_e++)if(O=E[_e],!((ye=y[I+O])<=0)){ve=-y[M+O];var Ae=k-ve;for(J=v[O],be=v[O]+ye-1;J<=be;J++)pe=E[J],y[R+pe]>=k?y[R+pe]-=ve:y[R+pe]!==0&&(y[R+pe]=y[P+pe]+Ae)}for(_e=re;_e<se;_e++){for(O=E[_e],be=v[O],we=be+y[I+O]-1,Ee=be,qe=0,Qe=0,J=be;J<=we;J++)if(pe=E[J],y[R+pe]!==0){var Te=y[R+pe]-k;Te>0?(Qe+=Te,E[Ee++]=pe,qe+=pe):(v[pe]=Co(ne),y[R+pe]=0)}y[I+O]=Ee-be+1;var Ve=Ee,Se=be+y[T+O];for(J=we+1;J<Se;J++){X=E[J];var wt=y[M+X];wt<=0||(Qe+=wt,E[Ee++]=X,qe+=X)}Qe===0?(v[O]=Co(ne),ve=-y[M+O],xe-=ve,Q+=ve,B+=ve,y[M+O]=0,y[I+O]=-1):(y[P+O]=Math.min(y[P+O],Qe),E[Ee]=E[Ve],E[Ve]=E[be],E[be]=ne,y[T+O]=Ee-be+1,qe=(qe<0?-qe:qe)%d,y[b+O]=y[q+qe],y[q+qe]=O,L[O]=qe)}for(y[P+ne]=xe,h=Math.max(h,xe),k=u(k+h,h,y,R,d),_e=re;_e<se;_e++)if(O=E[_e],!(y[M+O]>=0))for(qe=L[O],O=y[q+qe],y[q+qe]=-1;O!==-1&&y[b+O]!==-1;O=y[b+O],k++){for(oe=y[T+O],ye=y[I+O],J=v[O]+1;J<=v[O]+oe-1;J++)y[R+E[J]]=k;var Dt=O;for(X=y[b+O];X!==-1;){var jt=y[T+X]===oe&&y[I+X]===ye;for(J=v[X]+1;jt&&J<=v[X]+oe-1;J++)y[R+E[J]]!==k&&(jt=0);jt?(v[X]=Co(O),y[M+O]+=y[M+X],y[M+X]=0,y[I+X]=-1,X=y[b+X],y[b+Dt]=X):(Dt=X,X=y[b+X])}}for(J=re,_e=re;_e<se;_e++)O=E[_e],!((ve=-y[M+O])<=0)&&(y[M+O]=ve,Qe=y[P+O]+xe-ve,Qe=Math.min(Qe,d-B-ve),y[D+Qe]!==-1&&(L[y[D+Qe]]=O),y[b+O]=y[D+Qe],L[O]=-1,y[D+Qe]=O,W=Math.min(W,Qe),y[P+O]=Qe,E[J++]=O);y[M+ne]=Q,(y[T+ne]=J-re)===0&&(v[ne]=-1,y[R+ne]=0),Y!==0&&(_=J)}for(O=0;O<d;O++)v[O]=Co(v[O]);for(X=0;X<=d;X++)y[D+X]=-1;for(X=d;X>=0;X--)y[M+X]>0||(y[b+X]=y[D+v[X]],y[D+v[X]]=X);for(pe=d;pe>=0;pe--)y[M+pe]<=0||v[pe]!==-1&&(y[b+pe]=y[D+v[pe]],y[D+v[pe]]=pe);for(ne=0,O=0;O<=d;O++)v[O]===-1&&(ne=$g(O,ne,y,D,b,A,R));return A.splice(A.length-1,1),A};function i(s,c,f,p,m){var d=n(c);if(s===1&&p===f)return e(c,d);if(s===2){for(var h=d._index,w=d._ptr,x=0,E=0;E<f;E++){var v=w[E];if(w[E]=x,!(w[E+1]-v>m))for(var _=w[E+1];v<_;v++)h[x++]=h[v]}return w[f]=x,c=n(d),t(d,c)}return t(d,c)}function a(s,c,f,p,m,d,h,w,x,E,v,_){for(var A=0;A<s;A++)f[p+A]=c[A+1]-c[A];f[p+s]=0;for(var y=0;y<=s;y++)f[m+y]=-1,d[y]=-1,f[h+y]=-1,f[w+y]=-1,f[x+y]=1,f[E+y]=1,f[v+y]=0,f[_+y]=f[p+y];var T=u(0,0,f,E,s);return f[v+s]=-2,c[s]=-1,f[E+s]=0,T}function o(s,c,f,p,m,d,h,w,x,E,v){for(var _=0,A=0;A<s;A++){var y=f[p+A];if(y===0)f[m+A]=-2,_++,c[A]=-1,f[d+A]=0;else if(y>h)f[w+A]=0,f[m+A]=-1,_++,c[A]=Co(s),f[w+s]++;else{var T=f[x+y];T!==-1&&(E[T]=A),f[v+A]=f[x+y],f[x+y]=A}}return _}function u(s,c,f,p,m){if(s<2||s+c<0){for(var d=0;d<m;d++)f[p+d]!==0&&(f[p+d]=1);s=2}return s}function l(s,c){return s!==c}});function c$(r,e,t,n,i,a,o){var u,l,s=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,c=r;else{for(s=2,c=f;c!==t[o+c];c=t[o+c]);for(u=f;u!==c;u=l)l=t[o+u],t[o+u]=c}return{jleaf:s,q:c}}var Qee="csCounts",Kee=["transpose"],f$=C(Qee,Kee,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,u=o[0],l=o[1],s,c,f,p,m,d,h,w=4*l+(a?l+u+1:0),x=[],E=0,v=l,_=2*l,A=3*l,y=4*l,T=5*l+1;for(f=0;f<w;f++)x[f]=-1;var M=[],b=e(t),D=b._index,I=b._ptr;for(f=0;f<l;f++)for(c=i[f],M[c]=x[A+c]===-1?1:0;c!==-1&&x[A+c]===-1;c=n[c])x[A+c]=f;if(a){for(f=0;f<l;f++)x[i[f]]=f;for(s=0;s<u;s++){for(f=l,d=I[s],h=I[s+1],m=d;m<h;m++)f=Math.min(f,x[D[m]]);x[T+s]=x[y+f],x[y+f]=s}}for(s=0;s<l;s++)x[E+s]=s;for(f=0;f<l;f++){for(c=i[f],n[c]!==-1&&M[n[c]]--,p=a?x[y+f]:c;p!==-1;p=a?x[T+p]:-1)for(m=I[p];m<I[p+1];m++){s=D[m];var P=c$(s,c,x,A,v,_,E);P.jleaf>=1&&M[c]++,P.jleaf===2&&M[P.q]--}n[c]!==-1&&(x[E+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(M[n[c]]+=M[c]);return M}});var ete="csSqr",tte=["add","multiply","transpose"],p$=C(ete,tte,r=>{var{add:e,multiply:t,transpose:n}=r,i=l$({add:e,multiply:t,transpose:n}),a=f$({transpose:n});return function(l,s,c){var f=s._ptr,p=s._size,m=p[1],d,h={};if(h.q=i(l,s),l&&!h.q)return null;if(c){var w=l?a$(s,null,h.q,0):s;h.parent=s$(w,1);var x=o$(h.parent,m);if(h.cp=a(w,h.parent,x,1),w&&h.parent&&h.cp&&o(w,h))for(h.unz=0,d=0;d<m;d++)h.unz+=h.cp[d]}else h.unz=4*f[m]+m,h.lnz=h.unz;return h};function o(u,l){var s=u._ptr,c=u._index,f=u._size,p=f[0],m=f[1];l.pinv=[],l.leftmost=[];var d=l.parent,h=l.pinv,w=l.leftmost,x=[],E=0,v=p,_=p+m,A=p+2*m,y,T,M,b,D;for(T=0;T<m;T++)x[v+T]=-1,x[_+T]=-1,x[A+T]=0;for(y=0;y<p;y++)w[y]=-1;for(T=m-1;T>=0;T--)for(b=s[T],D=s[T+1],M=b;M<D;M++)w[c[M]]=T;for(y=p-1;y>=0;y--)h[y]=-1,T=w[y],T!==-1&&(x[A+T]++===0&&(x[_+T]=y),x[E+y]=x[v+T],x[v+T]=y);for(l.lnz=0,l.m2=p,T=0;T<m;T++)if(y=x[v+T],l.lnz++,y<0&&(y=l.m2++),h[y]=T,!(--A[T]<=0)){l.lnz+=x[A+T];var I=d[T];I!==-1&&(x[A+I]===0&&(x[_+I]=x[_+T]),x[E+x[_+T]]=x[v+I],x[v+I]=x[E+y],x[A+I]+=x[A+T])}for(y=0;y<p;y++)h[y]<0&&(h[y]=T++);return!0}});function Wp(r,e){return r[e]<0}function Og(r,e){r[e]=Co(r[e])}function BS(r){return r<0?Co(r):r}function m$(r,e,t,n,i){var a=e._index,o=e._ptr,u=e._size,l=u[1],s,c,f,p=0;for(n[0]=r;p>=0;){r=n[p];var m=i?i[r]:r;Wp(o,r)||(Og(o,r),n[l+p]=m<0?0:BS(o[m]));var d=1;for(c=n[l+p],f=m<0?0:BS(o[m+1]);c<f;c++)if(s=a[c],!Wp(o,s)){n[l+p]=c,n[++p]=s,d=0;break}d&&(p--,n[--t]=r)}return t}function d$(r,e,t,n,i){var a=r._ptr,o=r._size,u=e._index,l=e._ptr,s=o[1],c,f,p,m=s;for(f=l[t],p=l[t+1],c=f;c<p;c++){var d=u[c];Wp(a,d)||(m=m$(d,r,m,n,i))}for(c=m;c<s;c++)Og(a,n[c]);return m}var rte="csSpsolve",nte=["divideScalar","multiply","subtract"],h$=C(rte,nte,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,u,l,s,c,f){var p=a._values,m=a._index,d=a._ptr,h=a._size,w=h[1],x=o._values,E=o._index,v=o._ptr,_,A,y,T,M=d$(a,o,u,l,c);for(_=M;_<w;_++)s[l[_]]=0;for(A=v[u],y=v[u+1],_=A;_<y;_++)s[E[_]]=x[_];for(var b=M;b<w;b++){var D=l[b],I=c?c[D]:D;if(!(I<0))for(A=d[I],y=d[I+1],s[D]=e(s[D],p[f?A:y-1]),_=f?A+1:A,T=f?y:y-1;_<T;_++){var P=m[_];s[P]=n(s[P],t(p[_],s[D]))}}return M}});var ite="csLu",ate=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],g$=C(ite,ate,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:u}=r,l=h$({divideScalar:t,multiply:n,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,d=m[1],h,w=100,x=100;f&&(h=f.q,w=f.lnz||w,x=f.unz||x);var E=[],v=[],_=[],A=new u({values:E,index:v,ptr:_,size:[d,d]}),y=[],T=[],M=[],b=new u({values:y,index:T,ptr:M,size:[d,d]}),D=[],I,P,R=[],q=[];for(I=0;I<d;I++)R[I]=0,D[I]=-1,_[I+1]=0;w=0,x=0;for(var L=0;L<d;L++){_[L]=w,M[L]=x;var k=h?h[L]:L,B=l(A,c,k,q,R,D,1),W=-1,O=-1;for(P=B;P<d;P++)if(I=q[P],D[I]<0){var X=e(R[I]);a(X,O)&&(O=X,W=I)}else T[x]=D[I],y[x++]=R[I];if(W===-1||O<=0)return null;D[k]<0&&o(e(R[k]),n(O,p))&&(W=k);var ne=R[W];for(T[x]=L,y[x++]=ne,D[W]=L,v[w]=W,E[w++]=1,P=B;P<d;P++)I=q[P],D[I]<0&&(v[w]=I,E[w++]=t(R[I],ne)),R[I]=0}for(_[d]=w,M[d]=x,P=0;P<w;P++)v[P]=D[v[P]];return E.splice(w,E.length-w),v.splice(w,v.length-w),y.splice(x,y.length-x),T.splice(x,T.length-x),{L:A,U:b,pinv:D}}});var v$="slu",ote=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],kS=C(v$,ote,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:u,larger:l,largerEq:s,SparseMatrix:c}=r,f=p$({add:n,multiply:i,transpose:a}),p=g$({abs:t,divideScalar:o,multiply:i,subtract:u,larger:l,largerEq:s,SparseMatrix:c});return e(v$,{"SparseMatrix, number, number":function(d,h,w){if(!Je(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(w<0||w>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var x=f(h,d,!1),E=p(d,x,w);return{L:E.L,U:E.U,p:E.pinv,q:x.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function $S(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var y$="lusolve",ste=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],OS=C(y$,ste,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:u}=r,l=Xo({DenseMatrix:u});return e(y$,{"Array, Array | Matrix":function(p,m){p=t(p);var d=n(p),h=c(d.L,d.U,d.p,null,m);return h.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var d=n(p);return c(d.L,d.U,d.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var d=n(p);return c(d.L,d.U,d.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,d,h){var w=i(p,d,h);return c(w.L,w.U,w.p,w.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function s(f){if(et(f))return f;if(ur(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,d,h){f=s(f),p=s(p),m&&(h=l(f,h,!0),h._data=$S(m,h._data));var w=o(f,h),x=a(p,w);return d&&(x._data=$S(d,x._data)),x}});var x$="polynomialRoot",ute=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],RS=C(x$,ute,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:u,sqrt:l,unaryMinus:s,cbrt:c,typeOf:f,im:p,re:m}=r;return e(x$,{"number|Complex, ...number|Complex":(d,h)=>{for(var w=[d,...h];w.length>0&&t(w[w.length-1]);)w.pop();if(w.length<2)throw new RangeError("Polynomial [".concat(d,", ").concat(h,"] must have a non-zero non-constant coefficient"));switch(w.length){case 2:return[s(u(w[0],w[1]))];case 3:{var[x,E,v]=w,_=o(2,v),A=o(E,E),y=o(4,v,x);if(n(A,y))return[u(s(E),_)];var T=l(a(A,y));return[u(a(T,E),_),u(a(s(T),E),_)]}case 4:{var[M,b,D,I]=w,P=s(o(3,I)),R=o(D,D),q=o(3,I,b),L=i(o(2,D,D,D),o(27,I,I,M)),k=o(9,I,D,b);if(n(R,q)&&n(L,k))return[u(D,P)];var B=a(R,q),W=a(L,k),O=i(o(18,I,D,b,M),o(D,D,b,b)),X=i(o(4,D,D,D,M),o(4,I,b,b,b),o(27,I,I,M,M));if(n(O,X))return[u(a(o(4,I,D,b),i(o(9,I,I,M),o(D,D,D))),o(I,B)),u(a(o(9,I,M),o(D,b)),o(2,B))];var ne;n(R,q)?ne=W:ne=u(i(W,l(a(o(W,W),o(4,B,B,B)))),2);var Z=!0,U=c(ne,Z).toArray().map(pe=>u(i(D,pe,u(B,pe)),P));return U.map(pe=>f(pe)==="Complex"&&n(m(pe),m(pe)+p(pe))?m(pe):pe)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(w))}}})});var lte="Help",cte=["evaluate"],LS=C(lte,cte,r=>{var{evaluate:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),u={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var s=n.examples[l];i+="    "+s+`
`;var c=void 0;try{c=e(s,u)}catch(f){c=f}c!==void 0&&!Mh(c)&&(i+="        "+Et(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=ht(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var fte="Chain",pte=["?on","math","typed"],US=C(fte,pte,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Dh(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Et(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,c){typeof c=="function"&&(i.prototype[s]=u(c))}function o(s,c){$I(i.prototype,s,function(){var p=c();if(typeof p=="function")return u(p)})}function u(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(s)){var p=n.resolve(s,c);if(p.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(s,c))}return new i(s.apply(s,c))}}i.createProxy=function(s,c){if(typeof s=="string")a(s,c);else{var f=function(d){nt(s,d)&&l[d]===void 0&&o(d,()=>s[d])};for(var p in s)f(p)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,c,f){f||o(s,c)}),i},{isClass:!0});var VS={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var b$={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var w$={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var _$={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var S$={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var A$={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var E$={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var T$={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var M$={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var D$={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var C$={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var qS={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var N$={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var F$={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var I$={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var P$={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var B$={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var k$={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]};var $$={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]};var O$={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var R$={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var L$={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var U$={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var V$={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var q$={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var z$={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]};var H$={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var G$={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var W$={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var Y$={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var j$={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var Z$={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var J$={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var X$={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var Q$={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var K$={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var eO={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var tO={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var rO={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var nO={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var iO={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var aO={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var oO={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var sO={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var uO={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var lO={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var cO={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var fO={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var pO={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var mO={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var dO={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var hO={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var gO={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var vO={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var yO={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var xO={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var bO={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var wO={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var _O={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var SO={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var AO={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var EO={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var TO={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var MO={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var DO={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var CO={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var NO={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var FO={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var IO={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var PO={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var BO={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var kO={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var $O={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var OO={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var RO={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var LO={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var UO={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var VO={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var qO={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var zO={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var HO={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var GO={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var WO={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var YO={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var jO={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var ZO={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var JO={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var XO={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var QO={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var KO={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var eR={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var tR={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var rR={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var nR={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var iR={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var aR={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var oR={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var sR={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var uR={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var lR={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var cR={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var fR={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var pR={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var mR={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var dR={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var hR={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var gR={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var vR={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var yR={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var xR={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var bR={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var wR={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var _R={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var SR={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var AR={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var ER={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var TR={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var MR={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var DR={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var CR={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var NR={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var FR={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var IR={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var PR={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var BR={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var kR={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var $R={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var OR={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var RR={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var LR={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var UR={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var VR={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]};var qR={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var zR={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var HR={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var GR={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var WR={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var YR={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var jR={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var ZR={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var JR={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var XR={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var QR={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var KR={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var eL={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var tL={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var rL={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var nL={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var iL={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var aL={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var oL={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var sL={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var uL={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var lL={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var cL={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var fL={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var pL={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var mL={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var dL={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var hL={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var gL={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var vL={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var yL={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var xL={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var bL={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var wL={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var _L={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var SL={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var AL={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var EL={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var TL={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var ML={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var DL={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var CL={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var NL={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var FL={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var IL={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var PL={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var BL={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var kL={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var $L={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var OL={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var RL={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var LL={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var UL={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var VL={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var qL={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var zL={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var HL={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var GL={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var WL={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var YL={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var jL={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var ZL={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var JL={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var XL={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var QL={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var KL={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var e3={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var t3={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var r3={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var n3={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var i3={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var a3={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var o3={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var s3={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var u3={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var l3={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var c3={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var f3={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var p3={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var m3={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var d3={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var h3={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var g3={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var v3={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var y3={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var x3={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var b3={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var w3={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var _3={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var S3={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var A3={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var E3={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var T3={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var M3={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var D3={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var C3={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var N3={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var F3={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var I3={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var P3={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var B3={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var k3={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var $3={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var O3={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var R3={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var L3={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var U3={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var V3={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]};var q3={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var z3={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var H3={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var G3={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var W3={bignumber:k$,bigint:$$,boolean:O$,complex:R$,createUnit:L$,fraction:U$,index:V$,matrix:q$,number:z$,sparse:H$,splitUnit:G$,string:W$,unit:Y$,e:VS,E:VS,false:b$,i:w$,Infinity:_$,LN2:A$,LN10:S$,LOG2E:T$,LOG10E:E$,NaN:M$,null:D$,pi:qS,PI:qS,phi:C$,SQRT1_2:N$,SQRT2:F$,tau:I$,true:P$,version:B$,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:X$,lsolve:K$,lsolveAll:eO,lup:tO,lusolve:rO,leafCount:Q$,polynomialRoot:nO,resolve:oO,simplify:sO,simplifyConstant:uO,simplifyCore:lO,symbolicEqual:fO,rationalize:aO,slu:cO,usolve:pO,usolveAll:mO,qr:iO,abs:dO,add:hO,cbrt:gO,ceil:vO,cube:yO,divide:xO,dotDivide:bO,dotMultiply:wO,dotPow:_O,exp:SO,expm:AO,expm1:EO,fix:TO,floor:MO,gcd:DO,hypot:CO,lcm:FO,log:IO,log2:kO,log1p:BO,log10:PO,mod:$O,multiply:OO,norm:RO,nthRoot:LO,nthRoots:UO,pow:VO,round:qO,sign:zO,sqrt:HO,sqrtm:GO,square:ZO,subtract:JO,unaryMinus:XO,unaryPlus:QO,xgcd:KO,invmod:NO,bitAnd:eR,bitNot:tR,bitOr:rR,bitXor:nR,leftShift:iR,rightArithShift:aR,rightLogShift:oR,bellNumbers:sR,catalan:uR,composition:lR,stirlingS2:cR,config:j$,import:Z$,typed:J$,arg:fR,conj:pR,re:dR,im:mR,evaluate:hR,help:gR,distance:vR,intersect:yR,and:xR,not:bR,or:wR,xor:_R,concat:AR,count:ER,cross:TR,column:SR,ctranspose:MR,det:DR,diag:CR,diff:NR,dot:FR,getMatrixDataType:$R,identity:OR,filter:PR,flatten:BR,forEach:kR,inv:RR,pinv:LR,eigs:IR,kron:UR,matrixFromFunction:zR,matrixFromRows:HR,matrixFromColumns:qR,map:VR,ones:GR,partitionSelect:WR,range:YR,resize:ZR,reshape:jR,rotate:JR,rotationMatrix:XR,row:QR,size:KR,sort:eL,squeeze:tL,subset:rL,trace:nL,transpose:iL,zeros:aL,fft:oL,ifft:sL,sylvester:WO,schur:YO,lyap:jO,solveODE:G3,combinations:uL,combinationsWithRep:lL,factorial:cL,gamma:fL,kldivergence:mL,lgamma:pL,multinomial:dL,permutations:hL,pickRandom:gL,random:vL,randomInt:yL,compare:xL,compareNatural:bL,compareText:wL,deepEqual:_L,equal:SL,equalText:AL,larger:EL,largerEq:TL,smaller:ML,smallerEq:DL,unequal:CL,setCartesian:NL,setDifference:FL,setDistinct:IL,setIntersect:PL,setIsSubset:BL,setMultiplicity:kL,setPowerset:$L,setSize:OL,setSymDifference:RL,setUnion:LL,zpk2tf:UL,freqz:VL,erf:qL,zeta:zL,cumsum:KL,mad:HL,max:GL,mean:WL,median:YL,min:jL,mode:ZL,prod:JL,quantileSeq:XL,std:QL,sum:e3,variance:t3,corr:r3,acos:n3,acosh:i3,acot:a3,acoth:o3,acsc:s3,acsch:u3,asec:l3,asech:c3,asin:f3,asinh:p3,atan:m3,atanh:h3,atan2:d3,cos:g3,cosh:v3,cot:y3,coth:x3,csc:b3,csch:w3,sec:_3,sech:S3,sin:A3,sinh:E3,tan:T3,tanh:M3,to:D3,clone:N3,format:F3,bin:C3,oct:q3,hex:P3,isNaN:k3,isInteger:B3,isNegative:$3,isNumeric:O3,hasNumericValue:I3,isPositive:R3,isPrime:L3,isZero:U3,print:z3,typeOf:H3,numeric:V3};var Y3="help",mte=["typed","mathWithTransform","Help"],zS=C(Y3,mte,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(Y3,{any:function(a){var o,u=a;if(typeof a!="string"){for(o in t)if(nt(t,o)&&a===t[o]){u=o;break}}var l=Qr(W3,u);if(!l){var s=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+s+'"')}return new n(l)}})});var j3="chain",dte=["typed","Chain"],HS=C(j3,dte,r=>{var{typed:e,Chain:t}=r;return e(j3,{"":function(){return new t},any:function(i){return new t(i)}})});var Z3="det",hte=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],GS=C(Z3,hte,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:u}=r;return e(Z3,{any:function(c){return ht(c)},"Array | Matrix":function(c){var f;switch(et(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return ht(c);case 1:if(f[0]===1)return ht(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Et(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return l(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+Et(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Et(f)+")")}}});function l(s,c,f){if(c===1)return ht(s[0][0]);if(c===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var p=!1,m=new Array(c).fill(0).map((T,M)=>M),d=0;d<c;d++){var h=m[d];if(o(s[h][d])){var w=void 0;for(w=d+1;w<c;w++)if(!o(s[m[w]][d])){h=m[w],m[w]=m[d],m[d]=h,p=!p;break}if(w===c)return s[h][d]}for(var x=s[h][d],E=d===0?1:s[m[d-1]][d-1],v=d+1;v<c;v++)for(var _=m[v],A=d+1;A<c;A++)s[_][A]=a(n(i(s[_][A],x),i(s[_][d],s[h][A])),E)}var y=s[m[c-1]][c-1];return p?u(y):y}});var J3="inv",gte=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],WS=C(J3,gte,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:u,identity:l,abs:s}=r;return e(J3,{"Array | Matrix":function(p){var m=et(p)?p.size():mt(p);switch(m.length){case 1:if(m[0]===1)return et(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+Et(m)+")");case 2:{var d=m[0],h=m[1];if(d===h)return et(p)?t(c(p.valueOf(),d,h),p.storage()):c(p,d,h);throw new RangeError("Matrix must be square (size: "+Et(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Et(m)+")")}},any:function(p){return n(1,p)}});function c(f,p,m){var d,h,w,x,E;if(p===1){if(x=f[0][0],x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,x)]]}else if(p===2){var v=u(f);if(v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],v),n(o(f[0][1]),v)],[n(o(f[1][0]),v),n(f[0][0],v)]]}else{var _=f.concat();for(d=0;d<p;d++)_[d]=_[d].concat();for(var A=l(p).valueOf(),y=0;y<m;y++){var T=s(_[y][y]),M=y;for(d=y+1;d<p;)s(_[d][y])>T&&(T=s(_[d][y]),M=d),d++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");d=M,d!==y&&(E=_[y],_[y]=_[d],_[d]=E,E=A[y],A[y]=A[d],A[d]=E);var b=_[y],D=A[y];for(d=0;d<p;d++){var I=_[d],P=A[d];if(d!==y){if(I[y]!==0){for(w=n(o(I[y]),b[y]),h=y;h<m;h++)I[h]=i(I[h],a(w,b[h]));for(h=0;h<m;h++)P[h]=i(P[h],a(w,D[h]))}}else{for(w=b[y],h=y;h<m;h++)I[h]=n(I[h],w);for(h=0;h<m;h++)P[h]=n(P[h],w)}}}return A}}});var X3="pinv",vte=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],YS=C(X3,vte,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:u,ctranspose:l,divideScalar:s,multiply:c,add:f,Complex:p}=r;return e(X3,{"Array | Matrix":function(v){var _=et(v)?v.size():mt(v);switch(_.length){case 1:return x(v)?l(v):_[0]===1?n(v):o(l(v),u(v,v));case 2:{if(x(v))return l(v);var A=_[0],y=_[1];if(A===y)try{return n(v)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return et(v)?t(m(v.valueOf(),A,y),v.storage()):m(v,A,y)}default:throw new RangeError("Matrix must be two dimensional (size: "+Et(_)+")")}},any:function(v){return a(v,0)?ht(v):s(1,v)}});function m(E,v,_){var{C:A,F:y}=h(E,v,_),T=c(n(c(l(A),A)),l(A)),M=c(l(y),n(c(y,l(y))));return c(M,T)}function d(E,v,_){for(var A=ht(E),y=0,T=0;T<v;T++){if(_<=y)return A;for(var M=T;w(A[M][y]);)if(M++,v===M&&(M=T,y++,_===y))return A;[A[M],A[T]]=[A[T],A[M]];for(var b=A[T][y],D=0;D<_;D++)A[T][D]=o(A[T][D],b);for(var I=0;I<v;I++)if(I!==T){b=A[I][y];for(var P=0;P<_;P++)A[I][P]=f(A[I][P],c(-1,c(b,A[T][P])))}y++}return A}function h(E,v,_){var A=d(E,v,_),y=E.map((M,b)=>M.filter((D,I)=>I<v&&!w(u(A[I],A[I])))),T=A.filter((M,b)=>!w(u(A[b],A[b])));return{C:y,F:T}}function w(E){return a(f(E,p(1,1)),f(0,p(1,1)))}function x(E){return i(f(E,p(1,1)),f(c(E,0),p(1,1)))}});function Q3(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:u,abs:l,bignumber:s,diag:c,size:f,reshape:p,inv:m,qr:d,usolve:h,usolveAll:w,equal:x,complex:E,larger:v,smaller:_,matrixFromColumns:A,dot:y}=r;function T(Z,U,pe,me){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ve=M(Z,U,pe,me,oe);b(Z,U,pe,me,oe,ve);var{values:_e,C:ye}=D(Z,U,pe,me,oe);if(oe){var be=I(Z,U,ye,ve,_e,pe,me);return{values:_e,eigenvectors:be}}return{values:_e}}function M(Z,U,pe,me,oe){var ve=me==="BigNumber",_e=me==="Complex",ye=ve?s(0):0,be=ve?s(1):_e?E(1):1,we=ve?s(1):1,Ee=ve?s(10):2,qe=a(Ee,Ee),Qe;oe&&(Qe=Array(U).fill(be));for(var Y=!1;!Y;){Y=!0;for(var Q=0;Q<U;Q++){for(var xe=ye,J=ye,re=0;re<U;re++)Q!==re&&(xe=e(xe,l(Z[re][Q])),J=e(J,l(Z[Q][re])));if(!x(xe,0)&&!x(J,0)){for(var se=we,Ae=xe,Te=o(J,Ee),Ve=a(J,Ee);_(Ae,Te);)Ae=a(Ae,qe),se=a(se,Ee);for(;v(Ae,Ve);)Ae=o(Ae,qe),se=o(se,Ee);var Se=_(o(e(Ae,J),se),a(e(xe,J),.95));if(Se){Y=!1;for(var wt=o(1,se),Dt=0;Dt<U;Dt++)Q!==Dt&&(Z[Q][Dt]=a(Z[Q][Dt],wt),Z[Dt][Q]=a(Z[Dt][Q],se));oe&&(Qe[Q]=a(Qe[Q],wt))}}}}return oe?c(Qe):null}function b(Z,U,pe,me,oe,ve){var _e=me==="BigNumber",ye=me==="Complex",be=_e?s(0):ye?E(0):0;_e&&(pe=s(pe));for(var we=0;we<U-2;we++){for(var Ee=0,qe=be,Qe=we+1;Qe<U;Qe++){var Y=Z[Qe][we];_(l(qe),l(Y))&&(qe=Y,Ee=Qe)}if(!_(l(qe),pe)){if(Ee!==we+1){var Q=Z[Ee];Z[Ee]=Z[we+1],Z[we+1]=Q;for(var xe=0;xe<U;xe++){var J=Z[xe][Ee];Z[xe][Ee]=Z[xe][we+1],Z[xe][we+1]=J}if(oe){var re=ve[Ee];ve[Ee]=ve[we+1],ve[we+1]=re}}for(var se=we+2;se<U;se++){var Ae=o(Z[se][we],qe);if(Ae!==0){for(var Te=0;Te<U;Te++)Z[se][Te]=t(Z[se][Te],a(Ae,Z[we+1][Te]));for(var Ve=0;Ve<U;Ve++)Z[Ve][we+1]=e(Z[Ve][we+1],a(Ae,Z[Ve][se]));if(oe)for(var Se=0;Se<U;Se++)ve[se][Se]=t(ve[se][Se],a(Ae,ve[we+1][Se]))}}}}return ve}function D(Z,U,pe,me,oe){var ve=me==="BigNumber",_e=me==="Complex",ye=ve?s(1):_e?E(1):1;ve&&(pe=s(pe));for(var be=ht(Z),we=[],Ee=U,qe=[],Qe=oe?c(Array(U).fill(ye)):void 0,Y=oe?c(Array(Ee).fill(ye)):void 0,Q=0;Q<=100;){Q+=1;for(var xe=be[Ee-1][Ee-1],J=0;J<Ee;J++)be[J][J]=t(be[J][J],xe);var{Q:re,R:se}=d(be);be=i(se,re);for(var Ae=0;Ae<Ee;Ae++)be[Ae][Ae]=e(be[Ae][Ae],xe);if(oe&&(Y=i(Y,re)),Ee===1||_(l(be[Ee-1][Ee-2]),pe)){Q=0,we.push(be[Ee-1][Ee-1]),oe&&(qe.unshift([[1]]),q(Y,U),Qe=i(Qe,Y),Ee>1&&(Y=c(Array(Ee-1).fill(ye)))),Ee-=1,be.pop();for(var Te=0;Te<Ee;Te++)be[Te].pop()}else if(Ee===2||_(l(be[Ee-2][Ee-3]),pe)){Q=0;var Ve=P(be[Ee-2][Ee-2],be[Ee-2][Ee-1],be[Ee-1][Ee-2],be[Ee-1][Ee-1]);we.push(...Ve),oe&&(qe.unshift(R(be[Ee-2][Ee-2],be[Ee-2][Ee-1],be[Ee-1][Ee-2],be[Ee-1][Ee-1],Ve[0],Ve[1],pe,me)),q(Y,U),Qe=i(Qe,Y),Ee>2&&(Y=c(Array(Ee-2).fill(ye)))),Ee-=2,be.pop(),be.pop();for(var Se=0;Se<Ee;Se++)be[Se].pop(),be[Se].pop()}if(Ee===0)break}if(we.sort((jt,Tt)=>+t(l(jt),l(Tt))),Q>100){var wt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+we.join(", "));throw wt.values=we,wt.vectors=[],wt}var Dt=oe?i(Qe,L(qe,U)):void 0;return{values:we,C:Dt}}function I(Z,U,pe,me,oe,ve,_e){var ye=m(pe),be=i(ye,Z,pe),we=_e==="BigNumber",Ee=_e==="Complex",qe=we?s(0):Ee?E(0):0,Qe=we?s(1):Ee?E(1):1,Y=[],Q=[];for(var xe of oe){var J=k(Y,xe,x);J===-1?(Y.push(xe),Q.push(1)):Q[J]+=1}for(var re=[],se=Y.length,Ae=Array(U).fill(qe),Te=c(Array(U).fill(Qe)),Ve=function(){var Dt=Y[Se],jt=t(be,i(Dt,Te)),Tt=w(jt,Ae);for(Tt.shift();Tt.length<Q[Se];){var j=B(jt,U,Tt,ve,_e);if(j===null)break;Tt.push(j)}var le=i(m(me),pe);Tt=Tt.map(fe=>i(le,fe)),re.push(...Tt.map(fe=>({value:Dt,vector:n(fe)})))},Se=0;Se<se;Se++)Ve();return re}function P(Z,U,pe,me){var oe=e(Z,me),ve=t(a(Z,me),a(U,pe)),_e=a(oe,.5),ye=a(u(t(a(oe,oe),a(4,ve))),.5);return[e(_e,ye),t(_e,ye)]}function R(Z,U,pe,me,oe,ve,_e,ye){var be=ye==="BigNumber",we=ye==="Complex",Ee=be?s(0):we?E(0):0,qe=be?s(1):we?E(1):1;if(_(l(pe),_e))return[[qe,Ee],[Ee,qe]];if(v(l(t(oe,ve)),_e))return[[t(oe,me),t(ve,me)],[pe,pe]];var Qe=t(Z,oe),Y=t(me,oe);return _(l(U),_e)&&_(l(Y),_e)?[[Qe,qe],[pe,Ee]]:[[U,Ee],[Y,qe]]}function q(Z,U){for(var pe=0;pe<Z.length;pe++)Z[pe].push(...Array(U-Z[pe].length).fill(0));for(var me=Z.length;me<U;me++)Z.push(Array(U).fill(0)),Z[me][me]=1;return Z}function L(Z,U){for(var pe=[],me=0;me<U;me++)pe[me]=Array(U).fill(0);var oe=0;for(var ve of Z){for(var _e=ve.length,ye=0;ye<_e;ye++)for(var be=0;be<_e;be++)pe[oe+ye][oe+be]=ve[ye][be];oe+=_e}return pe}function k(Z,U,pe){for(var me=0;me<Z.length;me++)if(pe(Z[me],U))return me;return-1}function B(Z,U,pe,me,oe){for(var ve=oe==="BigNumber"?s(1e3):1e3,_e,ye=0;ye<5;++ye){_e=W(U,pe,oe);try{_e=h(Z,_e)}catch{continue}if(v(X(_e),ve))break}if(ye>=5)return null;for(ye=0;;){var be=h(Z,_e);if(_(X(O(_e,[be])),me))break;if(++ye>=10)return null;_e=ne(be)}return _e}function W(Z,U,pe){var me=pe==="BigNumber",oe=pe==="Complex",ve=Array(Z).fill(0).map(_e=>2*Math.random()-1);return me&&(ve=ve.map(_e=>s(_e))),oe&&(ve=ve.map(_e=>E(_e))),ve=O(ve,U),ne(ve,pe)}function O(Z,U){var pe=f(Z);for(var me of U)me=p(me,pe),Z=t(Z,i(o(y(me,Z),y(me,me)),me));return Z}function X(Z){return l(u(y(Z,Z)))}function ne(Z,U){var pe=U==="BigNumber",me=U==="Complex",oe=pe?s(1):me?E(1):1;return i(o(oe,X(Z)),Z)}return T}function K3(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:u,multiplyScalar:l,inv:s,bignumber:c,multiply:f,add:p}=r;function m(b,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,P=arguments.length>3?arguments[3]:void 0,R=arguments.length>4?arguments[4]:void 0;if(P==="number")return d(b,I,R);if(P==="BigNumber")return h(b,I,R);throw TypeError("Unsupported data type: "+P)}function d(b,D,I){var P=b.length,R=Math.abs(D/P),q,L;if(I){L=new Array(P);for(var k=0;k<P;k++)L[k]=Array(P).fill(0),L[k][k]=1}for(var B=y(b);Math.abs(B[1])>=Math.abs(R);){var W=B[0][0],O=B[0][1];q=w(b[W][W],b[O][O],b[W][O]),b=A(b,q,W,O),I&&(L=E(L,q,W,O)),B=y(b)}for(var X=Array(P).fill(0),ne=0;ne<P;ne++)X[ne]=b[ne][ne];return M(ht(X),L,I)}function h(b,D,I){var P=b.length,R=i(D/P),q,L;if(I){L=new Array(P);for(var k=0;k<P;k++)L[k]=Array(P).fill(0),L[k][k]=1}for(var B=T(b);i(B[1])>=i(R);){var W=B[0][0],O=B[0][1];q=x(b[W][W],b[O][O],b[W][O]),b=_(b,q,W,O),I&&(L=v(L,q,W,O)),B=T(b)}for(var X=Array(P).fill(0),ne=0;ne<P;ne++)X[ne]=b[ne][ne];return M(ht(X),L,I)}function w(b,D,I){var P=D-b;return Math.abs(P)<=e.relTol?Math.PI/4:.5*Math.atan(2*I/(D-b))}function x(b,D,I){var P=n(D,b);return i(P)<=e.relTol?c(-1).acos().div(4):l(.5,a(f(2,I,s(P))))}function E(b,D,I,P){for(var R=b.length,q=Math.cos(D),L=Math.sin(D),k=Array(R).fill(0),B=Array(R).fill(0),W=0;W<R;W++)k[W]=q*b[W][I]-L*b[W][P],B[W]=L*b[W][I]+q*b[W][P];for(var O=0;O<R;O++)b[O][I]=k[O],b[O][P]=B[O];return b}function v(b,D,I,P){for(var R=b.length,q=o(D),L=u(D),k=Array(R).fill(c(0)),B=Array(R).fill(c(0)),W=0;W<R;W++)k[W]=n(l(q,b[W][I]),l(L,b[W][P])),B[W]=t(l(L,b[W][I]),l(q,b[W][P]));for(var O=0;O<R;O++)b[O][I]=k[O],b[O][P]=B[O];return b}function _(b,D,I,P){for(var R=b.length,q=c(o(D)),L=c(u(D)),k=l(q,q),B=l(L,L),W=Array(R).fill(c(0)),O=Array(R).fill(c(0)),X=f(c(2),q,L,b[I][P]),ne=t(n(l(k,b[I][I]),X),l(B,b[P][P])),Z=p(l(B,b[I][I]),X,l(k,b[P][P])),U=0;U<R;U++)W[U]=n(l(q,b[I][U]),l(L,b[P][U])),O[U]=t(l(L,b[I][U]),l(q,b[P][U]));b[I][I]=ne,b[P][P]=Z,b[I][P]=c(0),b[P][I]=c(0);for(var pe=0;pe<R;pe++)pe!==I&&pe!==P&&(b[I][pe]=W[pe],b[pe][I]=W[pe],b[P][pe]=O[pe],b[pe][P]=O[pe]);return b}function A(b,D,I,P){for(var R=b.length,q=Math.cos(D),L=Math.sin(D),k=q*q,B=L*L,W=Array(R).fill(0),O=Array(R).fill(0),X=k*b[I][I]-2*q*L*b[I][P]+B*b[P][P],ne=B*b[I][I]+2*q*L*b[I][P]+k*b[P][P],Z=0;Z<R;Z++)W[Z]=q*b[I][Z]-L*b[P][Z],O[Z]=L*b[I][Z]+q*b[P][Z];b[I][I]=X,b[P][P]=ne,b[I][P]=0,b[P][I]=0;for(var U=0;U<R;U++)U!==I&&U!==P&&(b[I][U]=W[U],b[U][I]=W[U],b[P][U]=O[U],b[U][P]=O[U]);return b}function y(b){for(var D=b.length,I=0,P=[0,1],R=0;R<D;R++)for(var q=R+1;q<D;q++)Math.abs(I)<Math.abs(b[R][q])&&(I=Math.abs(b[R][q]),P=[R,q]);return[P,I]}function T(b){for(var D=b.length,I=0,P=[0,1],R=0;R<D;R++)for(var q=R+1;q<D;q++)i(I)<i(b[R][q])&&(I=i(b[R][q]),P=[R,q]);return[P,I]}function M(b,D,I){var P=b.length,R=Array(P),q;if(I){q=Array(P);for(var L=0;L<P;L++)q[L]=Array(P)}for(var k=0;k<P;k++){for(var B=0,W=b[0],O=0;O<b.length;O++)i(b[O])<i(W)&&(B=O,W=b[B]);if(R[k]=b.splice(B,1)[0],I)for(var X=0;X<P;X++)q[k][X]=D[X][B],D[X].splice(B,1)}if(!I)return{values:R};var ne=q.map((Z,U)=>({value:R[U],vector:Z}));return{values:R,eigenvectors:ne}}return m}var yte="eigs",xte=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],jS=C(yte,xte,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:u,atan:l,cos:s,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:d,multiply:h,add:w,larger:x,column:E,flatten:v,number:_,complex:A,sqrt:y,diag:T,size:M,reshape:b,qr:D,usolve:I,usolveAll:P,im:R,re:q,smaller:L,matrixFromColumns:k,dot:B}=r,W=K3({config:e,addScalar:i,subtract:a,column:E,flatten:v,equal:o,abs:u,atan:l,cos:s,sin:c,multiplyScalar:f,inv:m,bignumber:d,complex:A,multiply:h,add:w}),O=Q3({config:e,addScalar:i,subtract:a,multiply:h,multiplyScalar:f,flatten:v,divideScalar:p,sqrt:y,abs:u,bignumber:d,diag:T,size:M,reshape:b,qr:D,inv:m,usolve:I,usolveAll:P,equal:o,complex:A,larger:x,smaller:L,matrixFromColumns:k,dot:B});return t("eigs",{Array:function(ve){return X(n(ve))},"Array, number|BigNumber":function(ve,_e){return X(n(ve),{precision:_e})},"Array, Object"(oe,ve){return X(n(oe),ve)},Matrix:function(ve){return X(ve,{matricize:!0})},"Matrix, number|BigNumber":function(ve,_e){return X(ve,{precision:_e,matricize:!0})},"Matrix, Object":function(ve,_e){var ye={matricize:!0};return rn(ye,_e),X(ve,ye)}});function X(oe){var ve,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye="eigenvectors"in _e?_e.eigenvectors:!0,be=(ve=_e.precision)!==null&&ve!==void 0?ve:e.relTol,we=ne(oe,be,ye);return _e.matricize&&(we.values=n(we.values),ye&&(we.eigenvectors=we.eigenvectors.map(Ee=>{var{value:qe,vector:Qe}=Ee;return{value:qe,vector:n(Qe)}}))),ye&&Object.defineProperty(we,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),we}function ne(oe,ve,_e){var ye=oe.toArray(),be=oe.size();if(be.length!==2||be[0]!==be[1])throw new RangeError("Matrix must be square (size: ".concat(Et(be),")"));var we=be[0];if(U(ye,we,ve)&&(pe(ye,we),Z(ye,we,ve))){var Ee=me(oe,ye,we);return W(ye,we,ve,Ee,_e)}var qe=me(oe,ye,we);return O(ye,we,ve,qe,_e)}function Z(oe,ve,_e){for(var ye=0;ye<ve;ye++)for(var be=ye;be<ve;be++)if(x(d(u(a(oe[ye][be],oe[be][ye]))),_e))return!1;return!0}function U(oe,ve,_e){for(var ye=0;ye<ve;ye++)for(var be=0;be<ve;be++)if(x(d(u(R(oe[ye][be]))),_e))return!1;return!0}function pe(oe,ve){for(var _e=0;_e<ve;_e++)for(var ye=0;ye<ve;ye++)oe[_e][ye]=q(oe[_e][ye])}function me(oe,ve,_e){var ye=oe.datatype();if(ye==="number"||ye==="BigNumber"||ye==="Complex")return ye;for(var be=!1,we=!1,Ee=!1,qe=0;qe<_e;qe++)for(var Qe=0;Qe<_e;Qe++){var Y=ve[qe][Qe];if(xt(Y)||Is(Y))be=!0;else if(ut(Y))we=!0;else if(zi(Y))Ee=!0;else throw TypeError("Unsupported type in Matrix: "+nr(Y))}if(we&&Ee&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ee){for(var Q=0;Q<_e;Q++)for(var xe=0;xe<_e;xe++)ve[Q][xe]=A(ve[Q][xe]);return"Complex"}if(we){for(var J=0;J<_e;J++)for(var re=0;re<_e;re++)ve[J][re]=d(ve[J][re]);return"BigNumber"}if(be){for(var se=0;se<_e;se++)for(var Ae=0;Ae<_e;Ae++)ve[se][Ae]=_(ve[se][Ae]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var e4="expm",bte=["typed","abs","add","identity","inv","multiply"],ZS=C(e4,bte,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(e4,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+Et(p)+")");for(var m=p[0],d=1e-15,h=u(f),w=l(h,d),x=w.q,E=w.j,v=o(f,Math.pow(2,-E)),_=i(m),A=i(m),y=1,T=v,M=-1,b=1;b<=x;b++)b>1&&(T=o(T,v),M=-M),y=y*(x-b+1)/((2*x-b+1)*b),_=n(_,o(y,T)),A=n(A,o(y*M,T));for(var D=o(a(A),_),I=0;I<E;I++)D=o(D,D);return Ao(f)?f.createSparseMatrix(D):D}});function u(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var d=0,h=0;h<f;h++)d+=t(c.get([m,h]));p=Math.max(d,p)}return p}function l(c,f){for(var p=30,m=0;m<p;m++)for(var d=0;d<=m;d++){var h=m-d;if(s(c,d,h)<f)return{q:d,j:h}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(c,f,p){for(var m=1,d=2;d<=f;d++)m*=d;for(var h=m,w=f+1;w<=2*f;w++)h*=w;var x=h*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(h*x)}});var t4="sqrtm",wte=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],JS=C(t4,wte,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:u,inv:l,size:s,max:c,identity:f}=r,p=1e3,m=1e-6;function d(h){var w,x=0,E=h,v=f(s(h));do{var _=E;if(E=i(.5,n(_,l(v))),v=i(.5,n(v,l(_))),w=c(t(u(E,_))),w>m&&++x>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(w>m);return E}return e(t4,{"Array | Matrix":function(w){var x=et(w)?w.size():mt(w);switch(x.length){case 1:if(x[0]===1)return a(w,o);throw new RangeError("Matrix must be square (size: "+Et(x)+")");case 2:{var E=x[0],v=x[1];if(E===v)return d(w);throw new RangeError("Matrix must be square (size: "+Et(x)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Et(x)+")")}}})});var r4="sylvester",_te=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],XS=C(r4,_te,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:u,transpose:l,index:s,subset:c,add:f,subtract:p,identity:m,lusolve:d,abs:h}=r;return e(r4,{"Matrix, Matrix, Matrix":w,"Array, Matrix, Matrix":function(E,v,_){return w(i(E),v,_)},"Array, Array, Matrix":function(E,v,_){return w(i(E),i(v),_)},"Array, Matrix, Array":function(E,v,_){return w(i(E),v,i(_))},"Matrix, Array, Matrix":function(E,v,_){return w(E,i(v),_)},"Matrix, Array, Array":function(E,v,_){return w(E,i(v),i(_))},"Matrix, Matrix, Array":function(E,v,_){return w(E,v,i(_))},"Array, Array, Array":function(E,v,_){return w(i(E),i(v),i(_)).toArray()}});function w(x,E,v){for(var _=E.size()[0],A=x.size()[0],y=t(x),T=y.T,M=y.U,b=t(a(-1,E)),D=b.T,I=b.U,P=a(a(l(M),v),I),R=o(0,A),q=[],L=(Ee,qe)=>u(Ee,qe,1),k=(Ee,qe)=>u(Ee,qe,0),B=0;B<_;B++)if(B<_-1&&h(c(D,s(B+1,B)))>1e-5){for(var W=k(c(P,s(R,B)),c(P,s(R,B+1))),O=0;O<B;O++)W=f(W,k(a(q[O],c(D,s(O,B))),a(q[O],c(D,s(O,B+1)))));var X=a(m(A),a(-1,c(D,s(B,B)))),ne=a(m(A),a(-1,c(D,s(B+1,B)))),Z=a(m(A),a(-1,c(D,s(B,B+1)))),U=a(m(A),a(-1,c(D,s(B+1,B+1)))),pe=k(L(f(T,X),ne),L(Z,f(T,U))),me=d(pe,W);q[B]=me.subset(s(o(0,A),0)),q[B+1]=me.subset(s(o(A,2*A),0)),B++}else{for(var oe=c(P,s(R,B)),ve=0;ve<B;ve++)oe=f(oe,a(q[ve],c(D,s(ve,B))));var _e=c(D,s(B,B)),ye=p(T,a(_e,m(A)));q[B]=d(ye,oe)}var be=i(n(...q)),we=a(M,a(be,l(I)));return we}});var n4="schur",Ste=["typed","matrix","identity","multiply","qr","norm","subtract"],QS=C(n4,Ste,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:u}=r;return e(n4,{Array:function(c){var f=l(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(s){var c=s.size()[0],f=s,p=n(c),m=0,d;do{d=f;var h=a(f),w=h.Q,x=h.R;if(f=i(x,w),p=i(p,w),m++>100)break}while(o(u(f,d))>1e-4);return{U:p,T:f}}});var i4="lyap",Ate=["typed","matrix","sylvester","multiply","transpose"],KS=C(i4,Ate,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(i4,{"Matrix, Matrix":function(u,l){return n(u,a(u),i(-1,l))},"Array, Matrix":function(u,l){return n(t(u),a(t(u)),i(-1,l))},"Matrix, Array":function(u,l){return n(u,a(t(u)),t(i(-1,l)))},"Array, Array":function(u,l){return n(t(u),a(t(u)),t(i(-1,l))).toArray()}})});var Ete="divide",Tte=["typed","matrix","multiply","equalScalar","divideScalar","inv"],eA=C(Ete,Tte,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,u=Cr({typed:e,equalScalar:i}),l=En({typed:e});return e("divide",Ch({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return l(c,f,a,!1)},"SparseMatrix, any":function(c,f){return u(c,f,a,!1)},"Array, any":function(c,f){return l(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var a4="distance",Mte=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],tA=C(a4,Mte,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:u,abs:l}=r;return e(a4,{"Array, Array, Array":function(A,y,T){if(A.length===2&&y.length===2&&T.length===2){if(!c(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(y,T))throw new TypeError("LinePoint1 should not be same with LinePoint2");var M=n(T[1],y[1]),b=n(y[0],T[0]),D=n(i(T[0],y[1]),i(y[0],T[1]));return w(A[0],A[1],M,b,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(A,y,T){if(Object.keys(A).length===2&&Object.keys(y).length===2&&Object.keys(T).length===2){if(!c(A))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(d(y),d(T)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in A&&"pointY"in A&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var M=n(T.lineTwoPtY,y.lineOnePtY),b=n(y.lineOnePtX,T.lineTwoPtX),D=n(i(T.lineTwoPtX,y.lineOnePtY),i(y.lineOnePtX,T.lineTwoPtY));return w(A.pointX,A.pointY,M,b,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(A,y){if(A.length===2&&y.length===3){if(!c(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return w(A[0],A[1],y[0],y[1],y[2])}else if(A.length===3&&y.length===6){if(!f(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return x(A[0],A[1],A[2],y[0],y[1],y[2],y[3],y[4],y[5])}else if(A.length===y.length&&A.length>0){if(!p(A))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return E(A,y)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(A,y){if(Object.keys(A).length===2&&Object.keys(y).length===3){if(!c(A))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in A&&"pointY"in A&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return w(A.pointX,A.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}else if(Object.keys(A).length===3&&Object.keys(y).length===6){if(!f(A))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in A&&"pointY"in A&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return x(A.pointX,A.pointY,A.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}else if(Object.keys(A).length===2&&Object.keys(y).length===2){if(!c(A))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in A&&"pointOneY"in A&&"pointTwoX"in y&&"pointTwoY"in y)return E([A.pointOneX,A.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(A).length===3&&Object.keys(y).length===3){if(!f(A))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in A&&"pointOneY"in A&&"pointOneZ"in A&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return E([A.pointOneX,A.pointOneY,A.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(A){if(!h(A))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return v(A)}});function s(_){return typeof _=="number"||ut(_)}function c(_){return _.constructor!==Array&&(_=d(_)),s(_[0])&&s(_[1])}function f(_){return _.constructor!==Array&&(_=d(_)),s(_[0])&&s(_[1])&&s(_[2])}function p(_){return Array.isArray(_)||(_=d(_)),_.every(s)}function m(_){return _.constructor!==Array&&(_=d(_)),s(_[0])&&s(_[1])&&s(_[2])&&s(_[3])&&s(_[4])&&s(_[5])}function d(_){for(var A=Object.keys(_),y=[],T=0;T<A.length;T++)y.push(_[A[T]]);return y}function h(_){if(_[0].length===2&&s(_[0][0])&&s(_[0][1])){if(_.some(A=>A.length!==2||!s(A[0])||!s(A[1])))return!1}else if(_[0].length===3&&s(_[0][0])&&s(_[0][1])&&s(_[0][2])){if(_.some(A=>A.length!==3||!s(A[0])||!s(A[1])||!s(A[2])))return!1}else return!1;return!0}function w(_,A,y,T,M){var b=l(t(t(i(y,_),i(T,A)),M)),D=u(t(i(y,y),i(T,T)));return a(b,D)}function x(_,A,y,T,M,b,D,I,P){var R=[n(i(n(M,A),P),i(n(b,y),I)),n(i(n(b,y),D),i(n(T,_),P)),n(i(n(T,_),I),i(n(M,A),D))];R=u(t(t(i(R[0],R[0]),i(R[1],R[1])),i(R[2],R[2])));var q=u(t(t(i(D,D),i(I,I)),i(P,P)));return a(R,q)}function E(_,A){for(var y=_.length,T=0,M=0,b=0;b<y;b++)M=n(_[b],A[b]),T=t(i(M,M),T);return u(T)}function v(_){for(var A=[],y=[],T=[],M=0;M<_.length-1;M++)for(var b=M+1;b<_.length;b++)_[0].length===2?(y=[_[M][0],_[M][1]],T=[_[b][0],_[b][1]]):_[0].length===3&&(y=[_[M][0],_[M][1],_[M][2]],T=[_[b][0],_[b][1],_[b][2]]),A.push(E(y,T));return A}});var Dte="intersect",Cte=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],rA=C(Dte,Cte,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:u,multiplyScalar:l,divideScalar:s,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:d,isNumeric:h}=r;return e("intersect",{"Array, Array, Array":w,"Array, Array, Array, Array":x,"Matrix, Matrix, Matrix":function(I,P,R){var q=w(I.valueOf(),P.valueOf(),R.valueOf());return q===null?null:o(q)},"Matrix, Matrix, Matrix, Matrix":function(I,P,R,q){var L=x(I.valueOf(),P.valueOf(),R.valueOf(),q.valueOf());return L===null?null:o(L)}});function w(D,I,P){if(D=E(D),I=E(I),P=E(P),!_(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!A(P))throw new TypeError("Array with 4 numbers expected as third argument");return b(D[0],D[1],D[2],I[0],I[1],I[2],P[0],P[1],P[2],P[3])}function x(D,I,P,R){if(D=E(D),I=E(I),P=E(P),R=E(R),D.length===2){if(!v(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return y(D,I,P,R)}else if(D.length===3){if(!_(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return M(D[0],D[1],D[2],I[0],I[1],I[2],P[0],P[1],P[2],R[0],R[1],R[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function E(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(I=>Array.isArray(I)&&I.length===1)?m(D):D}function v(D){return D.length===2&&h(D[0])&&h(D[1])}function _(D){return D.length===3&&h(D[0])&&h(D[1])&&h(D[2])}function A(D){return D.length===4&&h(D[0])&&h(D[1])&&h(D[2])&&h(D[3])}function y(D,I,P,R){var q=D,L=P,k=c(q,I),B=c(L,R),W=c(l(k[0],B[1]),l(B[0],k[1]));if(d(W)||f(n(W),t.relTol))return null;var O=l(B[0],q[1]),X=l(B[1],q[0]),ne=l(B[0],L[1]),Z=l(B[1],L[0]),U=s(a(c(c(O,X),ne),Z),W);return i(u(k,U),q)}function T(D,I,P,R,q,L,k,B,W,O,X,ne){var Z=l(c(D,I),c(P,R)),U=l(c(q,L),c(k,B)),pe=l(c(W,O),c(X,ne));return a(a(Z,U),pe)}function M(D,I,P,R,q,L,k,B,W,O,X,ne){var Z=T(D,k,O,k,I,B,X,B,P,W,ne,W),U=T(O,k,R,D,X,B,q,I,ne,W,L,P),pe=T(D,k,R,D,I,B,q,I,P,W,L,P),me=T(O,k,O,k,X,B,X,B,ne,W,ne,W),oe=T(R,D,R,D,q,I,q,I,L,P,L,P),ve=c(l(Z,U),l(pe,me)),_e=c(l(oe,me),l(U,U));if(d(_e))return null;var ye=s(ve,_e),be=s(a(Z,l(ye,U)),me),we=a(D,l(ye,c(R,D))),Ee=a(I,l(ye,c(q,I))),qe=a(P,l(ye,c(L,P))),Qe=a(k,l(be,c(O,k))),Y=a(B,l(be,c(X,B))),Q=a(W,l(be,c(ne,W)));return p(we,Qe)&&p(Ee,Y)&&p(qe,Q)?[we,Ee,qe]:null}function b(D,I,P,R,q,L,k,B,W,O){var X=l(D,k),ne=l(R,k),Z=l(I,B),U=l(q,B),pe=l(P,W),me=l(L,W),oe=c(c(c(O,X),Z),pe),ve=c(c(c(a(a(ne,U),me),X),Z),pe),_e=s(oe,ve),ye=a(D,l(_e,c(R,D))),be=a(I,l(_e,c(q,I))),we=a(P,l(_e,c(L,P)));return[ye,be,we]}});var o4="sum",Nte=["typed","config","add","numeric"],Yp=C(o4,Nte,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(o4,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(ro(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(u){var l;return Ai(u,function(s){try{l=l===void 0?s:n(l,s)}catch(c){throw gn(c,"sum",s)}}),l===void 0&&(l=i(0,t.number)),typeof l=="string"&&(l=i(l,_i(l,t))),l}function o(u,l){try{var s=Mu(u,l,n);return s}catch(c){throw gn(c,"sum")}}});var Rg="cumsum",Fte=["typed","add","unaryPlus"],jp=C(Rg,Fte,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(Rg,{Array:i,Matrix:function(s){return s.create(i(s.valueOf(),s.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,c){return s.create(o(s.valueOf(),c),s.datatype())},"...":function(s){if(ro(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(l){try{return a(l)}catch(s){throw gn(s,Rg)}}function a(l){if(l.length===0)return[];for(var s=[n(l[0])],c=1;c<l.length;++c)s.push(t(s[c-1],l[c]));return s}function o(l,s){var c=mt(l);if(s<0||s>=c.length)throw new pi(s,c.length);try{return u(l,s)}catch(f){throw gn(f,Rg)}}function u(l,s){var c,f,p;if(s<=0){var m=l[0][0];if(Array.isArray(m)){for(p=Zh(l),f=[],c=0;c<p.length;c++)f[c]=u(p[c],s-1);return f}else return a(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=u(l[c],s-1);return f}}});var s4="mean",Ite=["typed","add","divide"],Zp=C(s4,Ite,r=>{var{typed:e,add:t,divide:n}=r;return e(s4,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(u){if(ro(u))throw new TypeError("Scalar values expected in function mean");return a(u)}});function i(o,u){try{var l=Mu(o,u,t),s=Array.isArray(o)?mt(o):o.size();return n(l,s[u])}catch(c){throw gn(c,"mean")}}function a(o){var u,l=0;if(Ai(o,function(s){try{u=u===void 0?s:t(u,s),l++}catch(c){throw gn(c,"mean",s)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(u,l)}});var u4="median",Pte=["typed","add","divide","compare","partitionSelect"],nA=C(u4,Pte,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=kt(s.valueOf());var c=s.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(s,f+1),m=s[f],d=0;d<f;++d)i(s[d],m)>0&&(m=s[d]);return l(m,p)}else{var h=a(s,(c-1)/2);return u(h)}}catch(w){throw gn(w,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(t(c,f),2)}});return e(u4,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(ro(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var l4="mad",Bte=["typed","abs","map","median","subtract"],iA=C(l4,Bte,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(l4,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(u){if(u=kt(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(u);return i(n(u,function(s){return t(a(s,l))}))}catch(s){throw s instanceof TypeError&&s.message.includes("median")?new TypeError(s.message.replace("median","mad")):gn(s,"mad")}}});var aA="unbiased",c4="variance",kte=["typed","add","subtract","multiply","divide","apply","isNaN"],Jp=C(c4,kte,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u}=r;return e(c4,{"Array | Matrix":function(f){return l(f,aA)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,p){return s(f,p,aA)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return l(f,aA)}});function l(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Ai(c,function(w){try{p=p===void 0?w:t(p,w),m++}catch(x){throw gn(x,"variance",w)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var d=a(p,m);if(p=void 0,Ai(c,function(w){var x=n(w,d);p=p===void 0?i(x,x):t(p,i(x,x))}),u(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var h=ut(p)?p.mul(0):0;return m===1?h:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>l(m,p))}catch(m){throw gn(m,"variance")}}});var f4="quantileSeq",$te=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Xp=C(f4,$te,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:l,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=Dl({typed:e,isInteger:s});return e(f4,{"Array | Matrix, number | BigNumber":(E,v)=>h(E,v,!1),"Array | Matrix, number | BigNumber, number":(E,v,_)=>d(E,v,!1,_,h),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(E,v,_,A)=>d(E,v,_,A,h),"Array | Matrix, Array | Matrix":(E,v)=>w(E,v,!1),"Array | Matrix, Array | Matrix, number":(E,v,_)=>d(E,v,!1,_,w),"Array | Matrix, Array | Matrix, boolean":w,"Array | Matrix, Array | Matrix, boolean, number":(E,v,_,A)=>d(E,v,_,A,w)});function d(E,v,_,A,y){return m(E,A,T=>y(T,v,_))}function h(E,v,_){var A,y=E.valueOf();if(c(v,0))throw new Error("N/prob must be non-negative");if(f(v,1))return xt(v)?x(y,v,_):t(x(y,v,_));if(p(v,1)){if(!s(v))throw new Error("N must be a positive integer");if(p(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var T=n(v,1);A=[];for(var M=0;c(M,v);M++){var b=a(M+1,T);A.push(x(y,b,_))}return xt(v)?A:t(A)}}function w(E,v,_){for(var A=E.valueOf(),y=v.valueOf(),T=[],M=0;M<y.length;++M)T.push(x(A,y[M],_));return T}function x(E,v,_){var A=kt(E),y=A.length;if(y===0)throw new Error("Cannot calculate quantile of an empty sequence");var T=xt(v)?v*(y-1):v.times(y-1),M=xt(v)?Math.floor(T):T.floor().toNumber(),b=xt(v)?T%1:T.minus(M);if(s(T))return _?A[T]:u(A,xt(v)?T:T.valueOf());var D,I;if(_)D=A[M],I=A[M+1];else{I=u(A,M+1),D=A[M];for(var P=0;P<M;++P)l(A[P],D)>0&&(D=A[P])}return n(o(D,i(1,b)),o(I,b))}});var p4="std",Ote=["typed","map","sqrt","variance"],Qp=C(p4,Ote,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(p4,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(u){return a(u)}});function a(o,u){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return bn(l)?t(l,n):n(l)}catch(s){throw s instanceof TypeError&&s.message.includes(" variance")?new TypeError(s.message.replace(" variance"," std")):s}}});var m4="corr",Rte=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],oA=C(m4,Rte,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:u,pow:l,divide:s}=r;return e(m4,{"Array, Array":function(m,d){return c(m,d)},"Matrix, Matrix":function(m,d){var h=c(m.toArray(),d.toArray());return Array.isArray(h)?t(h):h}});function c(p,m){var d=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var h=0;h<p.length;h++){if(p[h].length!==m[h].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");d.push(f(p[h],m[h]))}return d}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var d=p.length,h=i(p),w=i(m),x=p.reduce((y,T,M)=>a(y,u(T,m[M])),0),E=i(p.map(y=>l(y,2))),v=i(m.map(y=>l(y,2))),_=o(u(d,x),u(h,w)),A=n(u(o(u(d,E),l(h,2)),o(u(d,v),l(w,2))));return s(_,A)}});var d4="combinations",Lte=["typed"],sA=C(d4,Lte,r=>{var{typed:e}=r;return e(d4,{"number, number":N0,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,u,l=n.minus(i),s=new a(1);if(!h4(n)||!h4(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(l))for(u=s;u.lte(l);u=u.plus(s))o=o.times(i.plus(u)).dividedBy(u);else for(u=s;u.lte(i);u=u.plus(s))o=o.times(l.plus(u)).dividedBy(u);return o}})});function h4(r){return r.isInteger()&&r.gte(0)}var g4="combinationsWithRep",Ute=["typed"],uA=C(g4,Ute,r=>{var{typed:e}=r;return e(g4,{"number, number":function(n,i){if(!Je(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Je(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Na(n,n+i-1);return a/Na(1,i)}var o=Na(i+1,n+i-1);return o/Na(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,u,l=new a(1),s=n.minus(l);if(!v4(n)||!v4(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(s))for(u=l;u.lte(s);u=u.plus(l))o=o.times(i.plus(u)).dividedBy(u);else for(u=l;u.lte(i);u=u.plus(l))o=o.times(s.plus(u)).dividedBy(u);return o}})});function v4(r){return r.isInteger()&&r.gte(0)}var y4="gamma",Vte=["typed","config","multiplyScalar","pow","BigNumber","Complex"],lA=C(y4,Vte,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function u(s){if(s.im===0)return Tp(s.re);if(s.re<.5){var c=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(u(c))}s=new o(s.re-1,s.im);for(var p=new o(Ml[0],0),m=1;m<Ml.length;++m){var d=new o(Ml[m],0);p=p.add(d.div(s.add(m)))}var h=new o(s.re+P0+.5,s.im),w=Math.sqrt(2*Math.PI),x=h.pow(s.add(.5)),E=h.neg().exp();return p.mul(w).mul(x).mul(E)}return e(y4,{number:Tp,Complex:u,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var c=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:c});if(s%2===1)return s.times(l(new a(s-1)));for(var p=s,m=new f(s),d=s.toNumber();p>2;)p-=2,d+=p,m=m.times(d);return new a(m.toPrecision(a.precision))}});var x4="lgamma",qte=["Complex","typed"],cA=C(x4,qte,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(x4,{number:Mp,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Mp(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return u(s);if(s.re<=p){var m=QI(c,s.im)*Math.floor(.5*s.re+.25),d=s.mul(Math.PI).sin().log(),h=o(new e(1-s.re,-s.im));return new e(f,m).sub(d).sub(h)}else return s.im>=0?l(s):l(s.conjugate()).conjugate()}function u(s){for(var c=s.sub(.5).mul(s.log()).sub(s).add(B0),f=new e(1,0).div(s),p=f.div(s),m=a[0],d=a[1],h=2*p.re,w=p.re*p.re+p.im*p.im,x=2;x<8;x++){var E=d;d=-w*m+a[x],m=h*m+E}var v=f.mul(p.mul(m).add(d));return c.add(v)}function l(s){var c=0,f=0,p=s;for(s=s.add(1);s.re<=n;){p=p.mul(s);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,s=s.add(1)}return u(s).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var b4="factorial",zte=["typed","gamma"],fA=C(b4,zte,r=>{var{typed:e,gamma:t}=r;return e(b4,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>rt(i,n))})});var w4="kldivergence",Hte=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],pA=C(w4,Hte,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:u,log:l,isNumeric:s}=r;return e(w4,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,d=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(d>1)throw new Error("second object must be one dimensional");if(m!==d)throw new Error("Length of two vectors must be equal");var h=i(f);if(h===0)throw new Error("Sum of elements in first object must be non zero");var w=i(p);if(w===0)throw new Error("Sum of elements in second object must be non zero");var x=n(f,i(f)),E=n(p,i(p)),v=i(a(x,o(u(x,E),_=>l(_))));return s(v)?v:Number.NaN}});var _4="multinomial",Gte=["typed","add","divide","multiply","factorial","isInteger","isPositive"],mA=C(_4,Gte,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:u}=r;return e(_4,{"Array | Matrix":function(s){var c=0,f=1;return Ai(s,function(p){if(!o(p)||!u(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),n(a(c),f)}})});var S4="permutations",Wte=["typed","factorial"],dA=C(S4,Wte,r=>{var{typed:e,factorial:t}=r;return e(S4,{"number | BigNumber":t,"number, number":function(i,a){if(!Je(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Je(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Na(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,u;if(!A4(i)||!A4(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,u=i.minus(a).plus(1);u.lte(i);u=u.plus(1))o=o.times(u);return o}})});function A4(r){return r.isInteger()&&r.gte(0)}var wA=$r(U4(),1),Kte=(0,wA.default)(Date.now());function Ls(r){var e;function t(i){e=i===null?Kte:(0,wA.default)(String(i))}t(r);function n(){return e()}return n}var V4="pickRandom",ere=["typed","config","?on"],_A=C(V4,ere,r=>{var{typed:e,config:t,on:n}=r,i=Ls(t.randomSeed);return n&&n("config",function(o,u){o.randomSeed!==u.randomSeed&&(i=Ls(o.randomSeed))}),e(V4,{"Array | Matrix":function(u){return a(u,{})},"Array | Matrix, Object":function(u,l){return a(u,l)},"Array | Matrix, number":function(u,l){return a(u,{number:l})},"Array | Matrix, Array | Matrix":function(u,l){return a(u,{weights:l})},"Array | Matrix, Array | Matrix, number":function(u,l,s){return a(u,{number:s,weights:l})},"Array | Matrix, number, Array | Matrix":function(u,l,s){return a(u,{number:l,weights:s})}});function a(o,u){var{number:l,weights:s,elementWise:c=!0}=u,f=typeof l>"u";f&&(l=1);var p=et(o)?o.create:et(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),c===!0&&(o=kt(o),s=kt(s));var m=0;if(typeof s<"u"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var d=0,h=s.length;d<h;d++){if(!xt(s[d])||s[d]<0)throw new Error("Weights must be an array of positive numbers");m+=s[d]}}for(var w=o.length,x=[],E;x.length<l;){if(typeof s>"u")E=o[Math.floor(i()*w)];else for(var v=i()*m,_=0,A=o.length;_<A;_++)if(v-=s[_],v<0){E=o[_];break}x.push(E)}return f?x[0]:p?p(x):x}});function Kp(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(Kp(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var q4="random",tre=["typed","config","?on"],SA=C(q4,tre,r=>{var{typed:e,config:t,on:n}=r,i=Ls(t.randomSeed);return n&&n("config",function(u,l){u.randomSeed!==l.randomSeed&&(i=Ls(u.randomSeed))}),e(q4,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,l)=>o(u,l),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,l)=>a(u,0,l),"Array | Matrix, number, number":(u,l,s)=>a(u,l,s)});function a(u,l,s){var c=Kp(u.valueOf(),()=>o(l,s));return et(u)?u.create(c,"number"):c}function o(u,l){return u+i()*(l-u)}});var z4="randomInt",rre=["typed","config","?on"],AA=C(z4,rre,r=>{var{typed:e,config:t,on:n}=r,i=Ls(t.randomSeed);return n&&n("config",function(u,l){u.randomSeed!==l.randomSeed&&(i=Ls(u.randomSeed))}),e(z4,{"":()=>o(0,1),number:u=>o(0,u),"number, number":(u,l)=>o(u,l),"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,l)=>a(u,0,l),"Array | Matrix, number, number":(u,l,s)=>a(u,l,s)});function a(u,l,s){var c=Kp(u.valueOf(),()=>o(l,s));return et(u)?u.create(c,"number"):c}function o(u,l){return Math.floor(u+i()*(l-u))}});var H4="stirlingS2",nre=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],EA=C(H4,nre,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:u,combinations:l,isNegative:s,isInteger:c,number:f,bignumber:p,larger:m}=r,d=[],h=[];return e(H4,{"number | BigNumber, number | BigNumber":function(x,E){if(!c(x)||s(x)||!c(E)||s(E))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(E,x))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(xt(x)&&xt(E)),_=v?h:d,A=v?p:f,y=f(x),T=f(E);if(_[y]&&_[y].length>T)return _[y][T];for(var M=0;M<=y;++M)if(_[M]||(_[M]=[A(M===0?1:0)]),M!==0)for(var b=_[M],D=_[M-1],I=b.length;I<=M&&I<=T;++I)I===M?b[I]=1:b[I]=t(i(A(I),D[I]),D[I-1]);return _[y][T]}})});var G4="bellNumbers",ire=["typed","addScalar","isNegative","isInteger","stirlingS2"],TA=C(G4,ire,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(G4,{"number | BigNumber":function(u){if(!i(u)||n(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,s=0;s<=u;s++)l=t(l,a(u,s));return l}})});var W4="catalan",are=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],MA=C(W4,are,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:u}=r;return e(W4,{"number | BigNumber":function(s){if(!u(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var Y4="composition",ore=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],DA=C(Y4,ore,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:u}=r;return e(Y4,{"number | BigNumber, number | BigNumber":function(s,c){if(!o(s)||!i(s)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(u(c,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(c,-1))}})});var j4="leafCount",sre=["parse","typed"],CA=C(j4,sre,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(j4,{Node:function(a){return n(a)}})});function NA(r){return Yt(r)||Jr(r)&&r.isUnary()&&Yt(r.args[0])}function em(r){return!!(Yt(r)||(Hi(r)||Jr(r))&&r.args.every(em)||ci(r)&&em(r.content))}function Z4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function FA(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(t),!0).forEach(function(n){br(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Z4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ure="simplifyUtil",lre=["FunctionNode","OperatorNode","SymbolNode"],sf=C(ure,lre,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",u={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(v,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,y=o;if(typeof v=="string"?y=v:Jr(v)?y=v.fn.toString():Hi(v)?y=v.name:ci(v)&&(y="paren"),nt(A,y)){var T=A[y];if(nt(T,_))return T[_];if(nt(u,y))return u[y][_]}if(nt(A,o)){var M=A[o];return nt(M,_)?M[_]:u[o][_]}if(nt(u,y)){var b=u[y];if(nt(b,_))return b[_]}return u[o][_]}function f(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(v,"commutative",_)}function p(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(v,"associative",_)}function m(v,_){var A=FA({},v);for(var y in _)nt(v,y)?A[y]=FA(FA({},_[y]),v[y]):A[y]=_[y];return A}function d(v,_){if(!v.args||v.args.length===0)return v;v.args=h(v,_);for(var A=0;A<v.args.length;A++)d(v.args[A],_)}function h(v,_){var A,y=[],T=function(b){for(var D=0;D<b.args.length;D++){var I=b.args[D];Jr(I)&&A===I.op?T(I):y.push(I)}};return p(v,_)?(A=v.op,T(v),y):v.args}function w(v,_){if(!(!v.args||v.args.length===0)){for(var A=E(v),y=v.args.length,T=0;T<y;T++)w(v.args[T],_);if(y>2&&p(v,_)){for(var M=v.args.pop();v.args.length>0;)M=A([v.args.pop(),M]);v.args=M.args}}}function x(v,_){if(!(!v.args||v.args.length===0)){for(var A=E(v),y=v.args.length,T=0;T<y;T++)x(v.args[T],_);if(y>2&&p(v,_)){for(var M=v.args.shift();v.args.length>0;)M=A([M,v.args.shift()]);v.args=M.args}}}function E(v){return Jr(v)?function(_){try{return new t(v.op,v.fn,_,v.implicit)}catch(A){return console.error(A),[]}}:function(_){return new e(new n(v.name),_)}}return{createMakeNodeFunction:E,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:d,allChildren:h,unflattenr:w,unflattenl:x,defaultContext:u,realContext:l,positiveContext:s}});var cre="simplify",fre=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],IA=C(cre,fre,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:u,pow:l,isZero:s,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:d,bignumber:h,mathWithTransform:w,matrix:x,AccessorNode:E,ArrayNode:v,ConstantNode:_,FunctionNode:A,IndexNode:y,ObjectNode:T,OperatorNode:M,ParenthesisNode:b,SymbolNode:D}=r,{hasProperty:I,isCommutative:P,isAssociative:R,mergeContext:q,flatten:L,unflattenr:k,unflattenl:B,createMakeNodeFunction:W,defaultContext:O,realContext:X,positiveContext:ne}=sf({FunctionNode:A,OperatorNode:M,SymbolNode:D});t.addConversion({from:"Object",to:"Map",convert:Fs});var Z=t("simplify",{Node:ye,"Node, Map":(J,re)=>ye(J,!1,re),"Node, Map, Object":(J,re,se)=>ye(J,!1,re,se),"Node, Array":ye,"Node, Array, Map":ye,"Node, Array, Map, Object":ye});t.removeConversion({from:"Object",to:"Map",convert:Fs}),Z.defaultContext=O,Z.realContext=X,Z.positiveContext=ne;function U(J){return J.transform(function(re,se,Ae){return ci(re)?U(re.content):re})}var pe={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};Z.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function me(J,re){var se={};if(J.s){var Ae=J.s.split("->");if(Ae.length===2)se.l=Ae[0],se.r=Ae[1];else throw SyntaxError("Could not parse rule: "+J.s)}else se.l=J.l,se.r=J.r;se.l=U(n(se.l)),se.r=U(n(se.r));for(var Te of["imposeContext","repeat","assuming"])Te in J&&(se[Te]=J[Te]);if(J.evaluate&&(se.evaluate=n(J.evaluate)),R(se.l,re)){var Ve=!P(se.l,re),Se;Ve&&(Se=_e());var wt=W(se.l),Dt=_e();se.expanded={},se.expanded.l=wt([se.l,Dt]),L(se.expanded.l,re),k(se.expanded.l,re),se.expanded.r=wt([se.r,Dt]),Ve&&(se.expandedNC1={},se.expandedNC1.l=wt([Se,se.l]),se.expandedNC1.r=wt([Se,se.r]),se.expandedNC2={},se.expandedNC2.l=wt([Se,se.expanded.l]),se.expandedNC2.r=wt([Se,se.expanded.r]))}return se}function oe(J,re){for(var se=[],Ae=0;Ae<J.length;Ae++){var Te=J[Ae],Ve=void 0,Se=typeof Te;switch(Se){case"string":Te={s:Te};case"object":Ve=me(Te,re);break;case"function":Ve=Te;break;default:throw TypeError("Unsupported type of rule: "+Se)}se.push(Ve)}return se}var ve=0;function _e(){return new D("_p"+ve++)}function ye(J,re){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vu(),Ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Te=Ae.consoleDebug;re=oe(re||Z.rules,Ae.context);var Ve=f(J,se);Ve=U(Ve);for(var Se={},wt=Ve.toString({parenthesis:"all"});!Se[wt];){Se[wt]=!0,ve=0;var Dt=wt;Te&&console.log("Working on: ",wt);for(var jt=0;jt<re.length;jt++){var Tt="";if(typeof re[jt]=="function"?(Ve=re[jt](Ve,Ae),Te&&(Tt=re[jt].name)):(L(Ve,Ae.context),Ve=we(Ve,re[jt],Ae.context),Te&&(Tt="".concat(re[jt].l.toString()," -> ").concat(re[jt].r.toString()))),Te){var j=Ve.toString({parenthesis:"all"});j!==Dt&&(console.log("Applying",Tt,"produced",j),Dt=j)}B(Ve,Ae.context)}wt=Ve.toString({parenthesis:"all"})}return Ve}function be(J,re,se){var Ae=J;if(J)for(var Te=0;Te<J.length;++Te){var Ve=we(J[Te],re,se);Ve!==J[Te]&&(Ae===J&&(Ae=J.slice()),Ae[Te]=Ve)}return Ae}function we(J,re,se){if(re.assuming){for(var Ae in re.assuming)for(var Te in re.assuming[Ae])if(I(Ae,Te,se)!==re.assuming[Ae][Te])return J}var Ve=q(re.imposeContext,se),Se=J;if(Se instanceof M||Se instanceof A){var wt=be(Se.args,re,se);wt!==Se.args&&(Se=Se.clone(),Se.args=wt)}else if(Se instanceof b){if(Se.content){var Dt=we(Se.content,re,se);Dt!==Se.content&&(Se=new b(Dt))}}else if(Se instanceof v){var jt=be(Se.items,re,se);jt!==Se.items&&(Se=new v(jt))}else if(Se instanceof E){var Tt=Se.object;Se.object&&(Tt=we(Se.object,re,se));var j=Se.index;Se.index&&(j=we(Se.index,re,se)),(Tt!==Se.object||j!==Se.index)&&(Se=new E(Tt,j))}else if(Se instanceof y){var le=be(Se.dimensions,re,se);le!==Se.dimensions&&(Se=new y(le))}else if(Se instanceof T){var fe=!1,Pe={};for(var ke in Se.properties)Pe[ke]=we(Se.properties[ke],re,se),Pe[ke]!==Se.properties[ke]&&(fe=!0);fe&&(Se=new T(Pe))}var Fe=re.r,$e=Q(re.l,Se,Ve)[0];if(!$e&&re.expanded&&(Fe=re.expanded.r,$e=Q(re.expanded.l,Se,Ve)[0]),!$e&&re.expandedNC1&&(Fe=re.expandedNC1.r,$e=Q(re.expandedNC1.l,Se,Ve)[0],$e||(Fe=re.expandedNC2.r,$e=Q(re.expandedNC2.l,Se,Ve)[0])),$e){var ze=Se.implicit;Se=Fe.clone(),ze&&"implicit"in Fe&&(Se.implicit=!0),Se=Se.transform(function(N){return N.isSymbolNode&&nt($e.placeholders,N.name)?$e.placeholders[N.name].clone():N})}return re.repeat&&Se!==J&&(Se=we(Se,re,se)),Se}function Ee(J,re){var se=[],Ae,Te,Ve=W(J);if(P(J,re))for(var Se=0;Se<J.args.length;Se++)Te=J.args.slice(0),Te.splice(Se,1),Ae=Te.length===1?Te[0]:Ve(Te),se.push(Ve([J.args[Se],Ae]));else for(var wt=1;wt<J.args.length;wt++){var Dt=J.args[0];wt>1&&(Dt=Ve(J.args.slice(0,wt))),Te=J.args.slice(wt),Ae=Te.length===1?Te[0]:Ve(Te),se.push(Ve([Dt,Ae]))}return se}function qe(J,re){var se={placeholders:{}};if(!J.placeholders&&!re.placeholders)return se;if(J.placeholders){if(!re.placeholders)return J}else return re;for(var Ae in J.placeholders)if(nt(J.placeholders,Ae)&&(se.placeholders[Ae]=J.placeholders[Ae],nt(re.placeholders,Ae)&&!xe(J.placeholders[Ae],re.placeholders[Ae])))return null;for(var Te in re.placeholders)nt(re.placeholders,Te)&&(se.placeholders[Te]=re.placeholders[Te]);return se}function Qe(J,re){var se=[];if(J.length===0||re.length===0)return se;for(var Ae,Te=0;Te<J.length;Te++)for(var Ve=0;Ve<re.length;Ve++)Ae=qe(J[Te],re[Ve]),Ae&&se.push(Ae);return se}function Y(J){if(J.length===0)return J;for(var re=J.reduce(Qe),se=[],Ae={},Te=0;Te<re.length;Te++){var Ve=JSON.stringify(re[Te]);Ae[Ve]||(Ae[Ve]=!0,se.push(re[Te]))}return se}function Q(J,re,se,Ae){var Te=[{placeholders:{}}];if(J instanceof M&&re instanceof M||J instanceof A&&re instanceof A){if(J instanceof M){if(J.op!==re.op||J.fn!==re.fn)return[]}else if(J instanceof A&&J.name!==re.name)return[];if(re.args.length===1&&J.args.length===1||!R(re,se)&&re.args.length===J.args.length||Ae){for(var Ve=[],Se=0;Se<J.args.length;Se++){var wt=Q(J.args[Se],re.args[Se],se);if(wt.length===0)break;Ve.push(wt)}if(Ve.length!==J.args.length){if(!P(re,se)||J.args.length===1)return[];if(J.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Dt=Q(J.args[0],re.args[1],se);if(Dt.length===0)return[];var jt=Q(J.args[1],re.args[0],se);if(jt.length===0)return[];Ve=[Dt,jt]}Te=Y(Ve)}else if(re.args.length>=2&&J.args.length===2){for(var Tt=Ee(re,se),j=[],le=0;le<Tt.length;le++){var fe=Q(J,Tt[le],se,!0);j=j.concat(fe)}return j}else{if(J.args.length>2)throw Error("Unexpected non-binary associative function: "+J.toString());return[]}}else if(J instanceof D){if(J.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(pe[J.name]){if(J.name!==re.name)return[]}else switch(J.name[1]>="a"&&J.name[1]<="z"?J.name.substring(0,2):J.name[0]){case"n":case"_p":Te[0].placeholders[J.name]=re;break;case"c":case"cl":if(Yt(re))Te[0].placeholders[J.name]=re;else return[];break;case"v":if(!Yt(re))Te[0].placeholders[J.name]=re;else return[];break;case"vl":if(Ur(re))Te[0].placeholders[J.name]=re;else return[];break;case"cd":if(NA(re))Te[0].placeholders[J.name]=re;else return[];break;case"vd":if(!NA(re))Te[0].placeholders[J.name]=re;else return[];break;case"ce":if(em(re))Te[0].placeholders[J.name]=re;else return[];break;case"ve":if(!em(re))Te[0].placeholders[J.name]=re;else return[];break;default:throw new Error("Invalid symbol in rule: "+J.name)}}else if(J instanceof _){if(!c(J.value,re.value))return[]}else return[];return Te}function xe(J,re){if(J instanceof _&&re instanceof _){if(!c(J.value,re.value))return!1}else if(J instanceof D&&re instanceof D){if(J.name!==re.name)return!1}else if(J instanceof M&&re instanceof M||J instanceof A&&re instanceof A){if(J instanceof M){if(J.op!==re.op||J.fn!==re.fn)return!1}else if(J instanceof A&&J.name!==re.name)return!1;if(J.args.length!==re.args.length)return!1;for(var se=0;se<J.args.length;se++)if(!xe(J.args[se],re.args[se]))return!1}else return!1;return!0}return Z});var pre="simplifyConstant",mre=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],PA=C(pre,mre,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:u,ArrayNode:l,ConstantNode:s,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:d}=r,{isCommutative:h,isAssociative:w,allChildren:x,createMakeNodeFunction:E}=sf({FunctionNode:c,OperatorNode:m,SymbolNode:d}),v=e("simplifyConstant",{Node:L=>T(q(L,{})),"Node, Object":function(k,B){return T(q(k,B))}});function _(L){return Is(L)?L.valueOf():L instanceof Array?L.map(_):et(L)?i(_(L.valueOf())):L}function A(L,k,B){try{return n[L].apply(null,k)}catch{return k=k.map(_),b(n[L].apply(null,k),B)}}var y=e({Fraction:I,number:function(k){return k<0?D(new s(-k)):new s(k)},BigNumber:function(k){return k<0?D(new s(-k)):new s(k)},bigint:function(k){return k<0n?D(new s(-k)):new s(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new s(k)},Matrix:function(k){return new l(k.valueOf().map(B=>y(B)))}});function T(L){return Kt(L)?L:y(L)}function M(L,k){var B=k&&k.exactFractions!==!1;if(B&&isFinite(L)&&a){var W=a(L),O=k&&typeof k.fractionsLimit=="number"?k.fractionsLimit:1/0;if(W.valueOf()===L&&W.n<O&&W.d<O)return W}return L}var b=e({"string, Object":function(k,B){var W=_i(k,t);if(W==="BigNumber")return o===void 0&&ef(),o(k);if(W==="bigint")return BigInt(k);if(W==="Fraction")return a===void 0&&ag(),a(k);var O=parseFloat(k);return M(O,B)},"Fraction, Object":function(k,B){return k},"BigNumber, Object":function(k,B){return k},"number, Object":function(k,B){return M(k,B)},"bigint, Object":function(k,B){return k},"Complex, Object":function(k,B){return k.im!==0?k:M(k.re,B)},"Matrix, Object":function(k,B){return i(M(k.valueOf()))},"Array, Object":function(k,B){return k.map(M)}});function D(L){return new m("-","unaryMinus",[L])}function I(L){var k,B=L.s*L.n;return B<0?k=new m("-","unaryMinus",[new s(-B)]):k=new s(B),L.d===1?k:new m("/","divide",[k,new s(L.d)])}function P(L,k,B){if(!Ka(k))return new u(T(L),T(k));if(li(L)||et(L)){for(var W=Array.from(k.dimensions);W.length>0;)if(Yt(W[0])&&typeof W[0].value!="string"){var O=b(W.shift().value,B);li(L)?L=L.items[O-1]:(L=L.valueOf()[O-1],L instanceof Array&&(L=i(L)))}else if(W.length>1&&Yt(W[1])&&typeof W[1].value!="string"){var X=b(W[1].value,B),ne=[],Z=li(L)?L.items:L.valueOf();for(var U of Z)if(li(U))ne.push(U.items[X-1]);else if(et(L))ne.push(U[X-1]);else break;if(ne.length===Z.length)li(L)?L=new l(ne):L=i(ne),W.splice(1,1);else break}else break;return W.length===k.dimensions.length?new u(T(L),k):W.length>0?(k=new f(W),new u(T(L),k)):L}if(bu(L)&&k.dimensions.length===1&&Yt(k.dimensions[0])){var pe=k.dimensions[0].value;return pe in L.properties?L.properties[pe]:new s}return new u(T(L),k)}function R(L,k,B,W){var O=k.shift(),X=k.reduce((ne,Z)=>{if(!Kt(Z)){var U=ne.pop();if(Kt(U))return[U,Z];try{return ne.push(A(L,[U,Z],W)),ne}catch{ne.push(U)}}ne.push(T(ne.pop()));var pe=ne.length===1?ne[0]:B(ne);return[B([pe,T(Z)])]},[O]);return X.length===1?X[0]:B([X[0],y(X[1])])}function q(L,k){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return b(L.value,k);case"bigint":return b(L.value,k);case"string":return L.value;default:if(!isNaN(L.value))return b(L.value,k)}return L;case"FunctionNode":if(n[L.name]&&n[L.name].rawArgs)return L;{var B=["add","multiply"];if(!B.includes(L.name)){var W=L.args.map(we=>q(we,k));if(!W.some(Kt))try{return A(L.name,W,k)}catch{}if(L.name==="size"&&W.length===1&&li(W[0])){for(var O=[],X=W[0];li(X);)O.push(X.items.length),X=X.items[0];return i(O)}return new c(L.name,W.map(T))}}case"OperatorNode":{var ne=L.fn.toString(),Z,U,pe=E(L);if(Jr(L)&&L.isUnary())Z=[q(L.args[0],k)],Kt(Z[0])?U=pe(Z):U=A(ne,Z,k);else if(w(L,k.context))if(Z=x(L,k.context),Z=Z.map(we=>q(we,k)),h(ne,k.context)){for(var me=[],oe=[],ve=0;ve<Z.length;ve++)Kt(Z[ve])?oe.push(Z[ve]):me.push(Z[ve]);me.length>1?(U=R(ne,me,pe,k),oe.unshift(U),U=R(ne,oe,pe,k)):U=R(ne,Z,pe,k)}else U=R(ne,Z,pe,k);else Z=L.args.map(we=>q(we,k)),U=R(ne,Z,pe,k);return U}case"ParenthesisNode":return q(L.content,k);case"AccessorNode":return P(q(L.object,k),q(L.index,k),k);case"ArrayNode":{var _e=L.items.map(we=>q(we,k));return _e.some(Kt)?new l(_e.map(T)):i(_e)}case"IndexNode":return new f(L.dimensions.map(we=>v(we,k)));case"ObjectNode":{var ye={};for(var be in L.properties)ye[be]=v(L.properties[be],k);return new p(ye)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return v});var J4="simplifyCore",dre=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],BA=C(J4,dre,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:u,divide:l,pow:s,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:d,ObjectNode:h,OperatorNode:w,ParenthesisNode:x,SymbolNode:E}=r,v=new p(0),_=new p(1),A=new p(!0),y=new p(!1);function T(I){return Jr(I)&&["and","not","or"].includes(I.op)}var{hasProperty:M,isCommutative:b}=sf({FunctionNode:m,OperatorNode:w,SymbolNode:E});function D(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=P?P.context:void 0;if(M(I,"trivial",R)){if(Hi(I)&&I.args.length===1)return D(I.args[0],P);var q=!1,L=0;if(I.forEach(oe=>{++L,L===1&&(q=D(oe,P))}),L===1)return q}var k=I;if(Hi(k)){var B=Yk(k.name);if(B){if(k.args.length>2&&M(k,"associative",R))for(;k.args.length>2;){var W=k.args.pop(),O=k.args.pop();k.args.push(new w(B,k.name,[W,O]))}k=new w(B,k.name,k.args)}else return new m(D(k.fn),k.args.map(oe=>D(oe,P)))}if(Jr(k)&&k.isUnary()){var X=D(k.args[0],P);if(k.op==="~"&&Jr(X)&&X.isUnary()&&X.op==="~"||k.op==="not"&&Jr(X)&&X.isUnary()&&X.op==="not"&&T(X.args[0]))return X.args[0];var ne=!0;if(k.op==="-"&&Jr(X)&&(X.isBinary()&&X.fn==="subtract"&&(k=new w("-","subtract",[X.args[1],X.args[0]]),ne=!1),X.isUnary()&&X.op==="-"))return X.args[0];if(ne)return new w(k.op,k.fn,[X])}if(Jr(k)&&k.isBinary()){var Z=D(k.args[0],P),U=D(k.args[1],P);if(k.op==="+"){if(Yt(Z)&&i(Z.value))return U;if(Yt(U)&&i(U.value))return Z;Jr(U)&&U.isUnary()&&U.op==="-"&&(U=U.args[0],k=new w("-","subtract",[Z,U]))}if(k.op==="-")return Jr(U)&&U.isUnary()&&U.op==="-"?D(new w("+","add",[Z,U.args[0]]),P):Yt(Z)&&i(Z.value)?D(new w("-","unaryMinus",[U])):Yt(U)&&i(U.value)?Z:new w(k.op,k.fn,[Z,U]);if(k.op==="*"){if(Yt(Z)){if(i(Z.value))return v;if(n(Z.value,1))return U}if(Yt(U)){if(i(U.value))return v;if(n(U.value,1))return Z;if(b(k,R))return new w(k.op,k.fn,[U,Z],k.implicit)}return new w(k.op,k.fn,[Z,U],k.implicit)}if(k.op==="/")return Yt(Z)&&i(Z.value)?v:Yt(U)&&n(U.value,1)?Z:new w(k.op,k.fn,[Z,U]);if(k.op==="^"&&Yt(U)){if(i(U.value))return _;if(n(U.value,1))return Z}if(k.op==="and"){if(Yt(Z))if(Z.value){if(T(U))return U;if(Yt(U))return U.value?A:y}else return y;if(Yt(U))if(U.value){if(T(Z))return Z}else return y}if(k.op==="or"){if(Yt(Z)){if(Z.value)return A;if(T(U))return U}if(Yt(U)){if(U.value)return A;if(T(Z))return Z}}return new w(k.op,k.fn,[Z,U])}if(Jr(k))return new w(k.op,k.fn,k.args.map(oe=>D(oe,P)));if(li(k))return new f(k.items.map(oe=>D(oe,P)));if(Da(k))return new c(D(k.object,P),D(k.index,P));if(Ka(k))return new d(k.dimensions.map(oe=>D(oe,P)));if(bu(k)){var pe={};for(var me in k.properties)pe[me]=D(k.properties[me],P);return new h(pe)}return k}return e(J4,{Node:D,"Node,Object":D})});var hre="resolve",gre=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],kA=C(hre,gre,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function u(l,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return l;if(Ur(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=s.get(l.name);if(Kt(p)){var m=new Set(c);return m.add(l.name),u(p,s,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new n(p):l}else if(Jr(l)){var d=l.args.map(function(w){return u(w,s,c)});return new a(l.op,l.fn,d,l.implicit)}else{if(ci(l))return new o(u(l.content,s,c));if(Hi(l)){var h=l.args.map(function(w){return u(w,s,c)});return new i(l.name,h)}}return l.map(w=>u(w,s,c))}return e("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(l,s)=>u(l,Fs(s)),"Array | Matrix":e.referToSelf(l=>s=>s.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>s=>s.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(s,c)=>l(s,Fs(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(s,c)=>l(s,Fs(c))),"Array | Matrix, Map":e.referToSelf(l=>(s,c)=>s.map(f=>l(f,c)))})});var X4="symbolicEqual",vre=["parse","simplify","typed","OperatorNode"],$A=C(X4,vre,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,u]),c=t(s,{},l);return Yt(c)&&!c.value}return n(X4,{"Node, Node":a,"Node, Node, Object":a})});var Q4="derivative",yre=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],OA=C(Q4,yre,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:u,ConstantNode:l,FunctionNode:s,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=r;function m(v,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},y={};w(y,v,_.name);var T=x(v,y);return A.simplify?i(T):T}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var d=e(Q4,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),d._simplify=!0,d.toTex=function(v){return h.apply(null,v.args)};var h=e("_derivTex",{"Node, SymbolNode":function(_,A){return Yt(_)&&nr(_.value)==="string"?h(n(_.value).toString(),A.toString(),1):h(_.toTex(),A.toString(),1)},"Node, ConstantNode":function(_,A){if(nr(A.value)==="string")return h(_,n(A.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(_,A,y){return h(_.toString(),A.name,y.value)},"string, string, number":function(_,A,y){var T;return y===1?T="{d\\over d"+A+"}":T="{d^{"+y+"}\\over d"+A+"^{"+y+"}}",T+"\\left[".concat(_,"\\right]")}}),w=e("constTag",{"Object, ConstantNode, string":function(_,A){return _[A]=!0,!0},"Object, SymbolNode, string":function(_,A,y){return A.name!==y?(_[A]=!0,!0):!1},"Object, ParenthesisNode, string":function(_,A,y){return w(_,A.content,y)},"Object, FunctionAssignmentNode, string":function(_,A,y){return A.params.includes(y)?w(_,A.expr,y):(_[A]=!0,!0)},"Object, FunctionNode | OperatorNode, string":function(_,A,y){if(A.args.length>0){for(var T=w(_,A.args[0],y),M=1;M<A.args.length;++M)T=w(_,A.args[M],y)&&T;if(T)return _[A]=!0,!0}return!1}}),x=e("_derivative",{"ConstantNode, Object":function(_){return E(0)},"SymbolNode, Object":function(_,A){return A[_]!==void 0?E(0):E(1)},"ParenthesisNode, Object":function(_,A){return new f(x(_.content,A))},"FunctionAssignmentNode, Object":function(_,A){return A[_]!==void 0?E(0):x(_.expr,A)},"FunctionNode, Object":function(_,A){if(A[_]!==void 0)return E(0);var y=_.args[0],T,M=!1,b=!1,D;switch(_.name){case"cbrt":M=!0,D=new c("*","multiply",[E(3),new c("^","pow",[y,new c("/","divide",[E(2),E(3)])])]);break;case"sqrt":case"nthRoot":if(_.args.length===1)M=!0,D=new c("*","multiply",[E(2),new s("sqrt",[y])]);else if(_.args.length===2)return T=new c("/","divide",[E(1),_.args[1]]),A[T]=A[_.args[1]],x(new c("^","pow",[y,T]),A);break;case"log10":T=E(10);case"log":if(!T&&_.args.length===1)D=y.clone(),M=!0;else if(_.args.length===1&&T||_.args.length===2&&A[_.args[1]]!==void 0)D=new c("*","multiply",[y.clone(),new s("log",[T||_.args[1]])]),M=!0;else if(_.args.length===2)return x(new c("/","divide",[new s("log",[y]),new s("log",[_.args[1]])]),A);break;case"pow":if(_.args.length===2)return A[T]=A[_.args[1]],x(new c("^","pow",[y,_.args[1]]),A);break;case"exp":D=new s("exp",[y.clone()]);break;case"sin":D=new s("cos",[y.clone()]);break;case"cos":D=new c("-","unaryMinus",[new s("sin",[y.clone()])]);break;case"tan":D=new c("^","pow",[new s("sec",[y.clone()]),E(2)]);break;case"sec":D=new c("*","multiply",[_,new s("tan",[y.clone()])]);break;case"csc":b=!0,D=new c("*","multiply",[_,new s("cot",[y.clone()])]);break;case"cot":b=!0,D=new c("^","pow",[new s("csc",[y.clone()]),E(2)]);break;case"asin":M=!0,D=new s("sqrt",[new c("-","subtract",[E(1),new c("^","pow",[y.clone(),E(2)])])]);break;case"acos":M=!0,b=!0,D=new s("sqrt",[new c("-","subtract",[E(1),new c("^","pow",[y.clone(),E(2)])])]);break;case"atan":M=!0,D=new c("+","add",[new c("^","pow",[y.clone(),E(2)]),E(1)]);break;case"asec":M=!0,D=new c("*","multiply",[new s("abs",[y.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[y.clone(),E(2)]),E(1)])])]);break;case"acsc":M=!0,b=!0,D=new c("*","multiply",[new s("abs",[y.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[y.clone(),E(2)]),E(1)])])]);break;case"acot":M=!0,b=!0,D=new c("+","add",[new c("^","pow",[y.clone(),E(2)]),E(1)]);break;case"sinh":D=new s("cosh",[y.clone()]);break;case"cosh":D=new s("sinh",[y.clone()]);break;case"tanh":D=new c("^","pow",[new s("sech",[y.clone()]),E(2)]);break;case"sech":b=!0,D=new c("*","multiply",[_,new s("tanh",[y.clone()])]);break;case"csch":b=!0,D=new c("*","multiply",[_,new s("coth",[y.clone()])]);break;case"coth":b=!0,D=new c("^","pow",[new s("csch",[y.clone()]),E(2)]);break;case"asinh":M=!0,D=new s("sqrt",[new c("+","add",[new c("^","pow",[y.clone(),E(2)]),E(1)])]);break;case"acosh":M=!0,D=new s("sqrt",[new c("-","subtract",[new c("^","pow",[y.clone(),E(2)]),E(1)])]);break;case"atanh":M=!0,D=new c("-","subtract",[E(1),new c("^","pow",[y.clone(),E(2)])]);break;case"asech":M=!0,b=!0,D=new c("*","multiply",[y.clone(),new s("sqrt",[new c("-","subtract",[E(1),new c("^","pow",[y.clone(),E(2)])])])]);break;case"acsch":M=!0,b=!0,D=new c("*","multiply",[new s("abs",[y.clone()]),new s("sqrt",[new c("+","add",[new c("^","pow",[y.clone(),E(2)]),E(1)])])]);break;case"acoth":M=!0,b=!0,D=new c("-","subtract",[E(1),new c("^","pow",[y.clone(),E(2)])]);break;case"abs":D=new c("/","divide",[new s(new p("abs"),[y.clone()]),y.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+_.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var I,P;M?(I="/",P="divide"):(I="*",P="multiply");var R=x(y,A);return b&&(R=new c("-","unaryMinus",[R])),new c(I,P,[R,D])},"OperatorNode, Object":function(_,A){if(A[_]!==void 0)return E(0);if(_.op==="+")return new c(_.op,_.fn,_.args.map(function(L){return x(L,A)}));if(_.op==="-"){if(_.isUnary())return new c(_.op,_.fn,[x(_.args[0],A)]);if(_.isBinary())return new c(_.op,_.fn,[x(_.args[0],A),x(_.args[1],A)])}if(_.op==="*"){var y=_.args.filter(function(L){return A[L]!==void 0});if(y.length>0){var T=_.args.filter(function(L){return A[L]===void 0}),M=T.length===1?T[0]:new c("*","multiply",T),b=y.concat(x(M,A));return new c("*","multiply",b)}return new c("+","add",_.args.map(function(L){return new c("*","multiply",_.args.map(function(k){return k===L?x(k,A):k.clone()}))}))}if(_.op==="/"&&_.isBinary()){var D=_.args[0],I=_.args[1];return A[I]!==void 0?new c("/","divide",[x(D,A),I]):A[D]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[D]),new c("/","divide",[x(I,A),new c("^","pow",[I.clone(),E(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[x(D,A),I.clone()]),new c("*","multiply",[D.clone(),x(I,A)])]),new c("^","pow",[I.clone(),E(2)])])}if(_.op==="^"&&_.isBinary()){var P=_.args[0],R=_.args[1];if(A[P]!==void 0)return Yt(P)&&(o(P.value)||a(P.value,1))?E(0):new c("*","multiply",[_,new c("*","multiply",[new s("log",[P.clone()]),x(R.clone(),A)])]);if(A[R]!==void 0){if(Yt(R)){if(o(R.value))return E(0);if(a(R.value,1))return x(P,A)}var q=new c("^","pow",[P.clone(),new c("-","subtract",[R,E(1)])]);return new c("*","multiply",[R.clone(),new c("*","multiply",[x(P,A),q])])}return new c("*","multiply",[new c("^","pow",[P.clone(),R.clone()]),new c("+","add",[new c("*","multiply",[x(P,A),new c("/","divide",[R.clone(),P.clone()])]),new c("*","multiply",[x(R,A),new s("log",[P.clone()])])])])}throw new Error('Cannot process operator "'+_.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function E(v,_){return new l(u(v,_||_i(String(v),t)))}return d});var K4="rationalize",xre=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],RA=C(K4,xre,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:u,divide:l,pow:s,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:d,bignumber:h,mathWithTransform:w,matrix:x,AccessorNode:E,ArrayNode:v,ConstantNode:_,FunctionNode:A,IndexNode:y,ObjectNode:T,OperatorNode:M,SymbolNode:b,ParenthesisNode:D}=r;function I(k){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=R(),X=P(k,B,!0,O.firstRules),ne=X.variables.length,Z={exactFractions:!1},U={exactFractions:!0};if(k=X.expression,ne>=1){k=q(k);var pe,me,oe=!0,ve=!1;k=m(k,O.firstRules,{},Z);for(var _e;me=oe?O.distrDivRules:O.sucDivRules,k=m(k,me,{},U),oe=!oe,_e=k.toString(),_e!==pe;)ve=!0,pe=_e;ve&&(k=m(k,O.firstRulesAgain,{},Z)),k=m(k,O.finalRules,{},Z)}var ye=[],be={};return k.type==="OperatorNode"&&k.isBinary()&&k.op==="/"?(ne===1&&(k.args[0]=L(k.args[0],ye),k.args[1]=L(k.args[1])),W&&(be.numerator=k.args[0],be.denominator=k.args[1])):(ne===1&&(k=L(k,ye)),W&&(be.numerator=k,be.denominator=null)),W?(be.coefficients=ye,be.variables=X.variables,be.expression=k,be):k}return t(K4,{Node:I,"Node, boolean":(k,B)=>I(k,{},B),"Node, Object":I,"Node, Object, boolean":I});function P(k,B,W,O){var X=[],ne=m(k,O,B,{exactFractions:!1});W=!!W;var Z="+-*"+(W?"/":"");pe(ne);var U={};return U.expression=ne,U.variables=X,U;function pe(me){var oe=me.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode")if(me.op==="^"){if(me.args[1].type!=="ConstantNode"||!Je(parseFloat(me.args[1].value)))throw new Error("There is a non-integer exponent");pe(me.args[0])}else{if(!Z.includes(me.op))throw new Error("Operator "+me.op+" invalid in polynomial expression");for(var ve=0;ve<me.args.length;ve++)pe(me.args[ve])}else if(oe==="SymbolNode"){var _e=me.name,ye=X.indexOf(_e);ye===-1&&X.push(_e)}else if(oe==="ParenthesisNode")pe(me.content);else if(oe!=="ConstantNode")throw new Error("type "+oe+" is not allowed in polynomial expression")}}function R(){var k=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],B=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],W=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],X={};return X.firstRules=k.concat(B,O),X.distrDivRules=W,X.sucDivRules=O,X.firstRulesAgain=k.concat(B),X.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],X}function q(k,B,W){var O=k.type,X=arguments.length>1;if(O==="OperatorNode"&&k.isBinary()){var ne=!1,Z;if(k.op==="^"&&(k.args[0].type==="ParenthesisNode"||k.args[0].type==="OperatorNode")&&k.args[1].type==="ConstantNode"&&(Z=parseFloat(k.args[1].value),ne=Z>=2&&Je(Z)),ne){if(Z>2){var U=k.args[0],pe=new M("^","pow",[k.args[0].cloneDeep(),new _(Z-1)]);k=new M("*","multiply",[U,pe])}else k=new M("*","multiply",[k.args[0],k.args[0].cloneDeep()]);X&&(W==="content"?B.content=k:B.args[W]=k)}}if(O==="ParenthesisNode")q(k.content,k,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var me=0;me<k.args.length;me++)q(k.args[me],k,me);if(!X)return k}function L(k,B){B===void 0&&(B=[]),B[0]=0;var W={};W.cte=1,W.oper="+",W.fire="";var O=0,X="";_e(k,null,W),O=B.length-1;for(var ne=!0,Z,U=O;U>=0;U--)if(B[U]!==0){var pe=new _(ne?B[U]:Math.abs(B[U])),me=B[U]<0?"-":"+";if(U>0){var oe=new b(X);if(U>1){var ve=new _(U);oe=new M("^","pow",[oe,ve])}B[U]===-1&&ne?pe=new M("-","unaryMinus",[oe]):Math.abs(B[U])===1?pe=oe:pe=new M("*","multiply",[pe,oe])}ne?Z=pe:me==="+"?Z=new M("+","add",[Z,pe]):Z=new M("-","subtract",[Z,pe]),ne=!1}if(ne)return new _(0);return Z;function _e(ye,be,we){var Ee=ye.type;if(Ee==="FunctionNode")throw new Error("There is an unsolved function call");if(Ee==="OperatorNode"){if(!"+-*^".includes(ye.op))throw new Error("Operator "+ye.op+" invalid");if(be!==null){if((ye.fn==="unaryMinus"||ye.fn==="pow")&&be.fn!=="add"&&be.fn!=="subtract"&&be.fn!=="multiply")throw new Error("Invalid "+ye.op+" placing");if((ye.fn==="subtract"||ye.fn==="add"||ye.fn==="multiply")&&be.fn!=="add"&&be.fn!=="subtract")throw new Error("Invalid "+ye.op+" placing");if((ye.fn==="subtract"||ye.fn==="add"||ye.fn==="unaryMinus")&&we.noFil!==0)throw new Error("Invalid "+ye.op+" placing")}(ye.op==="^"||ye.op==="*")&&(we.fire=ye.op);for(var qe=0;qe<ye.args.length;qe++)ye.fn==="unaryMinus"&&(we.oper="-"),(ye.op==="+"||ye.fn==="subtract")&&(we.fire="",we.cte=1,we.oper=qe===0?"+":ye.op),we.noFil=qe,_e(ye.args[qe],ye,we)}else if(Ee==="SymbolNode"){if(ye.name!==X&&X!=="")throw new Error("There is more than one variable");if(X=ye.name,be===null){B[1]=1;return}if(be.op==="^"&&we.noFil!==0)throw new Error("In power the variable should be the first parameter");if(be.op==="*"&&we.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(we.fire===""||we.fire==="*")&&(O<1&&(B[1]=0),B[1]+=we.cte*(we.oper==="+"?1:-1),O=Math.max(1,O))}else if(Ee==="ConstantNode"){var Qe=parseFloat(ye.value);if(be===null){B[0]=Qe;return}if(be.op==="^"){if(we.noFil!==1)throw new Error("Constant cannot be powered");if(!Je(Qe)||Qe<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=O+1;Y<Qe;Y++)B[Y]=0;Qe>O&&(B[Qe]=0),B[Qe]+=we.cte*(we.oper==="+"?1:-1),O=Math.max(Qe,O);return}we.cte=Qe,we.fire===""&&(B[0]+=we.cte*(we.oper==="+"?1:-1))}else throw new Error("Type "+Ee+" is not allowed")}}});var eU="zpk2tf",bre=["typed","add","multiply","Complex","number"],LA=C(eU,bre,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(eU,{"Array,Array,number":function(s,c,f){return o(s,c,f)},"Array,Array":function(s,c){return o(s,c,1)},"Matrix,Matrix,number":function(s,c,f){return o(s.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(s,c){return o(s.valueOf(),c.valueOf(),1)}});function o(l,s,c){l.some(E=>E.type==="BigNumber")&&(l=l.map(E=>a(E))),s.some(E=>E.type==="BigNumber")&&(s=s.map(E=>a(E)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<l.length;m++){var d=l[m];typeof d=="number"&&(d=i(d,0)),f=u(f,[i(1,0),i(-d.re,-d.im)])}for(var h=0;h<s.length;h++){var w=s[h];typeof w=="number"&&(w=i(w,0)),p=u(p,[i(1,0),i(-w.re,-w.im)])}for(var x=0;x<f.length;x++)f[x]=n(f[x],c);return[f,p]}function u(l,s){for(var c=[],f=0;f<l.length+s.length-1;f++){c[f]=i(0,0);for(var p=0;p<l.length;p++)f-p>=0&&f-p<s.length&&(c[f]=t(c[f],n(l[p],s[f-p])))}return c}});var tU="freqz",wre=["typed","add","multiply","Complex","divide","matrix"],UA=C(tU,wre,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(tU,{"Array, Array":function(c,f){var p=l(512);return u(c,f,p)},"Array, Array, Array":function(c,f,p){return u(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=l(p);return u(c,f,m)},"Matrix, Matrix":function(c,f){var p=l(512),{w:m,h:d}=u(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(d)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=u(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=l(p),{h:d}=u(c.valueOf(),f.valueOf(),m);return{h:o(d),w:o(m)}}});function u(s,c,f){for(var p=[],m=[],d=0;d<f.length;d++){for(var h=i(0,0),w=i(0,0),x=0;x<s.length;x++)h=t(h,n(s[x],i(Math.cos(-x*f[d]),Math.sin(-x*f[d]))));for(var E=0;E<c.length;E++)w=t(w,n(c[E],i(Math.cos(-E*f[d]),Math.sin(-E*f[d]))));p.push(h),m.push(w)}for(var v=[],_=0;_<p.length;_++)v.push(a(p[_],m[_]));return{h:v,w:f}}function l(s){for(var c=[],f=0;f<s;f++)c.push(f/s*Math.PI);return c}});var _re="reviver",Sre=["classes"],VA=C(_re,Sre,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var Are="replacer",Ere=[],qA=C(Are,Ere,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:typeof t=="bigint"?{mathjs:"bigint",value:String(t)}:t});var rU="13.1.1";var zA=C("true",[],()=>!0),HA=C("false",[],()=>!1),GA=C("null",[],()=>null),WA=Fa("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),YA=Fa("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),jA=Fa("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?Gp(t):I2}),ZA=Fa("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?ik(t):P2}),JA=Fa("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?rk(t):B2}),XA=Fa("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?nk(t):k2}),QA=Fa("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),KA=Fa("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),eE=Fa("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),tE=Fa("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),rE=Fa("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),nE=Fa("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),iE=Fa("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var aE=C("version",[],()=>rU);function Fa(r,e,t){return C(r,e,t,{recreateOnConfigChange:!0})}var oE=tr("speedOfLight","299792458","m s^-1"),sE=tr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),uE=tr("planckConstant","6.62607015e-34","J s"),lE=tr("reducedPlanckConstant","1.0545718176461565e-34","J s"),cE=tr("magneticConstant","1.25663706212e-6","N A^-2"),fE=tr("electricConstant","8.8541878128e-12","F m^-1"),pE=tr("vacuumImpedance","376.730313667","ohm"),mE=tr("coulomb","8.987551792261171e9","N m^2 C^-2"),dE=tr("elementaryCharge","1.602176634e-19","C"),hE=tr("bohrMagneton","9.2740100783e-24","J T^-1"),gE=tr("conductanceQuantum","7.748091729863649e-5","S"),vE=tr("inverseConductanceQuantum","12906.403729652257","ohm"),yE=tr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),xE=tr("nuclearMagneton","5.0507837461e-27","J T^-1"),bE=tr("klitzing","25812.807459304513","ohm");var wE=tr("bohrRadius","5.29177210903e-11","m"),_E=tr("classicalElectronRadius","2.8179403262e-15","m"),SE=tr("electronMass","9.1093837015e-31","kg"),AE=tr("fermiCoupling","1.1663787e-5","GeV^-2"),EE=Ug("fineStructure",.0072973525693),TE=tr("hartreeEnergy","4.3597447222071e-18","J"),ME=tr("protonMass","1.67262192369e-27","kg"),DE=tr("deuteronMass","3.3435830926e-27","kg"),CE=tr("neutronMass","1.6749271613e-27","kg"),NE=tr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),FE=tr("rydberg","10973731.568160","m^-1"),IE=tr("thomsonCrossSection","6.6524587321e-29","m^2"),PE=Ug("weakMixingAngle",.2229),BE=Ug("efimovFactor",22.7),kE=tr("atomicMass","1.66053906660e-27","kg"),$E=tr("avogadro","6.02214076e23","mol^-1"),OE=tr("boltzmann","1.380649e-23","J K^-1"),RE=tr("faraday","96485.33212331001","C mol^-1"),LE=tr("firstRadiation","3.7417718521927573e-16","W m^2"),UE=tr("loschmidt","2.686780111798444e25","m^-3"),VE=tr("gasConstant","8.31446261815324","J K^-1 mol^-1"),qE=tr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),zE=tr("molarVolume","0.022413969545014137","m^3 mol^-1"),HE=Ug("sackurTetrode",-1.16487052358),GE=tr("secondRadiation","0.014387768775039337","m K"),WE=tr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),YE=tr("wienDisplacement","2.897771955e-3","m K"),jE=tr("molarMass","0.99999999965e-3","kg mol^-1"),ZE=tr("molarMassC12","11.9999999958e-3","kg mol^-1"),JE=tr("gravity","9.80665","m s^-2"),XE=tr("planckLength","1.616255e-35","m"),QE=tr("planckMass","2.176435e-8","kg"),KE=tr("planckTime","5.391245e-44","s"),eT=tr("planckCharge","1.87554603778e-18","C"),tT=tr("planckTemperature","1.416785e+32","K");function tr(r,e,t){var n=["config","Unit","BigNumber"];return C(r,n,i=>{var{config:a,Unit:o,BigNumber:u}=i,l=a.number==="BigNumber"?new u(e):parseFloat(e),s=new o(l,t);return s.fixPrefix=!0,s})}function Ug(r,e){var t=["config","BigNumber"];return C(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var Tre="apply",Mre=["typed","isInteger"],rT=C(Tre,Mre,r=>{var{typed:e,isInteger:t}=r,n=Dl({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];xt(o)?a[1]=o-1:ut(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(u){throw zr(u)}}})},{isTransformFunction:!0});var Dre="column",Cre=["typed","Index","matrix","range"],nT=C(Dre,Cre,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=kp({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(u){var l=u.length-1,s=u[l];xt(s)&&(u[l]=s-1);try{return a.apply(null,u)}catch(c){throw zr(c)}}})},{isTransformFunction:!0});function uf(r,e,t){var n=r.filter(function(l){return Ur(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=new Map,o=new Lc(t,a,new Set([i])),u=r.compile();return function(s){return a.set(i,s),u.evaluate(o)}}var Nre="filter",Fre=["typed"],iT=C(Nre,Fre,r=>{var{typed:e}=r;function t(i,a,o){var u,l;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ur(i[1])||jo(i[1])?l=i[1].compile().evaluate(o):l=uf(i[1],a,o)),n(u,l)}t.rawArgs=!0;var n=e("filter",{"Array, function":nU,"Matrix, function":function(a,o){return a.create(nU(a.toArray(),o),a.datatype())},"Array, RegExp":Yc,"Matrix, RegExp":function(a,o){return a.create(Yc(a.toArray(),o),a.datatype())}});return t},{isTransformFunction:!0});function nU(r,e){return Yh(r,function(t,n,i){return oa(e,t,[n+1],i,"filter")})}var Ire="forEach",Pre=["typed"],aT=C(Ire,Pre,r=>{var{typed:e}=r;function t(i,a,o){var u,l;return i[0]&&(u=i[0].compile().evaluate(o)),i[1]&&(Ur(i[1])||jo(i[1])?l=i[1].compile().evaluate(o):l=uf(i[1],a,o)),n(u,l)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var u=function(s,c){if(Array.isArray(s))Eu(s,function(f,p){u(f,c.concat(p+1))});else return oa(o,s,c,a,"forEach")};u(a.valueOf(),[])}});return t},{isTransformFunction:!0});var Bre="index",kre=["Index","getMatrixDataType"],oT=C(Bre,kre,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var u=arguments[a];if(Uc(u))u.start--,u.end-=u.step>0?0:2;else if(u&&u.isSet===!0)u=u.map(function(s){return s-1});else if(ur(u)||et(u))t(u)!=="boolean"&&(u=u.map(function(s){return s-1}));else if(xt(u))u--;else if(ut(u))u=u.toNumber()-1;else if(typeof u!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=u}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0});var $re="map",Ore=["typed"],sT=C($re,Ore,r=>{var{typed:e}=r,t=$p({typed:e});function n(o,u,l){if(o.length===0)return t();if(o.length===1)return t(o[0]);var s=o.length-1,c,f;return f=o[s],c=o.slice(0,s),c=c.map(m=>p(m,l)),f&&(Ur(f)||jo(f)?f=p(f,l):f=uf(f,u,l)),t(...c,i(f,s));function p(m,d){return m.compile().evaluate(d)}}return n.rawArgs=!0,n;function i(o,u){return e.isTypedFunction(o)?a(o,u):iU(o,o.length,u)}function a(o,u){var l=Object.fromEntries(Object.entries(o.signatures).map(s=>{var[c,f]=s,p=c.split(",").length;return e.isTypedFunction(f)?[c,a(f,u)]:[c,iU(f,p,u)]}));return typeof o.name=="string"?e(o.name,l):e(l)}},{isTransformFunction:!0});function iU(r,e,t){return e===t?r:e===t+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,t),u=aU(i[t]);return r(...o,u)}:e>t+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,t),u=aU(i[t]),l=i.slice(t+1);return r(...o,u,...l)}:r}function aU(r){return r.map(e=>e.isBigNumber?e.plus(1):e+1)}function oU(r){return xt(r)?r-1:ut(r)?r.minus(1):r}function sU(r){return xt(r)||ut(r)}function Ti(r){if(r.length===2&&bn(r[0])){r=r.slice();var e=r[1];sU(e)&&(r[1]=oU(e))}return r}var Rre="max",Lre=["typed","config","numeric","larger"],uT=C(Rre,Lre,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=zp({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(u){u=Ti(u);try{return a.apply(null,u)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var Ure="mean",Vre=["typed","add","divide"],lT=C(Ure,Vre,r=>{var{typed:e,add:t,divide:n}=r,i=Zp({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=Ti(o);try{return i.apply(null,o)}catch(u){throw zr(u)}}})},{isTransformFunction:!0});var qre="min",zre=["typed","config","numeric","smaller"],cT=C(qre,zre,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=Hp({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(u){u=Ti(u);try{return a.apply(null,u)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var Hre="range",Gre=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],fT=C(Hre,Gre,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:l,add:s,isPositive:c}=r,f=Rp({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:l,add:s,isPositive:c});return e("range",{"...any":function(m){var d=m.length-1,h=m[d];return typeof h!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var Wre="row",Yre=["typed","Index","matrix","range"],pT=C(Wre,Yre,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Lp({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(u){var l=u.length-1,s=u[l];xt(s)&&(u[l]=s-1);try{return a.apply(null,u)}catch(c){throw zr(c)}}})},{isTransformFunction:!0});var jre="subset",Zre=["typed","matrix","zeros","add"],mT=C(jre,Zre,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Up({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(u){try{return a.apply(null,u)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var Jre="concat",Xre=["typed","matrix","isInteger"],dT=C(Jre,Xre,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=Bp({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var u=o.length-1,l=o[u];xt(l)?o[u]=l-1:ut(l)&&(o[u]=l.minus(1));try{return i.apply(null,o)}catch(s){throw zr(s)}}})},{isTransformFunction:!0});var uU="diff",Qre=["typed","matrix","subtract","number","bignumber"],hT=C(uU,Qre,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Op({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(uU,{"...any":function(l){l=Ti(l);try{return o.apply(null,l)}catch(s){throw zr(s)}}})},{isTransformFunction:!0});var Kre="std",ene=["typed","map","sqrt","variance"],gT=C(Kre,ene,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=Qp({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(u){u=Ti(u);try{return a.apply(null,u)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var lU="sum",tne=["typed","config","add","numeric"],vT=C(lU,tne,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=Yp({typed:e,config:t,add:n,numeric:i});return e(lU,{"...any":function(u){u=Ti(u);try{return a.apply(null,u)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var rne="quantileSeq",nne=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],yT=C(rne,nne,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:l,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=Xp({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:u,compare:l,isInteger:s,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(h,w,x)=>m(h,w,d(x)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(h,w,x,E)=>m(h,w,x,d(E)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(h,w,x)=>m(h,w,d(x)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(h,w,x,E)=>m(h,w,x,d(E))});function d(h){return Ti([[],h])[1]}},{isTransformFunction:!0});var cU="cumsum",ine=["typed","add","unaryPlus"],xT=C(cU,ine,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=jp({typed:e,add:t,unaryPlus:n});return e(cU,{"...any":function(o){if(o.length===2&&bn(o[0])){var u=o[1];xt(u)?o[1]=u-1:ut(u)&&(o[1]=u.minus(1))}try{return i.apply(null,o)}catch(l){throw zr(l)}}})},{isTransformFunction:!0});var fU="variance",ane=["typed","add","subtract","multiply","divide","apply","isNaN"],bT=C(fU,ane,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u}=r,l=Jp({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:u});return e(fU,{"...any":function(c){c=Ti(c);try{return l.apply(null,c)}catch(f){throw zr(f)}}})},{isTransformFunction:!0});var pU="print",one=["typed","matrix","zeros","add"],wT=C(pU,one,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Vp({typed:e,matrix:t,zeros:n,add:i});return e(pU,{"string, Object | Array":function(l,s){return a(o(l),s)},"string, Object | Array, number | Object":function(l,s,c){return a(o(l),s,c)}});function o(u){return u.replace(sg,l=>{var s=l.slice(1).split("."),c=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var sne="and",une=["typed","matrix","zeros","add","equalScalar","not","concat"],_T=C(sne,une,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=qp({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function l(s,c,f){var p=s[0].compile().evaluate(f);if(!bn(p)&&!u(p,!0))return!1;var m=s[1].compile().evaluate(f);return u(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var lne="or",cne=["typed","matrix","equalScalar","DenseMatrix","concat"],ST=C(lne,cne,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Pp({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function u(l,s,c){var f=l[0].compile().evaluate(c);if(!bn(f)&&o(f,!1))return!0;var p=l[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var fne="bitAnd",pne=["typed","matrix","zeros","add","equalScalar","not","concat"],AT=C(fne,pne,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,u=Fp({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function l(s,c,f){var p=s[0].compile().evaluate(f);if(!bn(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=s[1].compile().evaluate(f);return u(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0});var mne="bitOr",dne=["typed","matrix","equalScalar","DenseMatrix","concat"],ET=C(mne,dne,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Ip({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function u(l,s,c){var f=l[0].compile().evaluate(c);if(!bn(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=l[1].compile().evaluate(c);return o(f,p)}return u.rawArgs=!0,u},{isTransformFunction:!0});var je=Gb({config:Be}),Hr=Yb({}),TT=JA({BigNumber:je,config:Be}),mU=HA({}),dU=EE({BigNumber:je,config:Be}),Nu=Zb({}),MT=iE({Complex:Hr}),hU=WA({BigNumber:je,config:Be}),gU=KA({BigNumber:je,config:Be}),vU=tE({BigNumber:je,config:Be}),tm=Xb({}),yU=YA({BigNumber:je,config:Be}),xU=GA({}),bU=XA({BigNumber:je,config:Be}),wU=Jb({}),DT=Rb({}),_U=rE({BigNumber:je,config:Be}),SU=HE({BigNumber:je,config:Be}),CT=ZA({BigNumber:je,config:Be}),AU=zA({}),EU=aE({}),ir=n0({Matrix:tm}),TU=BE({BigNumber:je,config:Be}),MU=QA({BigNumber:je,config:Be}),Vg=jA({BigNumber:je,config:Be}),DU=qA({}),CU=nE({BigNumber:je,config:Be}),K=Ob({BigNumber:je,Complex:Hr,DenseMatrix:ir,Fraction:Nu}),NU=PE({BigNumber:je,config:Be}),Mi=Sw({typed:K}),FU=w1({Complex:Hr,config:Be,typed:K}),IU=S1({BigNumber:je,typed:K}),PU=E1({BigNumber:je,Complex:Hr,config:Be,typed:K}),Ln=Aw({typed:K}),BU=Kw({typed:K}),kU=D1({BigNumber:je,Complex:Hr,config:Be,typed:K}),$U=N1({typed:K}),NT=F1({typed:K}),OU=P1({Complex:Hr,config:Be,typed:K}),RU=cw({typed:K}),LU=Xw({typed:K}),UU=pw({typed:K}),VU=i0({typed:K}),rm=sA({typed:K}),nm=dw({Complex:Hr,typed:K}),Fu=e_({typed:K}),qg=B1({typed:K}),qU=$1({BigNumber:je,typed:K}),zU=R1({BigNumber:je,typed:K}),HU=Cw({typed:K}),lr=sw({config:Be,typed:K}),GU=M_({typed:K}),FT=Nw({typed:K}),WU=Fw({Complex:Hr,typed:K}),YU=u_({typed:K}),lf=l_({typed:K}),jU=c_({typed:K}),cf=F_({typed:K}),zg=f_({typed:K}),ZU=B_({format:cf,typed:K}),Hg=t_({typed:K}),Gi=o0({typed:K}),Us=ew({config:Be,typed:K}),Iu=nw({config:Be,typed:K}),oo=iw({equalScalar:lr,typed:K}),JU=eE({BigNumber:je,config:Be}),XU=cA({Complex:Hr,typed:K}),QU=Rw({Complex:Hr,config:Be,typed:K}),IT=Lw({Complex:Hr,config:Be,typed:K}),Pu=$p({typed:K}),_n=Uw({typed:K}),im=n_({typed:K}),Qo=lw({typed:K}),KU=P_({format:cf,typed:K}),eV=_A({config:Be,typed:K}),tV=Vp({typed:K}),rV=SA({config:Be,typed:K}),Gg=r_({typed:K}),nV=U1({BigNumber:je,typed:K}),PT=zw({BigNumber:je,Fraction:Nu,complex:nm,typed:K}),am=q1({typed:K}),Ko=uw({Matrix:tm,equalScalar:lr,typed:K}),iV=bw({typed:K}),aV=Gw({typed:K}),oV=fw({typed:K}),Ia=Ew({typed:K}),sV=H1({typed:K}),BT=ow({typed:K}),uV=_1({Complex:Hr,config:Be,typed:K}),lV=T1({BigNumber:je,typed:K}),Wg=Dl({isInteger:Gi,typed:K}),cV=M1({BigNumber:je,Complex:Hr,config:Be,typed:K}),la=mw({BigNumber:je,typed:K}),fV=uA({typed:K}),pV=k1({typed:K}),mV=L1({BigNumber:je,typed:K}),ff=aw({typed:K}),dV=$_({typed:K}),hV=AA({config:Be,typed:K}),gV=V1({BigNumber:je,typed:K}),vV=z1({typed:K}),yV=x1({SparseMatrix:Ko,typed:K}),so=Hw({Complex:Hr,config:Be,typed:K}),xV=b_({typed:K}),bV=G1({typed:K}),No=ww({typed:K}),wV=A1({BigNumber:je,Complex:Hr,config:Be,typed:K}),_V=I_({format:cf,typed:K}),SV=O1({BigNumber:je,typed:K}),Bl=hw({Fraction:Nu,typed:K}),Bu=tw({typed:K}),Ge=gw({DenseMatrix:ir,Matrix:tm,SparseMatrix:Ko,typed:K}),AV=vw({isZero:oo,matrix:Ge,typed:K}),EV=C_({isNaN:ff,isNumeric:Bu,typed:K}),Pa=O_({bignumber:la,fraction:Bl,number:Qo}),kT=N_({config:Be,multiplyScalar:_n,numeric:Pa,typed:K}),$T=h_({isInteger:Gi,matrix:Ge,typed:K}),ri=x_({matrix:Ge,config:Be,typed:K}),pf=w_({matrix:Ge,typed:K}),OT=Yw({BigNumber:je,config:Be,matrix:Ge,typed:K}),ni=S_({BigNumber:je,config:Be,matrix:Ge,typed:K}),TV=C1({Complex:Hr,config:Be,typed:K}),RT=Tw({BigNumber:je,Complex:Hr,Fraction:Nu,config:Be,isNegative:Us,matrix:Ge,typed:K,unaryMinus:No}),xr=Bp({isInteger:Gi,matrix:Ge,typed:K}),MV=a_({prod:kT,size:ri,typed:K}),Yg=__({conj:Fu,transpose:pf,typed:K}),LT=s_({DenseMatrix:ir,SparseMatrix:Ko,matrix:Ge,typed:K}),cn=R_({numeric:Pa,typed:K}),mf=G_({DenseMatrix:ir,concat:xr,divideScalar:cn,equalScalar:lr,matrix:Ge,typed:K}),Ba=r1({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),DV=rw({isNumeric:Bu,typed:K}),Vs=p_({BigNumber:je,DenseMatrix:ir,SparseMatrix:Ko,config:Be,matrix:Ge,typed:K}),CV=m_({matrix:Ge,multiplyScalar:_n,typed:K}),om=s1({DenseMatrix:ir,concat:xr,config:Be,matrix:Ge,typed:K}),NV=J_({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K,zeros:ni}),UT=W_({DenseMatrix:ir,divideScalar:cn,equalScalar:lr,matrix:Ge,multiplyScalar:_n,subtractScalar:Ia,typed:K}),jg=xw({flatten:lf,matrix:Ge,size:ri,typed:K}),FV=qw({BigNumber:je,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),IV=d_({BigNumber:je,config:Be,matrix:Ge,typed:K}),Zg=PS({addScalar:Ln,complex:nm,conj:Fu,divideScalar:cn,equal:Ba,identity:Vs,isZero:oo,matrix:Ge,multiplyScalar:_n,sign:PT,sqrt:so,subtractScalar:Ia,typed:K,unaryMinus:No,zeros:ni}),PV=g_({config:Be,matrix:Ge}),BV=X_({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K,zeros:ni}),kl=U_({BigNumber:je,DenseMatrix:ir,config:Be,equalScalar:lr,matrix:Ge,typed:K,zeros:ni}),Di=i1({DenseMatrix:ir,concat:xr,config:Be,matrix:Ge,typed:K}),Sn=Ww({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,subtractScalar:Ia,typed:K,unaryMinus:No}),kV=k_({concat:xr,matrix:Ge,typed:K}),Jg=_w({config:Be,numeric:Pa,typed:K}),Xg=Y_({DenseMatrix:ir,divideScalar:cn,equalScalar:lr,matrix:Ge,multiplyScalar:_n,subtractScalar:Ia,typed:K}),$V=i_({DenseMatrix:ir,concat:xr,matrix:Ge,typed:K}),dr=rS({DenseMatrix:ir,SparseMatrix:Ko,addScalar:Ln,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),OV=I1({BigNumber:je,DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),RV=Fp({concat:xr,equalScalar:lr,matrix:Ge,typed:K}),LV=Ip({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),UV=Qw({DenseMatrix:ir,concat:xr,matrix:Ge,typed:K}),VV=MA({addScalar:Ln,combinations:rm,divideScalar:cn,isInteger:Gi,isNegative:Us,multiplyScalar:_n,typed:K}),ku=K_({BigNumber:je,DenseMatrix:ir,Fraction:Nu,concat:xr,config:Be,equalScalar:lr,matrix:Ge,typed:K}),VT=t1({concat:xr,matrix:Ge,typed:K}),qV=jp({add:dr,typed:K,unaryPlus:Jg}),Qg=u1({equal:Ba,typed:K}),zV=Op({matrix:Ge,number:Qo,subtract:Sn,typed:K}),HV=tA({abs:Mi,addScalar:Ln,deepEqual:Qg,divideScalar:cn,multiplyScalar:_n,sqrt:so,subtractScalar:Ia,typed:K}),sm=aS({addScalar:Ln,conj:Fu,multiplyScalar:_n,size:ri,typed:K}),GV=n1({compareText:VT,isZero:oo,typed:K}),qT=Cp({DenseMatrix:ir,config:Be,equalScalar:lr,matrix:Ge,round:kl,typed:K,zeros:ni}),WV=$w({BigNumber:je,DenseMatrix:ir,concat:xr,config:Be,equalScalar:lr,matrix:Ge,round:kl,typed:K,zeros:ni}),YV=nS({abs:Mi,addScalar:Ln,divideScalar:cn,isPositive:Iu,multiplyScalar:_n,smaller:Di,sqrt:so,typed:K}),zT=p1({DenseMatrix:ir,smaller:Di}),mi=m1({ImmutableDenseMatrix:zT,getMatrixDataType:zg}),Ci=o1({DenseMatrix:ir,concat:xr,config:Be,matrix:Ge,typed:K}),Kg=V_({Complex:Hr,config:Be,divideScalar:cn,typed:K}),jV=j_({DenseMatrix:ir,divideScalar:cn,equalScalar:lr,matrix:Ge,multiplyScalar:_n,subtractScalar:Ia,typed:K}),ZV=yw({flatten:lf,matrix:Ge,size:ri,typed:K}),JV=Hp({config:Be,numeric:Pa,smaller:Di,typed:K}),HT=Np({DenseMatrix:ir,concat:xr,config:Be,equalScalar:lr,matrix:Ge,round:kl,typed:K,zeros:ni}),Ir=Vw({addScalar:Ln,dot:sm,equalScalar:lr,matrix:Ge,multiplyScalar:_n,typed:K}),XV=z_({Complex:Hr,config:Be,divideScalar:cn,typed:K}),QV=Pp({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),um=c1({compare:ku,isNaN:ff,isNumeric:Bu,typed:K}),KV=Q_({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K,zeros:ni}),GT=kS({SparseMatrix:Ko,abs:Mi,add:dr,divideScalar:cn,larger:Ci,largerEq:om,multiply:Ir,subtract:Sn,transpose:pf,typed:K}),ca=Up({add:dr,matrix:Ge,typed:K,zeros:ni}),ev=Yp({add:dr,config:Be,numeric:Pa,typed:K}),e5=oS({add:dr,matrix:Ge,typed:K}),WT=Z_({DenseMatrix:ir,divideScalar:cn,equalScalar:lr,matrix:Ge,multiplyScalar:_n,subtractScalar:Ia,typed:K}),t5=LA({Complex:Hr,add:dr,multiply:Ir,number:Qo,typed:K}),tv=Dw({DenseMatrix:ir,config:Be,equalScalar:lr,matrix:Ge,round:kl,typed:K,zeros:ni}),Fo=e1({compare:ku,typed:K}),r5=DA({addScalar:Ln,combinations:rm,isInteger:Gi,isNegative:Us,isPositive:Iu,larger:Ci,typed:K}),n5=o_({matrix:Ge,multiply:Ir,subtract:Sn,typed:K}),YT=GS({divideScalar:cn,isZero:oo,matrix:Ge,multiply:Ir,subtractScalar:Ia,typed:K,unaryMinus:No}),i5=Zw({concat:xr,equalScalar:lr,matrix:Ge,multiplyScalar:_n,typed:K}),jT=d1({larger:Ci,smaller:Di}),ZT=Pw({Complex:Hr,DenseMatrix:ir,ceil:tv,equalScalar:lr,floor:qT,matrix:Ge,typed:K,zeros:ni}),JT=sS({Index:mi,typed:K}),a5=rA({abs:Mi,add:dr,addScalar:Ln,config:Be,divideScalar:cn,equalScalar:lr,flatten:lf,isNumeric:Bu,isZero:oo,matrix:Ge,multiply:Ir,multiplyScalar:_n,smaller:Di,subtract:Sn,typed:K}),o5=jw({BigNumber:je,add:dr,config:Be,equal:Ba,isInteger:Gi,mod:HT,smaller:Di,typed:K,xgcd:OT}),s5=Ow({concat:xr,equalScalar:lr,matrix:Ge,typed:K}),u5=q_({Complex:Hr,config:Be,divideScalar:cn,log:Kg,typed:K}),rv=zp({config:Be,larger:Ci,numeric:Pa,typed:K}),l5=W1({DenseMatrix:ir,Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),c5=j1({DenseMatrix:ir,Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),f5=J1({Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),p5=Q1({Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),$l=a1({DenseMatrix:ir,concat:xr,config:Be,matrix:Ge,typed:K}),m5=f1({compare:ku,compareNatural:Fo,matrix:Ge,typed:K}),d5=l1({DenseMatrix:ir,concat:xr,config:Be,equalScalar:lr,matrix:Ge,typed:K}),h5=qp({concat:xr,equalScalar:lr,matrix:Ge,not:im,typed:K,zeros:ni}),Ol=Rp({bignumber:la,matrix:Ge,add:dr,config:Be,isPositive:Iu,larger:Ci,largerEq:om,smaller:Di,smallerEq:$l,typed:K}),g5=Lp({Index:mi,matrix:Ge,range:Ol,typed:K}),XT=Y1({DenseMatrix:ir,Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),v5=X1({Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),QT=eS({Index:mi,concat:xr,setDifference:XT,size:ri,subset:ca,typed:K}),KT=h1({FibonacciHeap:jT,addScalar:Ln,equalScalar:lr}),eM=kp({Index:mi,matrix:Ge,range:Ol,typed:K}),$u=WS({abs:Mi,addScalar:Ln,det:YT,divideScalar:cn,identity:Vs,matrix:Ge,multiply:Ir,typed:K,unaryMinus:No}),tM=IS({DenseMatrix:ir,Spa:KT,SparseMatrix:Ko,abs:Mi,addScalar:Ln,divideScalar:cn,equalScalar:lr,larger:Ci,matrix:Ge,multiplyScalar:_n,subtractScalar:Ia,typed:K,unaryMinus:No}),y5=YS({Complex:Hr,add:dr,ctranspose:Yg,deepEqual:Qg,divideScalar:cn,dot:sm,dotDivide:mf,equal:Ba,inv:$u,matrix:Ge,multiply:Ir,typed:K}),ka=L_({Complex:Hr,config:Be,fraction:Bl,identity:Vs,inv:$u,matrix:Ge,multiply:Ir,number:Qo,typed:K}),rM=Z1({DenseMatrix:ir,Index:mi,compareNatural:Fo,size:ri,subset:ca,typed:K}),x5=tS({Index:mi,concat:xr,setIntersect:rM,setSymDifference:QT,size:ri,subset:ca,typed:K}),b5=JS({abs:Mi,add:dr,identity:Vs,inv:$u,map:Pu,max:rv,multiply:Ir,size:ri,sqrt:so,subtract:Sn,typed:K}),Lt=v1({BigNumber:je,Complex:Hr,Fraction:Nu,abs:Mi,addScalar:Ln,config:Be,divideScalar:cn,equal:Ba,fix:ZT,format:cf,isNumeric:Bu,multiplyScalar:_n,number:Qo,pow:ka,round:kl,subtractScalar:Ia}),w5=pE({BigNumber:je,Unit:Lt,config:Be}),_5=YE({BigNumber:je,Unit:Lt,config:Be}),S5=kE({BigNumber:je,Unit:Lt,config:Be}),A5=hE({BigNumber:je,Unit:Lt,config:Be}),E5=OE({BigNumber:je,Unit:Lt,config:Be}),T5=gE({BigNumber:je,Unit:Lt,config:Be}),M5=mE({BigNumber:je,Unit:Lt,config:Be}),D5=DE({BigNumber:je,Unit:Lt,config:Be}),C5=H_({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,pow:ka,typed:K}),N5=fE({BigNumber:je,Unit:Lt,config:Be}),F5=dE({BigNumber:je,Unit:Lt,config:Be}),I5=ZS({abs:Mi,add:dr,identity:Vs,inv:$u,multiply:Ir,typed:K}),P5=RE({BigNumber:je,Unit:Lt,config:Be}),nM=A_({addScalar:Ln,ceil:tv,conj:Fu,divideScalar:cn,dotDivide:mf,exp:FT,i:MT,log2:IT,matrix:Ge,multiplyScalar:_n,pow:ka,tau:CT,typed:K}),nv=lA({BigNumber:je,Complex:Hr,config:Be,multiplyScalar:_n,pow:ka,typed:K}),B5=sE({BigNumber:je,Unit:Lt,config:Be}),k5=TE({BigNumber:je,Unit:Lt,config:Be}),$5=E_({conj:Fu,dotDivide:mf,fft:nM,typed:K}),O5=bE({BigNumber:je,Unit:Lt,config:Be}),R5=UE({BigNumber:je,Unit:Lt,config:Be}),L5=cE({BigNumber:je,Unit:Lt,config:Be}),U5=jE({BigNumber:je,Unit:Lt,config:Be}),V5=qE({BigNumber:je,Unit:Lt,config:Be}),q5=CE({BigNumber:je,Unit:Lt,config:Be}),z5=xE({BigNumber:je,Unit:Lt,config:Be}),H5=eT({BigNumber:je,Unit:Lt,config:Be}),G5=XE({BigNumber:je,Unit:Lt,config:Be}),W5=tT({BigNumber:je,Unit:Lt,config:Be}),Y5=ME({BigNumber:je,Unit:Lt,config:Be}),j5=NE({BigNumber:je,Unit:Lt,config:Be}),Z5=lE({BigNumber:je,Unit:Lt,config:Be}),J5=FE({BigNumber:je,Unit:Lt,config:Be}),X5=GE({BigNumber:je,Unit:Lt,config:Be}),Q5=oE({BigNumber:je,Unit:Lt,config:Be}),K5=WE({BigNumber:je,Unit:Lt,config:Be}),e8=IE({BigNumber:je,Unit:Lt,config:Be}),t8=$E({BigNumber:je,Unit:Lt,config:Be}),r8=wE({BigNumber:je,Unit:Lt,config:Be}),n8=b1({Unit:Lt,typed:K}),Zn=eA({divideScalar:cn,equalScalar:lr,inv:$u,matrix:Ge,multiply:Ir,typed:K}),i8=SE({BigNumber:je,Unit:Lt,config:Be}),df=fA({gamma:nv,typed:K}),a8=LE({BigNumber:je,Unit:Lt,config:Be}),o8=JE({BigNumber:je,Unit:Lt,config:Be}),s8=vE({BigNumber:je,Unit:Lt,config:Be}),iM=OS({DenseMatrix:ir,lsolve:UT,lup:tM,matrix:Ge,slu:GT,typed:K,usolve:Xg}),u8=yE({BigNumber:je,Unit:Lt,config:Be}),l8=ZE({BigNumber:je,Unit:Lt,config:Be}),c8=mA({add:dr,divide:Zn,factorial:df,isInteger:Gi,isPositive:Iu,multiply:Ir,typed:K}),f8=dA({factorial:df,typed:K}),p8=QE({BigNumber:je,Unit:Lt,config:Be}),m8=RS({add:dr,cbrt:RT,divide:Zn,equalScalar:lr,im:Hg,isZero:oo,multiply:Ir,re:Gg,sqrt:so,subtract:Sn,typeOf:BT,typed:K,unaryMinus:No}),d8=K1({compareNatural:Fo,typed:K}),h8=T_({abs:Mi,add:dr,bignumber:la,divide:Zn,isNegative:Us,isPositive:Iu,larger:Ci,map:Pu,matrix:Ge,max:rv,multiply:Ir,smaller:Di,subtract:Sn,typed:K,unaryMinus:No}),aM=EA({bignumber:la,addScalar:Ln,combinations:rm,divideScalar:cn,factorial:df,isInteger:Gi,isNegative:Us,larger:Ci,multiplyScalar:_n,number:Qo,pow:ka,subtractScalar:Ia,typed:K}),g8=y1({Unit:Lt,typed:K}),v8=TA({addScalar:Ln,isInteger:Gi,isNegative:Us,stirlingS2:aM,typed:K}),oM=jS({abs:Mi,add:dr,addScalar:Ln,atan:NT,bignumber:la,column:eM,complex:nm,config:Be,cos:qg,diag:LT,divideScalar:cn,dot:sm,equal:Ba,flatten:lf,im:Hg,inv:$u,larger:Ci,matrix:Ge,matrixFromColumns:jg,multiply:Ir,multiplyScalar:_n,number:Qo,qr:Zg,re:Gg,reshape:$T,sin:am,size:ri,smaller:Di,sqrt:so,subtract:Sn,typed:K,usolve:Xg,usolveAll:WT}),y8=AE({BigNumber:je,Unit:Lt,config:Be}),x8=VE({BigNumber:je,Unit:Lt,config:Be}),b8=pA({divide:Zn,dotDivide:mf,isNumeric:Bu,log:Kg,map:Pu,matrix:Ge,multiply:Ir,sum:ev,typed:K}),sM=Zp({add:dr,divide:Zn,typed:K}),w8=zE({BigNumber:je,Unit:Lt,config:Be}),_8=uE({BigNumber:je,Unit:Lt,config:Be}),S8=Xp({bignumber:la,add:dr,compare:ku,divide:Zn,isInteger:Gi,larger:Ci,multiply:Ir,partitionSelect:um,smaller:Di,smallerEq:$l,subtract:Sn,typed:K}),iv=Jp({add:dr,apply:Wg,divide:Zn,isNaN:ff,multiply:Ir,subtract:Sn,typed:K}),A8=_E({BigNumber:je,Unit:Lt,config:Be}),uM=nA({add:dr,compare:ku,divide:Zn,partitionSelect:um,typed:K}),E8=oA({add:dr,divide:Zn,matrix:Ge,mean:sM,multiply:Ir,pow:ka,sqrt:so,subtract:Sn,sum:ev,typed:K}),T8=UA({Complex:Hr,add:dr,divide:Zn,matrix:Ge,multiply:Ir,typed:K}),M8=iA({abs:Mi,map:Pu,median:uM,subtract:Sn,typed:K}),D8=Qp({map:Pu,sqrt:so,typed:K,variance:iv}),C8=D_({BigNumber:je,Complex:Hr,add:dr,config:Be,divide:Zn,equal:Ba,factorial:df,gamma:nv,isNegative:Us,multiply:Ir,pi:Vg,pow:ka,sin:am,smallerEq:$l,subtract:Sn,typed:K}),av=iS({abs:Mi,add:dr,conj:Fu,ctranspose:Yg,eigs:oM,equalScalar:lr,larger:Ci,matrix:Ge,multiply:Ir,pow:ka,smaller:Di,sqrt:so,typed:K}),lM=y_({BigNumber:je,DenseMatrix:ir,SparseMatrix:Ko,addScalar:Ln,config:Be,cos:qg,matrix:Ge,multiplyScalar:_n,norm:av,sin:am,typed:K,unaryMinus:No}),N8=KE({BigNumber:je,Unit:Lt,config:Be}),cM=QS({identity:Vs,matrix:Ge,multiply:Ir,norm:av,qr:Zg,subtract:Sn,typed:K}),F8=v_({multiply:Ir,rotationMatrix:lM,typed:K}),fM=XS({abs:Mi,add:dr,concat:xr,identity:Vs,index:JT,lusolve:iM,matrix:Ge,matrixFromColumns:jg,multiply:Ir,range:Ol,schur:cM,subset:ca,subtract:Sn,transpose:pf,typed:K}),I8=KS({matrix:Ge,multiply:Ir,sylvester:fM,transpose:pf,typed:K});var hf={},gf={},P8={},Ni=uS({mathWithTransform:gf}),vf=bS({Node:Ni}),qs=wS({Node:Ni}),Rl=_S({Node:Ni}),B8=AS({Node:Ni}),yf=cS({Node:Ni}),k8=pS({Node:Ni,ResultSet:DT}),$8=mS({Node:Ni}),Ou=vS({Node:Ni}),O8=SS({Node:Ni}),hne=VA({classes:P8}),pM=US({math:hf,typed:K}),R8=yS({Node:Ni,typed:K}),gne=HS({Chain:pM,typed:K}),xf=xS({Node:Ni,size:ri}),bf=lS({Node:Ni,subset:ca}),L8=fS({matrix:Ge,Node:Ni,subset:ca}),Ru=ES({Unit:Lt,Node:Ni,math:hf}),Lu=TS({Node:Ni,SymbolNode:Ru,math:hf}),es=MS({AccessorNode:bf,ArrayNode:yf,AssignmentNode:L8,BlockNode:k8,ConditionalNode:$8,ConstantNode:Ou,FunctionAssignmentNode:R8,FunctionNode:Lu,IndexNode:xf,ObjectNode:vf,OperatorNode:qs,ParenthesisNode:Rl,RangeNode:O8,RelationalNode:B8,SymbolNode:Ru,config:Be,numeric:Pa,typed:K}),U8=kA({ConstantNode:Ou,FunctionNode:Lu,OperatorNode:qs,ParenthesisNode:Rl,parse:es,typed:K}),mM=PA({bignumber:la,fraction:Bl,AccessorNode:bf,ArrayNode:yf,ConstantNode:Ou,FunctionNode:Lu,IndexNode:xf,ObjectNode:vf,OperatorNode:qs,SymbolNode:Ru,config:Be,mathWithTransform:gf,matrix:Ge,typed:K}),dM=DS({parse:es,typed:K}),hM=BA({AccessorNode:bf,ArrayNode:yf,ConstantNode:Ou,FunctionNode:Lu,IndexNode:xf,ObjectNode:vf,OperatorNode:qs,ParenthesisNode:Rl,SymbolNode:Ru,add:dr,divide:Zn,equal:Ba,isZero:oo,multiply:Ir,parse:es,pow:ka,subtract:Sn,typed:K}),gM=CS({parse:es,typed:K}),V8=LS({evaluate:gM}),q8=NS({evaluate:gM}),ov=IA({bignumber:la,fraction:Bl,AccessorNode:bf,ArrayNode:yf,ConstantNode:Ou,FunctionNode:Lu,IndexNode:xf,ObjectNode:vf,OperatorNode:qs,ParenthesisNode:Rl,SymbolNode:Ru,add:dr,config:Be,divide:Zn,equal:Ba,isZero:oo,mathWithTransform:gf,matrix:Ge,multiply:Ir,parse:es,pow:ka,resolve:U8,simplifyConstant:mM,simplifyCore:hM,subtract:Sn,typed:K}),vne=$A({OperatorNode:qs,parse:es,simplify:ov,typed:K}),yne=CA({parse:es,typed:K}),xne=FS({Parser:q8,typed:K}),bne=RA({bignumber:la,fraction:Bl,AccessorNode:bf,ArrayNode:yf,ConstantNode:Ou,FunctionNode:Lu,IndexNode:xf,ObjectNode:vf,OperatorNode:qs,ParenthesisNode:Rl,SymbolNode:Ru,add:dr,config:Be,divide:Zn,equal:Ba,isZero:oo,mathWithTransform:gf,matrix:Ge,multiply:Ir,parse:es,pow:ka,simplify:ov,simplifyConstant:mM,simplifyCore:hM,subtract:Sn,typed:K}),wne=OA({ConstantNode:Ou,FunctionNode:Lu,OperatorNode:qs,ParenthesisNode:Rl,SymbolNode:Ru,config:Be,equal:Ba,isZero:oo,numeric:Pa,parse:es,simplify:ov,typed:K}),_ne=zS({Help:V8,mathWithTransform:gf,typed:K});rn(hf,{e:TT,false:mU,fineStructure:dU,i:MT,Infinity:hU,LN10:gU,LOG10E:vU,NaN:yU,null:xU,phi:bU,SQRT1_2:_U,sackurTetrode:SU,tau:CT,true:AU,E:TT,version:EU,efimovFactor:TU,LN2:MU,pi:Vg,replacer:DU,reviver:hne,SQRT2:CU,typed:K,PI:Vg,weakMixingAngle:NU,abs:Mi,acos:FU,acot:IU,acsc:PU,addScalar:Ln,arg:BU,asech:kU,asinh:$U,atan:NT,atanh:OU,bigint:RU,bitNot:LU,boolean:UU,clone:VU,combinations:rm,complex:nm,conj:Fu,cos:qg,cot:qU,csc:zU,cube:HU,equalScalar:lr,erf:GU,exp:FT,expm1:WU,filter:YU,flatten:lf,forEach:jU,format:cf,getMatrixDataType:zg,hex:ZU,im:Hg,isInteger:Gi,isNegative:Us,isPositive:Iu,isZero:oo,LOG2E:JU,lgamma:XU,log10:QU,log2:IT,map:Pu,multiplyScalar:_n,not:im,number:Qo,oct:KU,pickRandom:eV,print:tV,random:rV,re:Gg,sec:nV,sign:PT,sin:am,splitUnit:iV,square:aV,string:oV,subtractScalar:Ia,tan:sV,typeOf:BT,acosh:uV,acsch:lV,apply:Wg,asec:cV,bignumber:la,chain:gne,combinationsWithRep:fV,cosh:pV,csch:mV,isNaN:ff,isPrime:dV,randomInt:hV,sech:gV,sinh:vV,sparse:yV,sqrt:so,squeeze:xV,tanh:bV,unaryMinus:No,acoth:wV,bin:_V,coth:SV,fraction:Bl,isNumeric:Bu,matrix:Ge,matrixFromFunction:AV,mode:EV,numeric:Pa,prod:kT,reshape:$T,size:ri,transpose:pf,xgcd:OT,zeros:ni,asin:TV,cbrt:RT,concat:xr,count:MV,ctranspose:Yg,diag:LT,divideScalar:cn,dotDivide:mf,equal:Ba,hasNumericValue:DV,identity:Vs,kron:CV,largerEq:om,leftShift:NV,lsolve:UT,matrixFromColumns:jg,nthRoot:FV,ones:IV,qr:Zg,resize:PV,rightArithShift:BV,round:kl,smaller:Di,subtract:Sn,to:kV,unaryPlus:Jg,usolve:Xg,xor:$V,add:dr,atan2:OV,bitAnd:RV,bitOr:LV,bitXor:UV,catalan:VV,compare:ku,compareText:VT,cumsum:qV,deepEqual:Qg,diff:zV,distance:HV,dot:sm,equalText:GV,floor:qT,gcd:WV,hypot:YV,larger:Ci,log:Kg,lsolveAll:jV,matrixFromRows:ZV,min:JV,mod:HT,multiply:Ir,nthRoots:XV,or:QV,partitionSelect:um,rightLogShift:KV,slu:GT,subset:ca,sum:ev,trace:e5,usolveAll:WT,zpk2tf:t5,ceil:tv,compareNatural:Fo,composition:r5,cross:n5,det:YT,dotMultiply:i5,fix:ZT,index:JT,intersect:a5,invmod:o5,lcm:s5,log1p:u5,max:rv,setCartesian:l5,setDistinct:c5,setIsSubset:f5,setPowerset:p5,smallerEq:$l,sort:m5,unequal:d5,and:h5,range:Ol,row:g5,setDifference:XT,setMultiplicity:v5,setSymDifference:QT,column:eM,inv:$u,lup:tM,pinv:y5,pow:ka,setIntersect:rM,setUnion:x5,sqrtm:b5,vacuumImpedance:w5,wienDisplacement:_5,atomicMass:S5,bohrMagneton:A5,boltzmann:E5,conductanceQuantum:T5,coulomb:M5,deuteronMass:D5,dotPow:C5,electricConstant:N5,elementaryCharge:F5,expm:I5,faraday:P5,fft:nM,gamma:nv,gravitationConstant:B5,hartreeEnergy:k5,ifft:$5,klitzing:O5,loschmidt:R5,magneticConstant:L5,molarMass:U5,molarPlanckConstant:V5,neutronMass:q5,nuclearMagneton:z5,planckCharge:H5,planckLength:G5,planckTemperature:W5,protonMass:Y5,quantumOfCirculation:j5,reducedPlanckConstant:Z5,rydberg:J5,secondRadiation:X5,speedOfLight:Q5,stefanBoltzmann:K5,thomsonCrossSection:e8,avogadro:t8,bohrRadius:r8,createUnit:n8,divide:Zn,electronMass:i8,factorial:df,firstRadiation:a8,gravity:o8,inverseConductanceQuantum:s8,lusolve:iM,magneticFluxQuantum:u8,molarMassC12:l8,multinomial:c8,parse:es,permutations:f8,planckMass:p8,polynomialRoot:m8,resolve:U8,setSize:d8,simplifyConstant:mM,solveODE:h8,stirlingS2:aM,unit:g8,bellNumbers:v8,compile:dM,eigs:oM,fermiCoupling:y8,gasConstant:x8,kldivergence:b8,mean:sM,molarVolume:w8,planckConstant:_8,quantileSeq:S8,simplifyCore:hM,variance:iv,classicalElectronRadius:A8,evaluate:gM,median:uM,simplify:ov,symbolicEqual:vne,corr:E8,freqz:T8,leafCount:yne,mad:M8,parser:xne,rationalize:bne,std:D8,zeta:C8,derivative:wne,norm:av,rotationMatrix:lM,help:_ne,planckTime:N8,schur:cM,rotate:F8,sylvester:fM,lyap:I8,config:Be});rn(gf,hf,{filter:iT({typed:K}),forEach:aT({typed:K}),map:sT({typed:K}),apply:rT({isInteger:Gi,typed:K}),or:ST({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),and:_T({add:dr,concat:xr,equalScalar:lr,matrix:Ge,not:im,typed:K,zeros:ni}),concat:dT({isInteger:Gi,matrix:Ge,typed:K}),max:uT({config:Be,larger:Ci,numeric:Pa,typed:K}),print:wT({add:dr,matrix:Ge,typed:K,zeros:ni}),bitAnd:AT({add:dr,concat:xr,equalScalar:lr,matrix:Ge,not:im,typed:K,zeros:ni}),diff:hT({bignumber:la,matrix:Ge,number:Qo,subtract:Sn,typed:K}),min:cT({config:Be,numeric:Pa,smaller:Di,typed:K}),subset:mT({add:dr,matrix:Ge,typed:K,zeros:ni}),bitOr:ET({DenseMatrix:ir,concat:xr,equalScalar:lr,matrix:Ge,typed:K}),cumsum:xT({add:dr,typed:K,unaryPlus:Jg}),index:oT({Index:mi,getMatrixDataType:zg}),sum:vT({add:dr,config:Be,numeric:Pa,typed:K}),range:fT({bignumber:la,matrix:Ge,add:dr,config:Be,isPositive:Iu,larger:Ci,largerEq:om,smaller:Di,smallerEq:$l,typed:K}),row:pT({Index:mi,matrix:Ge,range:Ol,typed:K}),column:nT({Index:mi,matrix:Ge,range:Ol,typed:K}),mean:lT({add:dr,divide:Zn,typed:K}),quantileSeq:yT({add:dr,bignumber:la,compare:ku,divide:Zn,isInteger:Gi,larger:Ci,multiply:Ir,partitionSelect:um,smaller:Di,smallerEq:$l,subtract:Sn,typed:K}),variance:bT({add:dr,apply:Wg,divide:Zn,isNaN:ff,multiply:Ir,subtract:Sn,typed:K}),std:gT({map:Pu,sqrt:so,typed:K,variance:iv})});rn(P8,{BigNumber:je,Complex:Hr,Fraction:Nu,Matrix:tm,Node:Ni,ObjectNode:vf,OperatorNode:qs,ParenthesisNode:Rl,Range:wU,RelationalNode:B8,ResultSet:DT,ArrayNode:yf,BlockNode:k8,ConditionalNode:$8,ConstantNode:Ou,DenseMatrix:ir,RangeNode:O8,Chain:pM,FunctionAssignmentNode:R8,SparseMatrix:Ko,IndexNode:xf,ImmutableDenseMatrix:zT,Index:mi,AccessorNode:bf,AssignmentNode:L8,FibonacciHeap:jT,Spa:KT,Unit:Lt,SymbolNode:Ru,FunctionNode:Lu,Help:V8,Parser:q8});pM.createProxy(hf);var sv=class extends Wo{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){let e=0;this.expressionStr="",this.variables=[];for(let t of this.mountable.getDeclaration().templateDeclaration??[])if(typeof t!="string"){let n={bindTargetDeclaration:t,inputSignal:new Yr(void 0),uuid:Vr(),contextName:`MB_VAR_${e}`};this.variables.push(n),this.expressionStr+=n.contextName,e+=1}else this.expressionStr+=t;this.expression=dM(this.expressionStr)}buildMathJSContext(){let e={};for(let t of this.variables??[])!t.contextName||!t.inputSignal||(e[t.contextName]=t.inputSignal.get()??"");return e}computeValue(){if(this.hasError=!1,!this.expression)return this.handleComputeError(new fo({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{let t=this.expression.evaluate(e);return typeof t=="string"?_a(t):t}catch(t){return t instanceof Error?this.handleComputeError(new fo({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:t,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,t){this.hasError?ct.addClass(e,"mb-error"):ct.removeClass(e,"mb-error"),e.innerText=t}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var uv=class extends Wo{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){this.textParts=[];let e=0;this.variables=[];for(let t of this.mountable.getDeclaration().templateDeclaration??[])if(typeof t!="string"){let n={bindTargetDeclaration:t,inputSignal:new Yr(void 0),uuid:Vr(),contextName:`MB_VAR_${e}`};this.variables.push(n),this.textParts.push(e),e+=1}else this.textParts.push(t)}computeValue(){if(!this.textParts)throw new fo({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?yd(this.variables[e].inputSignal.get(),this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){this.renderMarkdown=this.mountable.getArgument("renderMarkdown")?.value??!1,this.renderMarkdown&&ct.addClass(e,"mb-view-markdown")}async onRerender(e,t){this.renderMarkdown?(this.markdownUnloadCallback?.(),this.markdownUnloadCallback=await this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())):e.innerText=t}onUnmount(){super.onUnmount(),this.markdownUnloadCallback?.()}};var lv=class{constructor(e){this.plugin=e}createViewField(e){let t=e.declaration.viewFieldType;if(t==="math")return new sv(e);if(t==="text")return new uv(e);if(t==="link")return new Ah(e);if(t==="image")return new _h(e);}};var cv=class extends $n{constructor(e,t,n,i,a){super(e,t,n),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Jt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new zt({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new zt({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(super.onMount(e),ct.empty(e),ct.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=document.createElement("div");ct.addClass(t,"mb-view-wrapper");try{this.viewField?.mount(t)}catch(i){this.errorCollection.add(i)}this.createErrorIndicator(e),e.append(t);let n=this.getArguments("class");for(let i of n)ct.addClasses(t,i.value);ct.addClass(t,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?ct.addClass(e,"mb-view-block"):ct.addClass(e,"mb-view-inline")}onUnmount(e){super.onUnmount(e),this.viewField?.unmount(),di(e,"view field")}};var fv=class{constructor(e){this.plugin=e}fromString(e){return Hn($o,e)}fromStringAndValidate(e,t,n){return this.validate(e,this.fromString(e),t,n)}fromExistingDeclaration(e){if(e!==void 0)return{storageType:va(e.storageType),storagePath:va(e.storagePath),storageProp:e.storageProp.path.map(t=>({type:t.type,prop:va(t.prop)})),listenToChildren:e.listenToChildren}}validate(e,t,n,i){let a={};a.listenToChildren=t.listenToChildren,a.storageProp=new iu(t.storageProp.map(s=>new Ju(s.type,s.prop.value))),t.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(t.storageType,e);let o=t.storagePath!==void 0,u=t.storagePath??{value:n},l=this.plugin.metadataManager.getSource(a.storageType);if(l===void 0)throw new zt({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=l.validateStoragePath(u,o,e,this),l.resolveBindTargetScope(a,i,this)}resolveScope(e,t){if(t===void 0)throw new Bn("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let n of this.plugin.metadataManager.iterateSources())if(n===e.value)return n;throw new Bn("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e?.value}'.`,t,e?.position)}validateStoragePathAsFilePath(e,t){let n=e?.value;if(n===void 0)throw new Bn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e?.position);let i=this.plugin.internal.file.getPathByName(n);if(i===void 0)throw new Bn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${n}' not found.`,t,e?.position);return i}};var W8=$r(ma()),lm=$r(Ji());function yM(r){return r instanceof Error&&r.name==="ZodError"&&"issues"in r&&Array.isArray(r.issues)}var vM=class extends Error{name;details;constructor(r,e){super(r,e),this.name="ZodValidationError",this.details=Sne(e)}toString(){return this.message}};function Sne(r){if(r){let e=r.cause;if(yM(e))return e.issues}return[]}function z8(r){return r.length!==0}var Ane=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function Ene(r){return r.length===1?r[0].toString():r.reduce((e,t)=>{if(typeof t=="number")return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+Tne(t)+'"]';if(!Ane.test(t))return e+'["'+t+'"]';let n=e.length===0?"":".";return e+n+t},"")}function Tne(r){return r.replace(/"/g,'\\"')}var Mne="; ",Dne=99,H8="Validation error",Cne=": ",Nne=", or ";function Fne(r={}){let{issueSeparator:e=Mne,unionSeparator:t=Nne,prefixSeparator:n=Cne,prefix:i=H8,includePath:a=!0,maxIssuesInMessage:o=Dne}=r;return u=>{let l=u.slice(0,o).map(s=>pv({issue:s,issueSeparator:e,unionSeparator:t,includePath:a})).join(e);return Ine(l,i,n)}}function pv(r){let{issue:e,issueSeparator:t,unionSeparator:n,includePath:i}=r;if(e.code===We.invalid_union)return e.unionErrors.reduce((a,o)=>{let u=o.issues.map(l=>pv({issue:l,issueSeparator:t,unionSeparator:n,includePath:i})).join(t);return a.includes(u)||a.push(u),a},[]).join(n);if(e.code===We.invalid_arguments)return[e.message,...e.argumentsError.issues.map(a=>pv({issue:a,issueSeparator:t,unionSeparator:n,includePath:i}))].join(t);if(e.code===We.invalid_return_type)return[e.message,...e.returnTypeError.issues.map(a=>pv({issue:a,issueSeparator:t,unionSeparator:n,includePath:i}))].join(t);if(i&&z8(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${Ene(e.path)}"`}return e.message}function Ine(r,e,t){return e!==null?r.length>0?[e,r].join(t):e:r.length>0?r:H8}function mv(r,e={}){if(!yM(r))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${kne.name}" method instead?`);return G8(r,e)}function G8(r,e={}){let t=r.errors,n;return z8(t)?n=Pne(e)(t):n=r.message,new vM(n,{cause:r})}function Pne(r){return"messageBuilder"in r?r.messageBuilder:Fne(r)}var Bne=(r={})=>e=>yM(e)?G8(e,r):e instanceof Error?new vM(e.message,{cause:e}):new vM("Unknown error");function kne(r,e={}){return Bne(e)(r)}var $ne=lm.P.sequenceMap((r,e)=>e,lm.P.string("BUTTON"),lm.P.manyNotOf("[],^").separateBy(lm.P.string(",").trim(W8.P_UTILS.optionalWhitespace())).wrapString("[","]")),dv=class{constructor(e){this.plugin=e}fromGroupString(e){let t=new Jt("ButtonGroup"),n=[];try{n=Hn($ne,e)}catch(i){t.add(i)}return{declarationString:e,referencedButtonIds:n,errorCollection:t}}validateGroup(e){return{declarationString:void 0,referencedButtonIds:e.referencedButtonIds,errorCollection:new Jt("ButtonGroup")}}fromString(e){let t=new Jt("Button"),n;try{let i=this.plugin.internal.parseYaml(e);n=this.validateConfig(i)}catch(i){t.add(i)}return{declarationString:e,config:n,errorCollection:t}}validateConfig(e){let t=UN(yc,e);if(!t.success){let n=mv(t.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null,includePath:!1});throw new ps({errorLevel:"ERROR",effect:"The validation for the button config failed.",cause:"Your button syntax seems to be invalid. Check that your button config follows what is described in the docs.",positionContext:n.message,docs:[Wt.linkToButtonConfig()]})}return t.data}validate(e){let t=new Jt("Button"),n;try{n=this.validateConfig(e)}catch(i){t.add(i)}return{declarationString:void 0,config:n,errorCollection:t}}};var wf=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(sn))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new Lr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[Wt.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new Lr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var hv=class extends wf{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var _f=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new Lr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[Wt.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var wr=class extends _f{};var gv=class extends wr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Er.addLabels}};var vv=class extends wr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Er.allowOther}};var yv=class extends wr{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Er.class}};var xv=class extends wr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=_a(t[0].value)}getConfig(){return Er.defaultValue}};var bv=class extends wr{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Er.limit}};var wv=class extends wr{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Er.maxValue}};var _v=class extends wr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Er.minValue}};var Sv=class extends wr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Er.multiLine}};var Av=class extends wr{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=_a(t[0].value)}getConfig(){return Er.offValue}};var Ev=class extends wr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=_a(t[0].value)}getConfig(){return Er.onValue}};var Tv=class extends wr{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=_a(t[0].value),this.name=t[0].value):t.length===2&&(this.value=_a(t[0].value),this.name=t[1].value)}getConfig(){return Er.option}};var Mv=class extends wr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Er.optionQuery}};var Dv=class extends wr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Er.placeholder}};var Cv=class extends wr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Er.showcase}};var Nv=class extends wr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Er.stepSize}};var Fv=class extends wr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Er.title}};function Y8(r,e,t){return t==="true"?`[[${r}|${e}]]`:t==="partial"?`[[${e}]]`:`${e}`}var Iv=class extends wr{constructor(){super(...arguments);this.value="true"}_parseValue(t){let n=t[0]?.value.toLowerCase();if(n===void 0){this.value="true";return}if(n==="true"||n==="partial"||n==="false"){this.value=n;return}throw new Lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${PD(["true","partial","false"],i=>`'${i}'`,", ","or")}`,docs:[Wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Er.useLinks}};var j8={class:yv,addLabels:gv,minValue:_v,maxValue:wv,stepSize:Nv,option:Tv,title:Fv,optionQuery:Mv,showcase:Cv,offValue:Av,onValue:Ev,defaultValue:xv,placeholder:Dv,useLinks:Iv,limit:bv,allowOther:vv,multiLine:Sv},Pv=class{static createInputFieldArgument(e){if(e in j8){let t=j8[e];if(t)return new t}throw new co({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Bv=class{constructor(e,t,n){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=n,this.errorCollection=new Jt("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={declarationString:this.unvalidatedDeclaration.declarationString,inputFieldType:t,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(Js))if(t[1]===e?.value)return t[1];return this.errorCollection.add(new Bn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected an input field type but received '${e?.value}'.`,this.unvalidatedDeclaration.declarationString,e?.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)try{return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}catch(t){this.errorCollection.add(t)}}validateArguments(e){let t=new hv;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Pv.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Bn("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(sn))if(t[1]===e.value)return t[1];return this.errorCollection.add(new Bn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}};var Fi=$r(ma()),en=$r(Ji());var Rne=en.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},hi.node(ki).trim(Fi.P_UTILS.optionalWhitespace()).describe("input field type"),Yf.trim(Fi.P_UTILS.optionalWhitespace()).wrap(en.P.string("(").describe('arguments paren "("'),en.P.string(")").describe('arguments paren ")"')).trim(Fi.P_UTILS.optionalWhitespace()).optional([]),en.P.sequence(en.P.string(":").trim(Fi.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),$o).trim(Fi.P_UTILS.optionalWhitespace()).optional()),Z8=en.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},hi.node(ki).trim(Fi.P_UTILS.optionalWhitespace()).optional().describe("input field type"),Yf.trim(Fi.P_UTILS.optionalWhitespace()).wrap(en.P.string("(").describe('arguments paren "("'),en.P.string(")").describe('arguments paren ")"')).trim(Fi.P_UTILS.optionalWhitespace()).optional([]),en.P.sequence(en.P.string(":").trim(Fi.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),$o).trim(Fi.P_UTILS.optionalWhitespace()).optional()),J8=en.P.or(en.P.sequenceMap((r,e,t)=>(t.templateName=e,t),en.P.string("INPUT"),en.P.sequenceMap((r,e,t)=>e,en.P.string("["),pN.node(ki).trim(Fi.P_UTILS.optionalWhitespace()).describe("template name"),en.P.string("]").skip(Fi.P_UTILS.optionalWhitespace())),Z8.wrap(en.P.string("["),en.P.string("]")),Fi.P_UTILS.eof()),en.P.sequenceMap((r,e)=>e,en.P.string("INPUT"),Rne.wrap(en.P.string("["),en.P.string("]")),Fi.P_UTILS.eof())),X8=en.P.sequenceMap((r,e)=>e,en.P.string("INPUT"),Z8.wrap(en.P.string("["),en.P.string("]")),Fi.P_UTILS.eof());var kv=class{constructor(e){this.plugin=e,this.templates=[]}fromString(e){let t=new Jt("InputField");try{let n=Hn(J8,e),i=this.partialToFullDeclaration(n,e,t);return i=this.applyTemplate(i),i}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){let t=new Jt("InputField");return{declarationString:void 0,inputFieldType:va(e.inputFieldType),bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.bindTarget),arguments:(e.arguments??[]).map(n=>({name:va(n.name),value:n.value.map(i=>va(i))})),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return{...structuredClone(e),declarationString:t,errorCollection:n}}validate(e,t,n){return new Bv(this.plugin,e,t).validate(n)}merge(e,t){let n;return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,t.bindTarget?.storagePath!==void 0&&(n.storagePath=t.bindTarget.storagePath),t.bindTarget?.storageProp!==void 0&&(n.storageProp=t.bindTarget.storageProp)),{declarationString:t.declarationString,inputFieldType:t.inputFieldType??e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((i,a)=>(i.find(o=>o.name===a.name)===void 0&&i.push(a),i),[]),errorCollection:new Jt("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}parseTemplateString(e){let t=new Jt("InputFieldParser");try{let n=Hn(X8,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Jt("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push($y(a))}return t}getTemplate(e){return this.templates.find(t=>t.name===e)?.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new Bn("WARNING","Input Field Parser",`Invalid template name. Could not find a template with the name '${e.templateName.value}'.`,e.declarationString,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.merge(t,e)}};var $v=class{constructor(e){this.plugin=e}fromString(e){let t=new Jt("JsViewFieldDeclaration");try{let n=Hn(xN,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,bindTargetMappings:[],writeToBindTarget:void 0,hidden:!1,code:""}}fromStringAndValidate(e,t){return this.validate(this.fromString(e),t)}fromSimpleDeclaration(e){let t=new Jt("JsViewFieldDeclaration");return{declarationString:void 0,code:e.code,bindTargetMappings:e.bindTargetMappings.map(n=>({bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(n.bindTarget),name:n.name})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),hidden:e.hidden??!1,errorCollection:t}}fromSimpleDeclarationAndValidate(e,t){return this.validate(this.fromSimpleDeclaration(e),t)}partialToFullDeclaration(e,t,n){let i=e;return i.declarationString=t,i.errorCollection=n,i.bindTargetMappings=[...i.bindTargetMappings],i}validate(e,t){let n={};n.declarationString=e.declarationString,n.errorCollection=e.errorCollection;try{return n.bindTargetMappings=e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validate(e.declarationString,i.bindTarget,t),name:i.name})),e.writeToBindTarget!==void 0&&(n.writeToBindTarget=this.plugin.api.bindTargetParser.validate(e.declarationString,e.writeToBindTarget,t)),n.code=e.code,n.hidden=e.hidden,n}catch(i){n.errorCollection.add(i)}return{declarationString:e.declarationString,errorCollection:n.errorCollection,bindTargetMappings:[],writeToBindTarget:void 0,hidden:!1,code:""}}};var Ov=class extends wf{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Uu=class extends _f{};var Rv=class extends Uu{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Ql.class}};var Lv=class extends Uu{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Ql.hidden}};var Uv=class extends Uu{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=t[0]===void 0||t[0]?.value.toLowerCase()==="true"}getConfig(){return Ql.renderMarkdown}};var Q8={renderMarkdown:Uv,hidden:Lv,class:Rv},Vv=class{static createViewFieldArgument(e){if(e in Q8){let t=Q8[e];if(t)return new t}throw new co({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var qv=class{constructor(e,t,n){this.unvalidatedDeclaration=e,this.plugin=n,this.filePath=t,this.errorCollection=new Jt("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={declarationString:this.unvalidatedDeclaration.declarationString,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(Bf))if(t[1]===e?.value)return t[1];return this.errorCollection.add(new Bn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new Ov;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Vv.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Bn("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.declarationString,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Gu))if(t[1]===e.value)return t[1];return this.errorCollection.add(new Bn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}validateTemplateDeclaration(e){try{return this.unvalidatedDeclaration.templateDeclaration?.map(t=>typeof t=="string"?t:this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,t,this.filePath,e))??[]}catch(t){return this.errorCollection.add(t),[]}}};var zv=class{constructor(e){this.plugin=e}fromString(e){let t=new Jt("ViewFieldDeclaration");try{let n=Hn(yN,e);return this.partialToFullDeclaration(n,e,t)}catch(n){t.add(n)}return{declarationString:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}fromStringAndValidate(e,t,n){return this.validate(this.fromString(e),t,n)}fromSimpleDeclaration(e){let t=new Jt("ViewFieldDeclaration");return{declarationString:void 0,templateDeclaration:(e.templateDeclaration??[]).map(n=>typeof n=="string"?n:this.plugin.api.bindTargetParser.fromExistingDeclaration(n)),viewFieldType:va(e.viewFieldType),arguments:(e.arguments??[]).map(n=>({name:va(n.name),value:n.value.map(i=>va(i))})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,n){return this.validate(this.fromSimpleDeclaration(e),t,n)}partialToFullDeclaration(e,t,n){return{...structuredClone(e),declarationString:t,errorCollection:n}}validate(e,t,n){return new qv(e,t,this.plugin).validate(n)}};var Hv=class{constructor(e,t){this.plugin=e,this.inputFieldParser=t?.inputFieldParser??new kv(e),this.viewFieldParser=t?.viewFieldParser??new zv(e),this.jsViewFieldParser=t?.jsViewFieldParser??new $v(e),this.buttonParser=t?.buttonParser??new dv(e),this.bindTargetParser=t?.bindTargetParser??new fv(e),this.inputFieldFactory=t?.inputFieldFactory??new vh(e),this.viewFieldFactory=t?.viewFieldFactory??new lv(e),this.buttonActionRunner=t?.buttonActionRunner??new xd(e),this.buttonManager=t?.buttonManager??new Gd(e),this.syntaxHighlighting=t?.syntaxHighlighting??new ld(e)}createField(e,t,n,i=!0){if(un(he.object({type:ep,filePath:wa,options:he.any(),honorExcludedSetting:he.boolean()}),{type:e,filePath:t,options:n,honorExcludedSetting:i}),this.plugin.internal.file.isExcludedFromRendering(t)&&i)return this.createExcludedMountable(t);if(e==="INPUT")return this.createInputFieldMountable(t,n);if(e==="VIEW")return this.createViewFieldMountable(t,n);if(e==="JS_VIEW")return this.createJsViewFieldMountable(t,n);if(e==="TABLE")return this.createTableMountable(t,n);if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(t,n);if(e==="BUTTON")return this.createButtonMountable(t,n);if(e==="EMBED")return this.createEmbedMountable(t,n);if(e==="EXCLUDED")return this.createExcludedMountable(t);throw new Error(`Unknown field type: ${e}`)}createInlineFieldFromString(e,t,n,i="inline",a,o=!0){un(he.object({fieldString:he.string(),filePath:wa,scope:_c.optional(),renderChildType:wc,honorExcludedSetting:he.boolean()}),{fieldString:e,filePath:t,scope:n,renderChildType:i,honorExcludedSetting:o});let u=this.isInlineFieldDeclarationAndGetType(e);if(u===void 0)throw new zt({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${u}"`});return this.createInlineFieldOfTypeFromString(u,e,t,n,i,a,o)}createInlineFieldOfTypeFromString(e,t,n,i,a="inline",o,u=!0){if(un(he.object({type:ep,declaration:he.string(),filePath:wa,scope:_c.optional(),renderChildType:wc,honorExcludedSetting:he.boolean()}),{type:e,declaration:t,filePath:n,scope:i,renderChildType:a,honorExcludedSetting:u}),this.plugin.internal.file.isExcludedFromRendering(n)&&u)return this.createExcludedMountable(n);if(e==="INPUT")return this.createInputFieldMountable(n,{renderChildType:a,declaration:t,scope:i});if(e==="VIEW")return this.createViewFieldMountable(n,{renderChildType:a,declaration:t,scope:i});if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(n,{renderChildType:a,declaration:t,position:o});throw new zt({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${e}"`})}createInputFieldMountable(e,t){un(he.object({filePath:wa,options:XN}),{filePath:e,options:t});let n=Vr(),i;return typeof t.declaration=="string"?i=this.inputFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.inputFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new Rc(this.plugin,n,e,t.renderChildType,i)}createViewFieldMountable(e,t){un(he.object({filePath:wa,options:QN}),{filePath:e,options:t});let n=Vr(),i;return typeof t.declaration=="string"?i=this.viewFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.viewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new cv(this.plugin,n,e,t.renderChildType,i)}createJsViewFieldMountable(e,t){un(he.object({filePath:wa,options:KN}),{filePath:e,options:t});let n=Vr(),i;return typeof t.declaration=="string"?i=this.jsViewFieldParser.fromStringAndValidate(t.declaration,e):i=this.jsViewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e),new bh(this.plugin,n,e,i)}createTableMountable(e,t){un(he.object({filePath:wa,options:eF}),{filePath:e,options:t});let n=Vr();return new xh(this.plugin,n,e,t.bindTarget,t.tableHead,t.columns)}createButtonGroupMountable(e,t){un(he.object({filePath:wa,options:tF}),{filePath:e,options:t});let n=Vr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromGroupString(t.declaration):i=this.buttonParser.validateGroup(t.declaration),new zd(this.plugin,n,e,i,t.renderChildType,t.position)}createButtonMountable(e,t){un(he.object({filePath:wa,options:rF}),{filePath:e,options:t});let n=Vr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromString(t.declaration):i=this.buttonParser.validate(t.declaration),new Wd(this.plugin,n,e,i,t.position,t.isPreview)}createEmbedMountable(e,t){un(he.object({filePath:wa,options:nF}),{filePath:e,options:t});let n=Vr();return new Yd(this.plugin,n,e,t.depth,t.content)}createExcludedMountable(e){un(he.object({filePath:wa}),{filePath:e});let t=Vr();return new jd(this.plugin,t,e)}getInlineFieldDeclarationPrefix(e){if(un(he.object({fieldType:ep}),{fieldType:e}),e==="INPUT")return"INPUT";if(e==="VIEW")return"VIEW";if(e==="BUTTON_GROUP")return"BUTTON";throw new zt({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,t){un(he.object({fieldType:ep,str:he.string()}),{fieldType:e,str:t});let n=this.getInlineFieldDeclarationPrefix(e)+"[";return t.startsWith(n)&&t.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(un(he.object({str:he.string()}),{str:e}),!!e.endsWith("]"))for(let t of Object.values(Xl)){if(!Tm(t))continue;let n=this.getInlineFieldDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}createSignal(e){return new Yr(e)}createBindTarget(e,t,n,i=!1){return un(he.object({storageType:he.string(),storagePath:he.string(),property:he.string().array(),listenToChildren:he.boolean()}),{storageType:e,storagePath:t,property:n,listenToChildren:i}),{storageType:e,storagePath:t,storageProp:yh(n),listenToChildren:i}}parseBindTarget(e,t,n){return un(he.object({declarationString:he.string(),filePath:wa,scope:_c.optional()}),{declarationString:e,filePath:t,scope:n}),this.bindTargetParser.fromStringAndValidate(e,t,n)}setMetadata(e,t){un(he.object({bindTarget:ba}),{bindTarget:e}),this.plugin.metadataManager.write(t,e)}getMetadata(e){return un(he.object({bindTarget:ba}),{bindTarget:e}),this.plugin.metadataManager.read(e)}updateMetadata(e,t){un(he.object({bindTarget:ba,updateFn:he.function().args(he.any()).returns(he.any())}),{bindTarget:e,updateFn:t});let n=this.plugin.metadataManager.read(e),i=t(n);this.plugin.metadataManager.write(i,e)}subscribeToMetadata(e,t,n){un(he.object({bindTarget:ba,lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:he.function().args(he.any()).returns(he.void())}),{bindTarget:e,lifecycleHook:t,callback:n});let i=Vr(),a=new Yr(void 0);a.registerListener({callback:n});let o=this.plugin.metadataManager.subscribe(i,a,e,()=>{a.unregisterAllListeners()});t.register(()=>{o.unsubscribe()})}createNotePosition(e,t){return un(he.object({lineStart:he.number(),lineEnd:he.number()}),{lineStart:e,lineEnd:t}),new Zs({lineStart:e,lineEnd:t})}};var K8=require("@codemirror/view"),Gv=class extends K8.WidgetType{constructor(e,t,n,i,a){super(),this.type=e,this.content=t,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(e){return e.content===this.content}toDOM(e){let t=document.createElement("span");t.addClass("cm-inline-code");let n=this.plugin.api.createInlineFieldOfTypeFromString(this.type,this.content,this.filePath,void 0);return this.renderChild=this.plugin.api.wrapInMDRC(n,t,this.parentComponent),t}destroy(e){this.renderChild?.unload(),super.destroy(e)}};var e6=require("obsidian"),Wv=class extends e6.MarkdownRenderChild{constructor(e,t,n){super(n),this.plugin=e,this.mountable=t,this.mountable.registerUnmountCb(()=>{this.unload()})}onload(){this.mountable.mount(this.containerEl),super.onload()}onunload(){this.mountable.isMounted()&&this.mountable.unmount(),super.onunload()}};function t6(r){return r.dependencyManager.checkDependency("dataview").api}function Vu(r){return r.dependencyManager.checkDependency("js-engine").api}function xM(r){return r.dependencyManager.checkDependency("templater-obsidian").templater}var Lne=he.object({addChild:he.function().args(he.instanceof(r6.Component)).returns(he.void())}),Yv=class extends Hv{constructor(e){super(e)}wrapInMDRC(e,t,n){un(he.object({field:GN,containerEl:HN,component:Lne}),{field:e,containerEl:t,component:n});let i=new Wv(this.plugin,e,t);return n.addChild(i),i}constructMDRCWidget(e,t,n,i){if(Tm(e))return new Gv(e,t,n,i,this.plugin);throw new zt({errorLevel:"CRITICAL",effect:"failed to construct mdrc",cause:`Invalid inline field type "${e}"`})}reactiveMetadata(e,t,n){un(he.object({bindTargets:ba.array(),lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:he.function()}),{bindTargets:e,lifecycleHook:t,callback:n});let i=Vu(this.plugin),a=Vr(),o=new Yr(void 0),u=e.map(c=>({bindTarget:c,callbackSignal:new Yr(void 0)})),l,s=this.plugin.metadataManager.subscribeComputed(a,o,void 0,u,c=>l?.refresh(...c),()=>{});return t.register(()=>s.unsubscribe()),l=i.reactive(n,...u.map(c=>c.callbackSignal.get())),l}};var An=require("obsidian");var jv=$r(Rf());var n6=$r(Rf());var Une=ae('<div class="mb-calendar-cell mb-calendar-header-cell"><span class="mb-calendar-cell-text"> </span></div>'),Vne=(r,e,t)=>e(z(t)),qne=(r,e,t)=>e(r,z(t)),zne=ae('<div class="mb-calendar-cell" role="button" tabindex="0"><span class="mb-calendar-cell-text"> </span></div>'),Hne=ae('<div class="mb-calendar"><div class="mb-calendar-header"></div> <div class="mb-calendar-content"></div></div>');function bM(r,e){De(e,!0);let t=pr(()=>UD(e.month,e.year));function n(l){l&&e.dateChange((0,n6.default)(new Date(e.year,e.month,l)))}function i(l,s){l.key===" "&&n(s)}var a=Hne(),o=de(a);Gt(o,21,VD,Xt,(l,s)=>{var c=Une(),f=de(c),p=de(f);ue(f),ue(c),Ue(()=>ft(p,z(s))),te(l,c)}),ue(o);var u=ce(o,2);Gt(u,21,()=>z(t),l=>qD(),(l,s)=>{var c=zne();c.__click=[Vne,n,s],c.__keydown=[qne,i,s];let f=pr(()=>e.selectedDate?.year()===e.year&&e.selectedDate?.month()===e.month&&e.selectedDate?.date()===z(s));Ue(()=>jr(c,"mb-calendar-selected",z(f)));var p=de(c),m=de(p);ue(p),ue(c),Ue(()=>{jr(c,"mb-calendar-highlight",z(s)),jr(c,"mb-calendar-content-cell",z(s)),ft(m,z(s)||"")}),te(l,c)}),ue(u),ue(a),te(r,a),Ce()}Pt(["click","keydown"]);function Gne(r,e,t){if(z(e)===11){Oe(e,0),Oe(t,z(t)+1);return}Oe(e,z(e)+1)}function Wne(r,e,t){if(z(e)===0){Oe(e,11),Oe(t,z(t)-1);return}Oe(e,z(e)-1)}function Yne(r,e){let t=r.target.value,n=Number.parseInt(t);Number.isNaN(n)||Oe(e,He(n))}function jne(r,e,t){e(null),t.dateChangeCallback(null)}function Zne(r,e,t){e((0,jv.default)()),t.dateChangeCallback(e())}var Jne=ae('<div class="mb-date-picker"><div class="mb-date-picker-header"><button class="mb-date-picker-month-switch-button">Prev</button> <div class="mb-date-picker-header-text"><span class="mb-date-picker-header-text-month"> </span> <input class="mb-date-picker-header-text-year" type="number"></div> <button class="mb-date-picker-month-switch-button">Next</button></div> <!> <div class="mb-date-picker-footer"><button class="mb-date-picker-util-button">Set no Date</button> <button class="mb-date-picker-util-button">Set to Now</button></div></div>');function wM(r,e){De(e,!0);let t=st(e,"selectedDate",23,jv.default),n=bt(0),i=bt(0);Za(()=>{if(t())Oe(n,He(t().month())),Oe(i,He(t().year()));else{let E=(0,jv.default)();Oe(n,He(E.month())),Oe(i,He(E.year()))}});function a(E){t(E),e.dateChangeCallback(E)}var o=Jne(),u=de(o),l=de(u);l.__click=[Wne,n,i];var s=ce(l,2),c=de(s),f=de(c);Ue(()=>ft(f,LD(z(n)))),ue(c);var p=ce(c,2);St(p),Ue(()=>rb(p,z(i).toString())),p.__input=[Yne,i],ue(s);var m=ce(s,2);m.__click=[Gne,n,i],ue(u);var d=ce(u,2);bM(d,{dateChange:a,get month(){return z(n)},get year(){return z(i)},get selectedDate(){return t()}});var h=ce(d,2),w=de(h);w.__click=[jne,t,e];var x=ce(w,2);x.__click=[Zne,t,e],ue(h),ue(o),te(r,o),Ce()}Pt(["click","input"]);var Sf=class extends vi{setModal(e){this.modal=e}closeModal(){if(this.modal!==void 0)this.modal.close();else throw new zt({errorLevel:"CRITICAL",effect:"Failed to close modal",cause:"Modal reference in ModalContent is undefined"})}};var Xne=ae('<div class="setting-item"><div class="setting-item-info"><div class="setting-item-name"> </div> <div class="setting-item-description"> </div></div> <div class="setting-item-control"><!></div></div>');function qt(r,e){De(e,!0);let t=st(e,"name",3,""),n=st(e,"description",3,""),i=st(e,"heading",3,!1),a=st(e,"vertical",3,!1);var o=Xne(),u=de(o),l=de(u),s=de(l);ue(l);var c=ce(l,2),f=de(c);ue(c),ue(u);var p=ce(u,2),m=de(p);it(m,()=>e.children,d=>{var h=Xr(),w=Ke(h);Xa(w,()=>e.children),te(d,h)}),ue(p),ue(o),Ue(()=>{jr(o,"setting-item-heading",i()),jr(o,"mb-vertical",a()),ft(s,t()),ft(f,n()),jr(p,"mb-vertical-control",a())}),te(r,o),Ce()}function _M(r,e){De(e,!0);function t(i){i.type==="command"&&e.plugin.internal.openCommandSelectModal(a=>{i.command=a.id})}var n=pr(()=>`Command: ${(e.action.command||"none")??""}`);qt(r,{get name(){return z(n)},description:"The command to execute when this action runs.",children:(i,a)=>{It(i,{get variant(){return"primary"},onclick:()=>t(e.action),children:(o,u)=>{Vt();var l=hr("Change");te(o,l)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ce()}var Qne=(r,e)=>e(!e()),Kne=(r,e)=>{r.key===" "&&e(!e())},eie=ae('<div class="checkbox-container" role="switch" tabindex="0"><input type="checkbox" tabindex="-1"></div>');function $a(r,e){"use strict";let t=st(e,"checked",15,!1);var n=eie();n.__click=[Qne,t],n.__keydown=[Kne,t];var i=de(n);St(i),ue(n),Ue(()=>{_t(n,"aria-checked",t()),jr(n,"is-enabled",t()),Cs(i,t())}),te(r,n)}Pt(["click","keydown"]);var tie=ae('<input type="text" placeholder="some name">'),rie=ae("<!> <!> <!> <!>",1);function SM(r,e){De(e,!0);let t=st(e,"action",7);function n(f){f.type==="createNote"&&e.plugin.internal.openFolderSelectModal(p=>{f.folderPath=p})}var i=rie(),a=Ke(i),o=pr(()=>`Folder: ${(t().folderPath||"none")??""}`);qt(a,{get name(){return z(o)},description:"The folder to create a new note in.",children:(f,p)=>{It(f,{get variant(){return"primary"},onclick:()=>n(t()),children:(m,d)=>{Vt();var h=hr("Change");te(m,h)},$$slots:{default:!0}})},$$slots:{default:!0}});var u=ce(a,2),l=pr(()=>`File name: ${(t().fileName||"default")??""}`);qt(u,{get name(){return z(l)},description:"The file name of the new note.",children:(f,p)=>{var m=tie();St(m),vt(m,()=>t().fileName,d=>t().fileName=d),te(f,m)},$$slots:{default:!0}});var s=ce(u,2);qt(s,{name:"Open note",description:"Whether to open the new note after this action ran.",children:(f,p)=>{$a(f,{get checked(){return t().openNote},set checked(m){t().openNote=m}})},$$slots:{default:!0}});var c=ce(s,2);qt(c,{name:"Open if note already xxists",description:"Whether to open the note instead of creating a new one if the note already exists.",children:(f,p)=>{$a(f,{get checked(){return t().openIfAlreadyExists},set checked(m){t().openIfAlreadyExists=m}})},$$slots:{default:!0}}),te(r,i),Ce()}var nie=ae('<!> <div class="meta-bind-full-width meta-bind-high"><textarea></textarea></div>',1);function AM(r,e){De(e,!0);let t=st(e,"action",7);var n=nie(),i=Ke(n);qt(i,{name:"JS code",description:"The JavaScript code to run."});var a=ce(i,2),o=de(a);Fn(o),ue(a),vt(o,()=>t().code,u=>t().code=u),te(r,n),Ce()}var iie=ae('<input type="text" placeholder="some text">');function EM(r,e){De(e,!0);let t=st(e,"action",7);qt(r,{name:"Text",description:"The text to input at the cursor.",children:(n,i)=>{var a=iie();St(a),vt(a,()=>t().str,o=>t().str=o),te(n,a)},$$slots:{default:!0}}),Ce()}var aie=ae('<input type="number" placeholder="0">'),oie=ae('<!> <!> <div class="meta-bind-full-width meta-bind-high"><textarea></textarea></div>',1);function TM(r,e){De(e,!0);let t=st(e,"action",7);var n=oie(),i=Ke(n);qt(i,{name:"Line",description:"The line number to insert at.",children:(l,s)=>{var c=aie();St(c),vt(c,()=>t().line,f=>t().line=f),te(l,c)},$$slots:{default:!0}});var a=ce(i,2);qt(a,{name:"Text to insert",description:"The text to insert into the note."});var o=ce(a,2),u=de(o);Fn(u),ue(o),vt(u,()=>t().value,l=>t().value=l),te(r,n),Ce()}var sie=ae('<input type="text" placeholder="someJsFile.js">');function MM(r,e){De(e,!0);let t=st(e,"action",7);qt(r,{name:"JS file",description:"The JavaScript file to run.",children:(n,i)=>{var a=sie();St(a),vt(a,()=>t().file,o=>t().file=o),te(n,a)},$$slots:{default:!0}}),Ce()}var uie=ae('<input type="text" placeholder="[[Some Note]] or https://www.example.com">'),lie=ae("<!> <!>",1);function DM(r,e){De(e,!0);let t=st(e,"action",7);var n=lie(),i=Ke(n);qt(i,{name:"Link",description:"The link to open.",children:(o,u)=>{var l=uie();St(l),vt(l,()=>t().link,s=>t().link=s),te(o,l)},$$slots:{default:!0}});var a=ce(i,2);qt(a,{name:"New tab",description:"Whether to open the link in a new tab.",children:(o,u)=>{$a(o,{get checked(){return t().newTab},set checked(l){t().newTab=l}})},$$slots:{default:!0}}),te(r,n),Ce()}var cie=ae('<input type="text">'),fie=ae('<input type="text" placeholder="g">'),pie=ae('<!> <!> <!> <div class="meta-bind-full-width meta-bind-high"><textarea></textarea></div>',1);function CM(r,e){De(e,!0);let t=st(e,"action",7);var n=pie(),i=Ke(n);qt(i,{name:"Regexp",description:"The regexp to find replacements.",children:(s,c)=>{var f=cie();St(f),vt(f,()=>t().regexp,p=>t().regexp=p),te(s,f)},$$slots:{default:!0}});var a=ce(i,2);qt(a,{name:"Regexp flags",description:"The regexp flags for this regexp.",children:(s,c)=>{var f=fie();St(f),vt(f,()=>t().regexpFlags,p=>t().regexpFlags=p),te(s,f)},$$slots:{default:!0}});var o=ce(a,2);qt(o,{name:"Replacement text",description:"The text to replace the button with."});var u=ce(o,2),l=de(u);Fn(l),ue(u),vt(l,()=>t().replacement,s=>t().replacement=s),te(r,n),Ce()}var mie=ae('<input type="number" placeholder="0">'),die=ae('<input type="number" placeholder="0">'),hie=ae('<!> <!> <!> <div class="meta-bind-full-width meta-bind-high"><textarea></textarea></div>',1);function NM(r,e){De(e,!0);let t=st(e,"action",7);var n=hie(),i=Ke(n);qt(i,{name:"Line from",description:"The line that marks the start of the area to replace.",children:(s,c)=>{var f=mie();St(f),vt(f,()=>t().fromLine,p=>t().fromLine=p),te(s,f)},$$slots:{default:!0}});var a=ce(i,2);qt(a,{name:"Line to",description:"The line that marks the end of the area to replace.",children:(s,c)=>{var f=die();St(f),vt(f,()=>t().toLine,p=>t().toLine=p),te(s,f)},$$slots:{default:!0}});var o=ce(a,2);qt(o,{name:"Replacement text",description:"The text to replace the note section."});var u=ce(o,2),l=de(u);Fn(l),ue(u),vt(l,()=>t().replacement,s=>t().replacement=s),te(r,n),Ce()}var gie=ae('<!> <div class="meta-bind-full-width meta-bind-high"><textarea></textarea></div>',1);function FM(r,e){De(e,!0);let t=st(e,"action",7);var n=gie(),i=Ke(n);qt(i,{name:"Replacement text",description:"The text to replace the match with."});var a=ce(i,2),o=de(a);Fn(o),ue(a),vt(o,()=>t().replacement,u=>t().replacement=u),te(r,n),Ce()}var vie=ae('<input type="number" placeholder="100 ms">');function IM(r,e){De(e,!0);let t=st(e,"action",7);qt(r,{name:"Sleep time",description:"The time to sleep in milliseconds.",children:(n,i)=>{var a=vie();St(a),vt(a,()=>t().ms,o=>t().ms=o),te(n,a)},$$slots:{default:!0}}),Ce()}var yie=ae('<input type="text" placeholder="some name">'),xie=ae("<!> <!> <!> <!> <!>",1);function PM(r,e){De(e,!0);let t=st(e,"action",7);function n(d){d.type==="templaterCreateNote"&&e.plugin.internal.openFileSelectModal(h=>{d.templateFile=h})}function i(d){d.type==="templaterCreateNote"&&e.plugin.internal.openFolderSelectModal(h=>{d.folderPath=h})}var a=xie(),o=Ke(a),u=pr(()=>`Template file: ${(t().templateFile||"none")??""}`);qt(o,{get name(){return z(u)},description:"The template file to create a new note of.",children:(d,h)=>{It(d,{get variant(){return"primary"},onclick:()=>n(t()),children:(w,x)=>{Vt();var E=hr("Change");te(w,E)},$$slots:{default:!0}})},$$slots:{default:!0}});var l=ce(o,2),s=pr(()=>`Folder: ${(t().folderPath||"none")??""}`);qt(l,{get name(){return z(s)},description:"The folder to create a new note in.",children:(d,h)=>{It(d,{get variant(){return"primary"},onclick:()=>i(t()),children:(w,x)=>{Vt();var E=hr("Change");te(w,E)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=ce(l,2),f=pr(()=>`File name: ${(t().fileName||"default")??""}`);qt(c,{get name(){return z(f)},description:"The file name of the new note.",children:(d,h)=>{var w=yie();St(w),vt(w,()=>t().fileName,x=>t().fileName=x),te(d,w)},$$slots:{default:!0}});var p=ce(c,2);qt(p,{name:"Open note",description:"Whether to open the new note after this action ran.",children:(d,h)=>{$a(d,{get checked(){return t().openNote},set checked(w){t().openNote=w}})},$$slots:{default:!0}});var m=ce(p,2);qt(m,{name:"Open if note already exists",description:"Whether to open the note instead of creating a new one if the note already exists.",children:(d,h)=>{$a(d,{get checked(){return t().openIfAlreadyExists},set checked(w){t().openIfAlreadyExists=w}})},$$slots:{default:!0}}),te(r,a),Ce()}var bie=ae('<input type="text" placeholder="some value">'),wie=ae('<input type="text" placeholder="some value">'),_ie=ae("<!> <!> <!>",1);function BM(r,e){De(e,!0);let t=st(e,"action",7);var n=_ie(),i=Ke(n);qt(i,{name:"Metadata property",description:"The metadata property in form of a bind target.",children:(u,l)=>{var s=bie();St(s),vt(s,()=>t().bindTarget,c=>t().bindTarget=c),te(u,s)},$$slots:{default:!0}});var a=ce(i,2);qt(a,{name:"Value",description:"The new value.",children:(u,l)=>{var s=wie();St(s),vt(s,()=>t().value,c=>t().value=c),te(u,s)},$$slots:{default:!0}});var o=ce(a,2);qt(o,{name:"Evaluate",description:"Whether to evaluate the value as a JS expression.",children:(u,l)=>{$a(u,{get checked(){return t().evaluate},set checked(s){t().evaluate=s}})},$$slots:{default:!0}}),te(r,n),Ce()}var Sie=ae("<div><!></div>");function zs(r,e){De(e,!0);let t=st(e,"reverse",3,!1),n=st(e,"stretchChildren",3,!1),i=pr(()=>[t()?"mb-flex-row-reverse":"mb-flex-row",n()?"mb-flex-row-stretch":""].join(" "));var a=Sie(),o=de(a);Xa(o,()=>e.children),ue(a),Ue(()=>Qa(a,z(i))),te(r,a),Ce()}var Aie=ae('<div class="modal-button-container"><!></div>');function Io(r,e){De(e,!0);var t=Aie(),n=de(t);Xa(n,()=>e.children),ue(t),te(r,t),Ce()}var Eie=ae('<input type="text">'),Tie=ae('<input type="text">'),Mie=ae("<option> </option>"),Die=ae('<select class="dropdown"></select>'),Cie=ae('<input type="text">'),Nie=ae('<input type="text">'),Fie=ae('<input type="text">'),Iie=ae("<option> </option>"),Pie=ae("<h5> </h5> <!>",1),Bie=ae("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),kie=ae("<!> <!>",1),$ie=ae('<!> <!> <!> <!> <!> <!> <!> <h4>Actions</h4> Add action of type <select class="dropdown"></select> <!> <!> <h4>Preview</h4> <div></div> <!>',1);function kM(r,e){De(e,!0);let t=He(e.buttonConfig),n,i,a=bt(He("command"));Oc(()=>{i?.unmount()}),Za(()=>{i?.unmount(),n&&(ct.empty(n),i=new du(e.plugin,t,"","block",void 0,!1,!0),i.mount(n))});function o(){t.actions?.push(e.plugin.api.buttonActionRunner.createDefaultAction(z(a)))}function u(T){t.actions?.splice(T,1)}function l(T){return T==="command"?"Run a command":T==="open"?"Open a link":T==="js"?"Run a JavaScript file":T==="input"?"Insert text at cursor":T==="sleep"?"Sleep for some time":T==="templaterCreateNote"?"Create a new note using Templater":T==="updateMetadata"?"Update metadata":T==="createNote"?"Create a new note":T==="replaceInNote"?"Replace text in note":T==="regexpReplaceInNote"?"Replace text in note using regexp":T==="replaceSelf"?"Replace button with text":T==="insertIntoNote"?"Insert text into the note":T==="inlineJS"?"Run JavaScript code":"CHANGE ME"}function s(T,M){if(t.actions===void 0)return;let b=[];T>0&&b.push({name:"Move up",icon:"arrow-up",onclick:()=>{if(t.actions===void 0)return;let D=t.actions[T-1];t.actions[T-1]=t.actions[T],t.actions[T]=D}}),T<t.actions.length-1&&b.push({name:"Move down",icon:"arrow-down",onclick:()=>{if(t.actions===void 0)return;let D=t.actions[T+1];t.actions[T+1]=t.actions[T],t.actions[T]=D}}),b.push({name:"Remove",icon:"x",warning:!0,onclick:()=>u(T)}),e.plugin.internal.createContextMenu(b).showWithEvent(M)}var c=$ie(),f=Ke(c);qt(f,{name:"Label",description:"The label shown on the button.",children:(T,M)=>{var b=Eie();St(b),vt(b,()=>t.label,D=>t.label=D),te(T,b)},$$slots:{default:!0}});var p=ce(f,2);qt(p,{name:"Icon",description:"The icon shown on the button. If left empty, no icon will show",children:(T,M)=>{var b=Tie();St(b),vt(b,()=>t.icon,D=>t.icon=D),te(T,b)},$$slots:{default:!0}});var m=ce(p,2);qt(m,{name:"Style",description:"The style variant of the button",children:(T,M)=>{var b=Die();Gt(b,21,()=>Object.values(yn),Xt,(D,I)=>{var P=Mie(),R={},q=de(P);ue(P),Ue(()=>{R!==(R=z(I))&&(P.value=(P.__value=z(I))==null?"":z(I)),ft(q,z(I))}),te(D,P)}),ue(b),$c(b,()=>t.style,D=>t.style=D),te(T,b)},$$slots:{default:!0}});var d=ce(m,2);qt(d,{name:"CSS classes",description:"A list of CSS classes to add to the button. Multiple classes should be separated by a space.",children:(T,M)=>{var b=Cie();St(b),vt(b,()=>t.class,D=>t.class=D),te(T,b)},$$slots:{default:!0}});var h=ce(d,2);qt(h,{name:"Tooltip",description:"A tooltip to show when hovering the button. If not set, the button label will be shown instead.",children:(T,M)=>{var b=Nie();St(b),vt(b,()=>t.tooltip,D=>t.tooltip=D),te(T,b)},$$slots:{default:!0}});var w=ce(h,2);qt(w,{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",children:(T,M)=>{var b=Fie();St(b),vt(b,()=>t.id,D=>t.id=D),te(T,b)},$$slots:{default:!0}});var x=ce(w,2);qt(x,{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",children:(T,M)=>{$a(T,{get checked(){return t.hidden},set checked(b){t.hidden=b}})},$$slots:{default:!0}});var E=ce(x,4);Gt(E,21,()=>Object.values(Ks),Xt,(T,M)=>{var b=Iie(),D={},I=de(b);ue(b),Ue(()=>{D!==(D=z(M))&&(b.value=(b.__value=z(M))==null?"":z(M)),ft(I,z(M))}),te(T,b)}),ue(E);var v=ce(E,2);It(v,{get variant(){return"primary"},onclick:()=>o(),children:(T,M)=>{Vt();var b=hr("Add Action");te(T,b)},$$slots:{default:!0}});var _=ce(v,2);Gt(_,17,()=>t.actions??[],Xt,(T,M,b)=>{var D=Bie(),I=Ke(D);zs(I,{children:(me,oe)=>{var ve=Pie(),_e=Ke(ve),ye=de(_e);Ue(()=>ft(ye,l(z(M).type))),ue(_e);var be=ce(_e,2);It(be,{get variant(){return"plain"},onclick:we=>s(b,we),children:(we,Ee)=>{Zr(we,{iconName:"more-vertical",get plugin(){return e.plugin}})},$$slots:{default:!0}}),te(me,ve)},$$slots:{default:!0}});var P=ce(I,2);it(P,()=>z(M).type==="command",me=>{_M(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var R=ce(P,2);it(R,()=>z(M).type==="open",me=>{DM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var q=ce(R,2);it(q,()=>z(M).type==="js",me=>{MM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var L=ce(q,2);it(L,()=>z(M).type==="input",me=>{EM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var k=ce(L,2);it(k,()=>z(M).type==="sleep",me=>{IM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var B=ce(k,2);it(B,()=>z(M).type==="templaterCreateNote",me=>{PM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var W=ce(B,2);it(W,()=>z(M).type==="updateMetadata",me=>{BM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var O=ce(W,2);it(O,()=>z(M).type==="createNote",me=>{SM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var X=ce(O,2);it(X,()=>z(M).type==="replaceInNote",me=>{NM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var ne=ce(X,2);it(ne,()=>z(M).type==="regexpReplaceInNote",me=>{CM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var Z=ce(ne,2);it(Z,()=>z(M).type==="replaceSelf",me=>{FM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var U=ce(Z,2);it(U,()=>z(M).type==="insertIntoNote",me=>{TM(me,{get action(){return z(M)},get plugin(){return e.plugin}})});var pe=ce(U,2);it(pe,()=>z(M).type==="inlineJS",me=>{AM(me,{get action(){return z(M)},get plugin(){return e.plugin}})}),te(T,D)});var A=ce(_,4);So(A,T=>n=T,()=>n);var y=ce(A,2);Io(y,{children:(T,M)=>{var b=kie(),D=Ke(b);It(D,{get variant(){return"primary"},onclick:()=>e.modal.okay(t),children:(P,R)=>{Vt();var q=hr();Ue(()=>ft(q,e.modal.options.submitText)),te(P,q)},$$slots:{default:!0}});var I=ce(D,2);It(I,{get variant(){return"default"},onclick:()=>e.modal.cancel(),children:(P,R)=>{Vt();var q=hr("Cancel");te(P,q)},$$slots:{default:!0}}),te(T,b)},$$slots:{default:!0}}),$c(E,()=>z(a),T=>Oe(a,T)),te(r,c),Ce()}var Zv=class extends Sf{constructor(e,t){super(),this.plugin=e,this.options=t}onMount(e){ct.empty(e),this.component&&Nr(this.component),this.component=Dr(kM,{target:e,props:{plugin:this.plugin,modal:this,buttonConfig:this.options.config??this.plugin.api.buttonActionRunner.createDefaultButtonConfig()}})}onUnmount(e){ct.empty(e),this.component&&Nr(this.component)}okay(e){this.closeModal(),this.options.onOkay(e)}cancel(){this.closeModal()}};var Oie=(r,e,t)=>t.onSelect(t.image),Rie=(r,e,t,n)=>e(r,n.image),Lie=ae('<div class="mb-image-card" role="button" tabindex="0"><img class="mb-image-card-image"> <div class="mb-image-card-footer"><span> </span></div></div>');function $M(r,e){De(e,!0);let t=rr(e,["$$slots","$$events","$$legacy"]);function n(s,c){s.key===" "&&e.onSelect(c)}var i=Lie();i.__click=[Oie,t,e],i.__keydown=[Rie,n,t,e];var a=de(i);Ue(()=>_t(a,"src",e.plugin.internal.imagePathToUri(e.image)));var o=ce(a,2),u=de(o),l=de(u);ue(u),ue(o),ue(i),Ue(()=>{_t(a,"alt",e.image),ft(l,e.image)}),te(r,i),Ce()}Pt(["click","keydown"]);var Uie=ae('<div class="mb-image-search-container"><input type="text" placeholder="Search images..."></div> <div class="mb-image-card-grid"></div>',1);function OM(r,e){De(e,!0);let t=bt(""),n=e.plugin.internal.createFuzzySearch(),i=pr(()=>z(t)?(n.setSearch(z(t)),n.filterItems(e.options,s=>s.value)):e.options);var a=Uie(),o=Ke(a),u=de(o);St(u),ue(o);var l=ce(o,2);Gt(l,21,()=>z(i),Xt,(s,c)=>{$M(s,{get plugin(){return e.plugin},get image(){return z(c).value},get onSelect(){return e.onSelect}})}),ue(l),vt(u,()=>z(t),s=>Oe(t,s)),te(r,a),Ce()}var Ll=class extends Sf{constructor(e){super(),this.createComponent=e}onMount(e){ct.empty(e),this.component=this.createComponent(this,e)}onUnmount(e){this.component&&Nr(this.component),ct.empty(e)}};var Vie=ae("<textarea></textarea>"),qie=ae('<input type="text">'),zie=ae("<!> <!>",1),Hie=ae('<p> </p> <div class="mb-full-width-text-input"><!></div> <!>',1);function RM(r,e){De(e,!0);let t=bt(He(e.options.value));var n=Hie(),i=Ke(n),a=de(i);ue(i);var o=ce(i,2),u=de(o);it(u,()=>e.options.multiline,s=>{var c=Vie();Fn(c),vt(c,()=>z(t),f=>Oe(t,f)),te(s,c)},s=>{var c=qie();St(c),vt(c,()=>z(t),f=>Oe(t,f)),te(s,c)}),ue(o);var l=ce(o,2);Io(l,{children:(s,c)=>{var f=zie(),p=Ke(f);It(p,{get variant(){return"primary"},onclick:()=>e.options.onSubmit(z(t)),children:(d,h)=>{Vt();var w=hr("OK");te(d,w)},$$slots:{default:!0}});var m=ce(p,2);It(m,{onclick:()=>e.options.onCancel(),children:(d,h)=>{Vt();var w=hr("Cancel");te(d,w)},$$slots:{default:!0}}),te(s,f)},$$slots:{default:!0}}),Ue(()=>ft(a,e.options.subTitle)),te(r,n),Ce()}var ts=class{constructor(e,t){this.plugin=e,this.selectCallback=t}onSelected(e){this.selectCallback(e)}};var Jv=class extends ts{getItemText(e){return e.name}getItems(){return this.plugin.internal.getAllCommands()}};var Xv=class extends ts{getItemText(e){return e}getItems(){return this.plugin.internal.file.getAllFiles()}};var Qv=class extends ts{getItemText(e){return e}getItems(){return this.plugin.internal.file.getAllFolders()}};var Kv=class extends ts{constructor(e,t,n){super(e,t),this.ipf=n}getItemText(e){return e.displayValue}getItems(){return this.plugin.internal.getSuggesterOptions(this.ipf)}};var Gie=ae('<pre class="mb-pre"><code class="language-none mb-none"> </code></pre>'),Wie=ae("<tr><td>Tip</td><td> </td></tr>"),Yie=ae("<a> </a><br>",1),jie=ae("<tr><td>Docs</td><td></td></tr>"),Zie=ae('<tr><td>Context</td><td><pre class="mb-pre"><code class="language-none mb-none"> </code></pre></td></tr>'),Jie=ae('<div class="mb-card mb-card-full-width markdown-rendered"><h6><span> </span> </h6> <!> <table><tbody><tr><td>Cause</td><td> </td></tr><tr><td>Effect</td><td> </td></tr><!><!><!></tbody></table></div>'),Xie=ae('<div class="mb-card"><pre class="mb-pre"><code class="language-none mb-none"> </code></pre></div>');function ey(r,e){De(e,!0);var t=Xr(),n=Ke(t);it(n,()=>e.error instanceof zn,i=>{var a=Jie(),o=de(a),u=de(o),l=de(u);Ue(()=>ft(l,`${e.error.errorLevel??""}
				[${e.error.getErrorType()??""}]`)),ue(u);var s=ce(u);ue(o);var c=ce(o,2);it(c,()=>e.error.positionContext,y=>{var T=Gie(),M=de(T),b=de(M);ue(M),ue(T),Ue(()=>ft(b,e.error.positionContext)),te(y,T)});var f=ce(c,2),p=de(f),m=de(p),d=ce(de(m)),h=de(d);ue(d),ue(m);var w=ce(m),x=ce(de(w)),E=de(x);ue(x),ue(w);var v=ce(w);it(v,()=>e.error.tip,y=>{var T=Wie(),M=ce(de(T)),b=de(M);ue(M),ue(T),Ue(()=>ft(b,e.error.tip)),te(y,T)});var _=ce(v);it(_,()=>e.error.docs,y=>{var T=jie(),M=ce(de(T));Gt(M,21,()=>e.error.docs,Xt,(b,D)=>{var I=Yie(),P=Ke(I),R=de(P);ue(P),Vt(),Ue(()=>{_t(P,"href",z(D)),ft(R,z(D))}),te(b,I)}),ue(M),ue(T),te(y,T)});var A=ce(_);it(A,()=>e.error.context,y=>{var T=Zie(),M=ce(de(T)),b=de(M),D=de(b),I=de(D);Ue(()=>ft(I,JSON.stringify(e.error.context,null,4))),ue(D),ue(b),ue(M),ue(T),te(y,T)}),ue(p),ue(f),ue(a),Ue(()=>{Qa(u,e.error.errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),ft(s,` - ${e.error.effect??""}`),ft(h,e.error.cause),ft(E,e.error.effect)}),te(i,a)},i=>{var a=Xie(),o=de(a),u=de(o),l=de(u);ue(u),ue(o),ue(a),Ue(()=>ft(l,e.error.stack)),te(i,a)}),te(r,t),Ce()}var Qie=ae("<p> </p>"),Kie=ae('<pre class="mb-pre"><code class="language-none meta-bind-none"> </code></pre>'),eae=ae("<p> </p>"),tae=ae("<h6>Errors</h6> <!> <!>",1),rae=ae("<p> </p>"),nae=ae("<h6>Warnings</h6> <!> <!>",1),iae=ae("<!> <!> <!> <!>",1);function Hs(r,e){De(e,!0);var t=iae(),n=Ke(t);it(n,()=>e.settings.text,u=>{var l=Qie(),s=de(l);ue(l),Ue(()=>ft(s,e.settings.text)),te(u,l)});var i=ce(n,2);it(i,()=>e.settings.code,u=>{var l=Kie(),s=de(l),c=de(s);ue(s),ue(l),Ue(()=>ft(c,e.settings.code)),te(u,l)});var a=ce(i,2);it(a,()=>e.settings.errorCollection.hasErrors(),u=>{var l=tae(),s=ce(Ke(l),2);it(s,()=>e.settings.errorText,f=>{var p=eae(),m=de(p);ue(p),Ue(()=>ft(m,e.settings.errorText)),te(f,p)});var c=ce(s,2);Gt(c,17,()=>e.settings.errorCollection.getErrors(),Xt,(f,p)=>{ey(f,{get error(){return z(p)}})}),te(u,l)});var o=ce(a,2);it(o,()=>e.settings.errorCollection.hasWarnings(),u=>{var l=nae(),s=ce(Ke(l),2);it(s,()=>e.settings.warningText,f=>{var p=rae(),m=de(p);ue(p),Ue(()=>ft(m,e.settings.warningText)),te(f,p)});var c=ce(s,2);Gt(c,17,()=>e.settings.errorCollection.getWarnings(),Xt,(f,p)=>{ey(f,{get error(){return z(p)}})}),te(u,l)}),te(r,t),Ce()}var aae=(r,e)=>e(),oae=(r,e)=>{r.key===" "&&e()},sae=ae('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg> <span class="mb-error">[META_BIND_ERROR]</span>',1),uae=ae('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" x2="12" y1="9" y2="13"></line><line x1="12" x2="12.01" y1="17" y2="17"></line></svg>'),lae=ae('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>'),cae=ae('<div class="mb-error-collection" role="button" tabindex="0"><!></div>');function Af(r,e){De(e,!0);function t(){e.plugin.internal.openErrorCollectionViewModal(e.settings)}var n=Xr(),i=Ke(n);it(i,()=>!e.settings.errorCollection.isEmpty(),a=>{var o=cae();o.__click=[aae,t],o.__keydown=[oae,t];var u=de(o);it(u,()=>e.settings.errorCollection.hasErrors(),l=>{var s=sae();Vt(2),te(l,s)},l=>{var s=Xr(),c=Ke(s);it(c,()=>e.settings.errorCollection.hasWarnings(),f=>{var p=uae();te(f,p)},f=>{var p=lae();te(f,p)},!0),te(l,s)}),ue(o),te(a,o)}),te(r,n),Ce()}Pt(["click","keydown"]);var ty=class{constructor(e,t){this.plugin=e,this.file=t}openCommandSelectModal(e){this.createSearchModal(new Jv(this.plugin,e)).open()}openFileSelectModal(e){this.createSearchModal(new Xv(this.plugin,e)).open()}openFolderSelectModal(e){this.createSearchModal(new Qv(this.plugin,e)).open()}openButtonBuilderModal(e){this.createModal(new Zv(this.plugin,e),{title:"Meta Bind Button Builder"}).open()}openSuggesterModal(e,t){this.createSearchModal(new Kv(this.plugin,t,e)).open()}openImageSuggesterModal(e,t){this.createModal(new Ll((n,i)=>Dr(OM,{target:i,props:{plugin:this.plugin,options:this.getImageSuggesterOptions(e),onSelect:a=>{t(a),n.closeModal()}}})),{title:"Meta Bind image suggester",classes:["mb-image-suggester-modal"]}).open()}openDatePickerModal(e){this.createModal(new Ll((t,n)=>Dr(wM,{target:n,props:{selectedDate:e.getInternalValue(),dateChangeCallback:i=>{e.setInternalValue(i),t.closeModal()}}})),{title:"Meta Bind date picker"}).open()}openTextPromptModal(e){this.createModal(new Ll((t,n)=>Dr(RM,{target:n,props:{options:{...e,onSubmit:i=>{e.onSubmit(i),t.closeModal()},onCancel:()=>{e.onCancel(),t.closeModal()}}}})),e).open()}openErrorCollectionViewModal(e){this.createModal(new Ll((t,n)=>Dr(Hs,{target:n,props:{settings:e}})),{title:"Meta Bind error overview",classes:["mb-error-collection-modal","markdown-rendered"]}).open()}createErrorIndicator(e,t){Dr(Af,{target:e,props:{plugin:this.plugin,settings:t}})}};var i6=require("obsidian"),ry=class{constructor(){}setSearch(e){this.preparedSearch=(0,i6.prepareFuzzySearch)(e)}filterItems(e,t){return this.preparedSearch?e.filter(n=>this.preparedSearch?.(t(n))?.score!=null):e}};var fa=require("obsidian");var qu=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){return this.value?.toString()??"null"}};function a6(r){let e=[];for(let t of r.children)t instanceof fa.TFile&&o6(t.extension)&&e.push(new qu(t.path,t.name)),t instanceof fa.TFolder&&e.push(...a6(t));return e}function fae(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof fa.TFolder)){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}n.push(...a6(o))}for(let i of r){let a=vo(i.value);if(!a){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!(o instanceof fa.TFile)){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}if(!o6(o.extension)){let u=new Lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new fa.Notice(`meta-bind | ${u.message}`),console.warn(u);continue}n.push(new qu(o.path,o.name))}return n}function o6(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function s6(r,e){let t=e.mountable.getArguments("option"),n=e.mountable.getArguments("optionQuery");return fae(t,n,r)}var u6=require("obsidian");var ny=class extends u6.Modal{constructor(e,t,n){super(e.app),this.content=t,t.setModal(this),this.options=n}onOpen(){this.options?.title&&this.titleEl.setText(this.options.title),this.options?.classes&&ct.addClasses(this.modalEl,this.options.classes),this.content.mount(this.contentEl)}onClose(){this.content.unmount()}};var l6=require("obsidian"),iy=class extends l6.FuzzySuggestModal{constructor(e,t){super(e.app),this.content=t}getItems(){return this.content.getItems()}getItemText(e){return this.content.getItemText(e)}onChooseItem(e,t){this.content.onSelected(e)}};var c6=require("obsidian");function pae(r,e,t,n,i){let a=[];for(let o of t)a.push(new qu(o.value,o.name));if(n.length>0){let o;try{o=t6(r)}catch(l){return new c6.Notice("meta-bind | Dataview needs to be installed and enabled to use suggest option queries. Check the console for more information."),console.warn("meta-bind | failed to get dataview api",l),a}let u=he.object({name:he.string().min(1),path:he.string().min(1)});for(let l of n)o.pages(l.value,e).forEach(c=>{try{let f=c.file;if(!u.safeParse(f).success)return;let p=Y8(f.path,f.name,i);a.push(new qu(p,`file: ${f.name}`))}catch(f){console.warn("meta-bind | error while computing suggest options",f)}})}return a}function f6(r,e){let t=e.mountable.getArguments("option"),n=e.mountable.getArguments("optionQuery"),i=e.mountable.getArgument("useLinks");return pae(r,e.mountable.getFilePath(),t,n,i===void 0?"true":i.value)}var p6=require("obsidian"),ay=class{constructor(){this.menu=new p6.Menu}setItems(e){for(let t of e)this.menu.addItem(n=>{n.setTitle(t.name),t.icon&&n.setIcon(t.icon),t.warning&&n.setWarning(t.warning),n.onClick(t.onclick)})}show(e,t){this.menu.showAtPosition({x:e,y:t},document)}showWithEvent(e){this.menu.showAtMouseEvent(e)}};var Ul=require("obsidian");var oy=class{constructor(e){this.plugin=e}isExcludedFromRendering(e){for(let t of this.plugin.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}};var sy=class extends oy{constructor(e){super(e),this.app=e.app}async read(e){let t=this.app.vault.getAbstractFileByPath(e);if(!t||!(t instanceof Ul.TFile))throw new Error(`file not found: ${e}`);return this.app.vault.cachedRead(t)}async write(e,t){let n=this.app.vault.getFileByPath(e);if(!n)throw new Error(`file not found: ${e}`);await this.app.vault.modify(n,t)}async exists(e){return this.app.vault.getFileByPath(e)!==null}async atomicModify(e,t){let n=this.app.vault.getFileByPath(e);if(!n)throw new Error(`file not found: ${e}`);await this.app.vault.process(n,i=>t(i))}async create(e,t,n,i){let a=this.app.vault.getAvailablePath((0,Ul.normalizePath)(e+"/"+t),n),o=await this.app.vault.create(a,"");if(i){let u=this.app.workspace.getLeaf(!1);u&&await u.openFile(o,{state:{mode:"source"}})}return o.path}getAllFiles(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Ul.TFile).map(e=>e.path)}getAllFolders(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Ul.TFolder).map(e=>e.path)}open(e,t,n){this.app.workspace.openLinkText(e,t,n)}getPathByName(e,t=""){return this.app.metadataCache.getFirstLinkpathDest(e,t)?.path}};var cm=require("obsidian");var uy=class{constructor(e,t,n,i,a){this.plugin=e,this.containerEl=t,this.code=i,this.hidden=a;let o=e.app.vault.getAbstractFileByPath(n);if(!(o instanceof cm.TFile))throw new Error(`File not found: ${n}`);this.file=o,this.jsEngine=Vu(this.plugin),this.renderComponent=new cm.Component}async evaluateCode(e){return this.jsEngine.internal.execute({code:this.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.containerEl,component:this.renderComponent,contextOverrides:e})}async evaluate(e){try{ct.empty(this.containerEl),ct.removeClass(this.containerEl,"mb-error"),this.renderComponent.unload(),this.renderComponent=new cm.Component,this.renderComponent.load();let t=await this.evaluateCode(e),n=this.jsEngine.internal.createRenderer(this.containerEl,this.file.path,this.renderComponent);return this.hidden||await n.render(t.result),n.convertToSimpleObject(t.result)}catch(t){t instanceof Error&&(this.containerEl.innerText=t.message,ct.addClass(this.containerEl,"mb-error"));return}}unload(){this.renderComponent.unload()}};var ly=class extends ty{constructor(e){super(e,new sy(e)),this.app=e.app}getLifecycleHookValidator(){return he.instanceof(An.Component)}getImageSuggesterOptions(e){return s6(this.plugin,e)}getSuggesterOptions(e){return f6(this.plugin,e)}async renderMarkdown(e,t,n){let i=new An.Component;return i.load(),await An.MarkdownRenderer.render(this.app,e,t,n,i),()=>i.unload()}executeCommandById(e){return this.app.commands.executeCommandById(e)}isJsEngineAvailable(){try{return Vu(this.plugin),!0}catch{return!1}}async jsEngineRunFile(e,t,n,i){let a=Vu(this.plugin),o=this.app.vault.getAbstractFileByPath(t);if(!o||!(o instanceof An.TFile))throw new Error(`calling file not found: ${t}`);let u=this.app.metadataCache.getFileCache(o),l=new An.Component;return await a.internal.executeFile(e,{component:l,container:i,context:{metadata:u,file:o,line:0},contextOverrides:n}),()=>l.unload()}async jsEngineRunCode(e,t,n,i){let a=Vu(this.plugin),o=this.app.vault.getAbstractFileByPath(t);if(!o||!(o instanceof An.TFile))throw new Error(`calling file not found: ${t}`);let u=this.app.metadataCache.getFileCache(o),l=new An.Component;return await a.internal.execute({code:e,component:l,container:i,context:{metadata:u,file:o,line:0},contextOverrides:n}),()=>l.unload()}createJsRenderer(e,t,n,i){return new uy(this.plugin,e,t,n,i)}showNotice(e){new An.Notice(e)}parseYaml(e){return(0,An.parseYaml)(e)}stringifyYaml(e){return(0,An.stringifyYaml)(e)}setIcon(e,t){(0,An.setIcon)(e,t)}imagePathToUri(e){return this.app.vault.adapter.getResourcePath(e)}createModal(e,t){return new ny(this.plugin,e,t)}createSearchModal(e){return new iy(this.plugin,e)}getAllCommands(){return this.app.commands.listCommands().map(e=>({id:e.id,name:e.name}))}createFuzzySearch(){return new ry}createContextMenu(e){let t=new ay;return t.setItems(e),t}async evaluateTemplaterTemplate(e,t){let n=xM(this.plugin),i=this.app.vault.getAbstractFileByPath(e);if(!i||!(i instanceof An.TFile))throw new Error(`Template file not found: ${e}`);let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof An.TFile))throw new Error(`Target file not found: ${t}`);let o=n.create_running_config(i,a,4);return await n.read_and_parse_template(o)}async createNoteWithTemplater(e,t,n,i){let a=xM(this.plugin),o=this.app.vault.getAbstractFileByPath(e);if(!o||!(o instanceof An.TFile))throw new Error(`Template file not found: ${e}`);let u;if(t!==void 0){let s=this.app.vault.getAbstractFileByPath(t);if(!s||!(s instanceof An.TFolder))throw new Error(`Folder not found: ${t}`);u=s}return(await a.create_new_note_from_template(o,u,n,i??!0))?.path}};var LM=require("obsidian");var cy=class extends Kl{constructor(e,t,n){super(t,n),this.plugin=e,this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(i,a,o)=>{this.manager.onExternalUpdate(this,i.path,structuredClone(o.frontmatter)??{})}))}readExternal(e){let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof LM.TFile))throw new zt({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let n=this.plugin.app.metadataCache.getFileCache(t)?.frontmatter;return structuredClone(n)??{}}getDefaultCacheItem(e){let t=this.plugin.app.vault.getAbstractFileByPath(e);if(t==null||!(t instanceof LM.TFile))throw new zt({errorLevel:"CRITICAL",effect:"can not get default cache item",cause:`no file for path "${e}" found or path is not a file`});let n=this.plugin.app.metadataCache.getFileCache(t)?.frontmatter;return{data:structuredClone(n)??{},storagePath:e,file:t,...this.manager.getDefaultCacheItem()}}getTags(e){let t=this.plugin.app.metadataCache.getFileCache(e);if(!t)return[];let n=t.tags?.map(a=>a.tag.substring(1))??[],i=t.frontmatter?.tags;return i&&(Array.isArray(i)?n.push(...i):n.push(i)),Array.from(new Set(n))}async syncExternal(e){await this.plugin.app.fileManager.processFrontMatter(e.file,t=>{Object.assign(t,e.data)})}};var fm=class extends Zs{constructor(e,t){super(void 0),this.ctx=e,this.element=t}getPosition(){let e=this.ctx.getSectionInfo(this.element);if(e)return{lineStart:e.lineStart,lineEnd:e.lineEnd}}};var m6=require("obsidian");function UM(r,e){De(e,!0);let t=new Rc(e.plugin,Vr(),"","block",e.declaration);hu(r,{mountable:t}),Ce()}var mae=ae('<div class="mb-card"><h3> </h3> <!> <!> <code> </code></div>');function VM(r,e){De(e,!0);let t=e.plugin.api.createInlineFieldFromString(e.declaration.inputField,"",void 0,"block"),n=e.plugin.api.createInlineFieldFromString(e.declaration.declaration,"",void 0,"block");var i=mae(),a=de(i),o=de(a);ue(a);var u=ce(a,2);hu(u,{mountable:t});var l=ce(u,2);hu(l,{mountable:n});var s=ce(l,2),c=de(s);ue(s),ue(i),Ue(()=>{ft(o,e.declaration.title),ft(c,e.declaration.display)}),te(r,i),Ce()}var dae=ae("<h1>Meta Bind Playground</h1> <span><!> <!> <!></span>",1),hae=ae(`<div class="mb-faq-view markdown-rendered"><!> <h2>Quick Reference</h2> <h3>Error Messages</h3> <p>When creating <a>Input Fields</a> or <a>View Fields</a> <strong>warnings</strong> ( <!> ) and <strong>errors</strong> ( <!> ) can occur. These are <strong>clickable</strong> and will show a modal with detailed information about the error
		when clicked.</p> <h3>Unloaded Message</h3> <p>A message like this <span class="mb-warning">[MB_UNLOADED] ...</span> means that Obsidian told Meta Bind to unload
		the field that was once displayed there. This usually happens when Meta Bind was disabled, such as after a plugin
		update, or when another plugin is interfering with Meta Bind.</p> <p>Usually reopening the note or restarting Obsidian causes the field to display normally again.</p> <h3>Bind Targets</h3> <p><a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a> let the plugin know what frontmatter properties to bind <a>Input Fields</a> and <a>View Fields</a> to.</p> <h2>Playground</h2> <h3>Input Fields</h3> <p><a>Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.</p> <!> <h3>View Fields</h3> <p><a>View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.</p> <!></div>`);function qM(r,e){De(e,!0);let t="INPUT[someInputFieldDeclaration]",n=He(new Jt("exampleWarningErrorCollection")),i="INPUT[someInputFieldDeclaration]",a=He(new Jt("exampleErrorErrorCollection"));hp(()=>{n.add(new kf({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),a.add(new kf({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"}))});var o=hae(),u=de(o);zs(u,{children:(M,b)=>{var D=dae(),I=ce(Ke(D),2),P=de(I);It(P,{get variant(){return"primary"},onclick:()=>{Wt.open(Wt.linkToHome())},children:(L,k)=>{Vt();var B=hr("Docs");te(L,B)},$$slots:{default:!0}});var R=ce(P,2);It(R,{onclick:()=>{Wt.open(Wt.linkToGithub())},children:(L,k)=>{Vt();var B=hr("GitHub");te(L,B)},$$slots:{default:!0}});var q=ce(R,2);It(q,{onclick:()=>{Wt.open(Wt.linkToIssues())},children:(L,k)=>{Vt();var B=hr("Report Issue");te(L,B)},$$slots:{default:!0}}),ue(I),te(M,D)},$$slots:{default:!0}});var l=ce(u,6),s=ce(de(l));Ue(()=>_t(s,"href",Wt.linkToInputFields()));var c=ce(s,2);Ue(()=>_t(c,"href",Wt.linkToViewFields()));var f=ce(c,4),p=pr(()=>({errorCollection:n,code:t}));Af(f,{get plugin(){return e.plugin},get settings(){return z(p)}});var m=ce(f,4),d=pr(()=>({errorCollection:a,code:i}));Af(m,{get plugin(){return e.plugin},get settings(){return z(d)}}),Vt(3),ue(l);var h=ce(l,10),w=ce(de(h),2);Ue(()=>_t(w,"href",Wt.linkToInputFields()));var x=ce(w,2);Ue(()=>_t(x,"href",Wt.linkToViewFields())),Vt(),ue(h);var E=ce(h,6),v=de(E);Ue(()=>_t(v,"href",Wt.linkToInputFields())),Vt(),ue(E);var _=ce(E,2);Gt(_,17,()=>sN(e.plugin),Xt,(M,b)=>{UM(M,{get declaration(){return z(b)[1]},get plugin(){return e.plugin}})});var A=ce(_,4),y=de(A);Ue(()=>_t(y,"href",Wt.linkToViewFields())),Vt(),ue(A);var T=ce(A,2);Gt(T,17,()=>Object.values(sx),Xt,(M,b)=>{var D=Xr(),I=Ke(D);Gt(I,17,()=>z(b),Xt,(P,R)=>{VM(P,{get declaration(){return z(R)},get plugin(){return e.plugin}})}),te(M,D)}),ue(o),te(r,o),Ce()}var Vl="mb-playground-view-type",fy=class extends m6.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return Vl}getDisplayText(){return"Meta Bind playground"}async onOpen(){this.contentEl.empty(),this.component=Dr(qM,{target:this.contentEl,props:{plugin:this.plugin}})}async onClose(){this.component&&Nr(this.component)}};var ii=require("obsidian");var d6=require("obsidian");var mm=require("obsidian");var pm=require("obsidian");var gae=ae("<span> </span> <!> <!> <!>",1),vae=ae('<div class="mb-card markdown-rendered"><!> <pre class="mb-pre"><code class="mb-none"> </code></pre></div>');function zM(r,e){De(e,!0);let t=st(e,"template",15);function n(){e.plugin.internal.openButtonBuilderModal({submitText:"Submit",config:structuredClone(t()),onOkay:c=>{t(c)}})}function i(){let c=(0,pm.stringifyYaml)(t());navigator.clipboard.writeText(c),new pm.Notice("meta-bind | Copied to clipboard")}var a=vae(),o=de(a);zs(o,{children:(c,f)=>{var p=gae(),m=Ke(p),d=de(m);ue(m);var h=ce(m,2);It(h,{onclick:()=>n(),get variant(){return"primary"},tooltip:"Edit",children:(E,v)=>{Zr(E,{get plugin(){return e.plugin},iconName:"pen-line"})},$$slots:{default:!0}});var w=ce(h,2);It(w,{onclick:()=>i(),get variant(){return"default"},tooltip:"Copy",children:(E,v)=>{Zr(E,{get plugin(){return e.plugin},iconName:"copy"})},$$slots:{default:!0}});var x=ce(w,2);It(x,{onclick:()=>e.onDelete(t()),get variant(){return"destructive"},tooltip:"Delete",children:(E,v)=>{Zr(E,{get plugin(){return e.plugin},iconName:"x"})},$$slots:{default:!0}}),Ue(()=>ft(d,t().id)),te(c,p)},$$slots:{default:!0}});var u=ce(o,2),l=de(u),s=de(l);Ue(()=>ft(s,(0,pm.stringifyYaml)(t()))),ue(l),ue(u),ue(a),te(r,a),Ce()}var yae=ae('<div><h3 class="mod-error">Some Templates Failed to Parse</h3> <!></div>'),xae=ae("<!> <!>",1),bae=ae("<div><h2>Meta Bind Button Templates</h2> <!> <!> <!> <!> <!></div>");function HM(r,e){De(e,!0);let t=st(e,"buttonConfigs",7),n=bt(void 0);function i(h){t(t().filter(w=>w!==h))}function a(){t().push(e.modal.plugin.api.buttonActionRunner.createDefaultButtonConfig())}async function o(){let h;try{h=(0,mm.parseYaml)(await navigator.clipboard.readText())}catch(x){console.warn(x),new mm.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}let w=yc.safeParse(h);if(!w.success){let x=mv(w.error,{unionSeparator:`
OR `,issueSeparator:" AND ",prefix:null});console.warn(new ps({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:x.message,docs:[Wt.linkToButtonConfig()]})),console.warn(x),new mm.Notice("meta-bind | Can not parse button config. Check your button syntax. See the console for more details.");return}t().push(h)}function u(){Oe(n,He(e.modal.save(t()))),z(n)===void 0&&e.modal.close()}function l(){e.modal.close()}var s=bae(),c=ce(de(s),2);Gt(c,17,t,Xt,(h,w,x)=>{zM(h,{get plugin(){return e.modal.plugin},get template(){return t()[x]},set template(E){t()[x]=E},onDelete:i})});var f=ce(c,2);It(f,{onclick:()=>a(),get variant(){return"primary"},tooltip:"Create new template",children:(h,w)=>{Vt();var x=hr("Add Template");te(h,x)},$$slots:{default:!0}});var p=ce(f,2);It(p,{onclick:()=>o(),get variant(){return"default"},tooltip:"Create new template from YAML in clipboard",children:(h,w)=>{Vt();var x=hr("Add Template from Clipboard");te(h,x)},$$slots:{default:!0}});var m=ce(p,2);it(m,()=>z(n),h=>{var w=yae(),x=ce(de(w),2),E=pr(()=>({errorCollection:z(n)}));Hs(x,{get settings(){return z(E)}}),ue(w),te(h,w)});var d=ce(m,2);Io(d,{children:(h,w)=>{var x=xae(),E=Ke(x);It(E,{onclick:()=>u(),get variant(){return"primary"},tooltip:"Save changes",children:(_,A)=>{Vt();var y=hr("Save");te(_,y)},$$slots:{default:!0}});var v=ce(E,2);It(v,{onclick:()=>l(),tooltip:"Revert changes",children:(_,A)=>{Vt();var y=hr("Cancel");te(_,y)},$$slots:{default:!0}}),te(h,x)},$$slots:{default:!0}}),ue(s),te(r,s),Ce()}var py=class extends d6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&Nr(this.component),this.component=Dr(HM,{target:this.contentEl,props:{buttonConfigs:ID(this.plugin.settings.buttonTemplates),modal:this}})}onClose(){this.contentEl.empty(),this.component&&Nr(this.component)}save(e){let t=this.plugin.api.buttonManager.setButtonTemplates(e);if(t.hasErrors())return t;this.plugin.settings.buttonTemplates=e,this.plugin.saveSettings()}};var h6=require("obsidian");var wae=ae('<tr><td class="mb-excluded-folders-table-input-cell"><input type="text" placeholder="path/to/folder"></td><td><!></td></tr>'),_ae=ae('<div><h3 class="mod-error">Some folder paths are invalid</h3> <!></div>'),Sae=ae("<!> <!>",1),Aae=ae('<div><table class="mb-excluded-folders-table"><thead><tr><th>Folder Path</th><th></th></tr></thead><tbody></tbody></table> <!> <!> <!></div>');function GM(r,e){De(e,!0);let t=st(e,"excludedFolders",7),n=bt(void 0);function i(d){t(t().filter(h=>h!==d))}function a(){t().push("")}function o(){Oe(n,He(e.modal.save(t()))),z(n)===void 0&&e.modal.close()}function u(){e.modal.close()}var l=Aae(),s=de(l),c=ce(de(s));Gt(c,21,t,Xt,(d,h,w)=>{var x=wae(),E=de(x),v=de(E);St(v),ue(E);var _=ce(E),A=de(_);It(A,{onclick:()=>i(z(h)),tooltip:"Delete",children:(y,T)=>{Zr(y,{get plugin(){return e.plugin},iconName:"x"})},$$slots:{default:!0}}),ue(_),ue(x),vt(v,()=>t()[w],y=>t()[w]=y),te(d,x)}),ue(c),ue(s);var f=ce(s,2);It(f,{onclick:()=>a(),get variant(){return"primary"},tooltip:"Add new excluded folder",children:(d,h)=>{Vt();var w=hr("Add folder");te(d,w)},$$slots:{default:!0}});var p=ce(f,2);it(p,()=>z(n),d=>{var h=_ae(),w=ce(de(h),2),x=pr(()=>({errorCollection:z(n)}));Hs(w,{get settings(){return z(x)}}),ue(h),te(d,h)});var m=ce(p,2);Io(m,{children:(d,h)=>{var w=Sae(),x=Ke(w);It(x,{onclick:()=>o(),get variant(){return"primary"},tooltip:"Save changes",children:(v,_)=>{Vt();var A=hr("Save");te(v,A)},$$slots:{default:!0}});var E=ce(x,2);It(E,{onclick:()=>u(),tooltip:"Revert changes",children:(v,_)=>{Vt();var A=hr("Cancel");te(v,A)},$$slots:{default:!0}}),te(d,w)},$$slots:{default:!0}}),ue(l),te(r,l),Ce()}var my=class extends h6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&Nr(this.component),this.component=Dr(GM,{target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this,plugin:this.plugin}})}onClose(){this.contentEl.empty(),this.component&&Nr(this.component)}save(e){for(let t of e)if(t===""){let n=new Jt("Excluded folders");return n.add(new Error(`Invalid Folder Path '${t}'. Folder path may not be empty.`)),n}this.plugin.settings.excludedFolders=e,this.plugin.saveSettings()}};var g6=require("obsidian");var Eae=ae('<input type="text" placeholder="template-name"> <!>',1),Tae=ae('<div class="mb-card"><!> <textarea placeholder="INPUT[slider(addLabels)]" class="mb-textarea"></textarea></div>');function WM(r,e){De(e,!0);let t=st(e,"template",15);var n=Tae(),i=de(n);zs(i,{children:(o,u)=>{var l=Eae(),s=Ke(l);St(s);var c=ce(s,2);It(c,{onclick:()=>e.onDelete(t()),get variant(){return"destructive"},tooltip:"Delete Template",children:(f,p)=>{Zr(f,{get plugin(){return e.plugin},iconName:"x"})},$$slots:{default:!0}}),vt(s,()=>t().name,f=>t(t().name=f,!0)),te(o,l)},$$slots:{default:!0}});var a=ce(i,2);Fn(a),ue(n),vt(a,()=>t().declaration,o=>t(t().declaration=o,!0)),te(r,n),Ce()}var Mae=ae('<div><h3 class="mod-error">Some Templates Failed to Parse</h3> <!></div>'),Dae=ae("<!> <!>",1),Cae=ae("<div><h2>Meta Bind Input Field Templates</h2> <!> <!> <!> <!></div>");function YM(r,e){De(e,!0);let t=st(e,"inputFieldTemplates",7),n=bt(void 0);function i(m){t(t().filter(d=>d!==m))}function a(){t().push({name:"",declaration:""})}function o(){Oe(n,He(e.modal.save(t()))),z(n)===void 0&&e.modal.close()}function u(){e.modal.close()}var l=Cae(),s=ce(de(l),2);Gt(s,17,t,Xt,(m,d)=>{WM(m,{get plugin(){return e.modal.plugin},get template(){return z(d)},onDelete:i})});var c=ce(s,2);It(c,{onclick:()=>a(),get variant(){return"primary"},tooltip:"Create New Template",children:(m,d)=>{Vt();var h=hr("Add Template");te(m,h)},$$slots:{default:!0}});var f=ce(c,2);it(f,()=>z(n),m=>{var d=Mae(),h=ce(de(d),2),w=pr(()=>({errorCollection:z(n)}));Hs(h,{get settings(){return z(w)}}),ue(d),te(m,d)});var p=ce(f,2);Io(p,{children:(m,d)=>{var h=Dae(),w=Ke(h);It(w,{onclick:()=>o(),get variant(){return"primary"},tooltip:"Save Changes",children:(E,v)=>{Vt();var _=hr("Save");te(E,_)},$$slots:{default:!0}});var x=ce(w,2);It(x,{onclick:()=>u(),tooltip:"Revert Changes",children:(E,v)=>{Vt();var _=hr("Cancel");te(E,_)},$$slots:{default:!0}}),te(m,h)},$$slots:{default:!0}}),ue(l),te(r,l),Ce()}var dy=class extends g6.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&Nr(this.component),this.component=Dr(YM,{target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&Nr(this.component)}save(e){let t=this.plugin.api.inputFieldParser.parseTemplates(e);if(t.hasErrors())return t;this.plugin.settings.inputFieldTemplates=e,this.plugin.saveSettings()}};var hy=class extends ii.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;if(e.empty(),this.plugin.build==="dev"||this.plugin.build==="canary"){e.createEl("p",{text:`You are using a ${this.plugin.build} build (${this.plugin.manifest.version}). This build is not intended for production use. Use at your own risk.`,cls:"mb-error"});let t=new ii.ButtonComponent(e);t.setButtonText("Learn About Canary Builds"),t.setCta(),t.onClick(()=>{Wt.open(Wt.linkToCanaryBuilds())})}new ii.Setting(e).setName("Quick access").addButton(t=>{t.setCta(),t.setButtonText("Docs"),t.onClick(()=>{Wt.open(Wt.linkToHome())})}).addButton(t=>{t.setButtonText("Open FAQ"),t.onClick(()=>{this.plugin.activateView(Vl)})}).addButton(t=>{t.setButtonText("GitHub"),t.onClick(()=>{Wt.open(Wt.linkToGithub())})}).addButton(t=>{t.setButtonText("Report issue"),t.onClick(()=>{Wt.open(Wt.linkToIssues())})}),new ii.Setting(e).setName("Enable syntax highlighting").setDesc("Enable syntax highlighting for meta bind syntax. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableSyntaxHighlighting),t.onChange(n=>{this.plugin.settings.enableSyntaxHighlighting=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("Enable editor right-click menu").setDesc("Enable a meta bind menu section in the editor right-click menu. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableEditorRightClickMenu),t.onChange(n=>{this.plugin.settings.enableEditorRightClickMenu=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("Input field templates").setDesc("You can specify input field templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(t=>{t.setButtonText("Edit templates"),t.onClick(()=>{new dy(this.app,this.plugin).open()})}),new ii.Setting(e).setName("Button templates").setDesc("You can specify button field templates here, and access them in inline buttons.").addButton(t=>{t.setButtonText("Edit templates"),t.onClick(()=>{new py(this.app,this.plugin).open()})}),new ii.Setting(e).setName("Excluded folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(t=>{t.setButtonText("Edit excluded folders"),t.onClick(()=>{new my(this.app,this.plugin).open()})}),new ii.Setting(e).setName("View fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(t=>{t.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),t.onChange(n=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("Enable JavaScript").setDesc("Enable features that run user written JavaScript. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableJs),t.onChange(n=>{this.plugin.settings.enableJs=n,this.plugin.saveSettings()})}),e.createEl("h2",{text:"Date and time settings"}),new ii.Setting(e).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(t=>{t.setValue(this.plugin.settings.preferredDateFormat),t.onChange(n=>{this.plugin.settings.preferredDateFormat=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("First weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(t=>{for(let n of Yu)t.addOption(n.name,n.name);t.setValue(this.plugin.settings.firstWeekday.name),t.onChange(n=>{this.plugin.settings.firstWeekday=Yu.find(i=>i.name===n),this.plugin.saveSettings()})}),e.createEl("h2",{text:"Advanced settings"}),new ii.Setting(e).setName("Dev mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(t=>{t.setValue(this.plugin.settings.devMode),t.onChange(n=>{this.plugin.settings.devMode=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("Disable code block restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(t=>{t.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),t.onChange(n=>{this.plugin.settings.ignoreCodeBlockRestrictions=n,this.plugin.saveSettings()})}),new ii.Setting(e).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${po.syncInterval}; Minimum: ${po.minSyncInterval}; Maximum: ${po.maxSyncInterval}`).addText(t=>{t.setValue(this.plugin.settings.syncInterval.toString()),t.onChange(n=>{this.plugin.settings.syncInterval=Number.parseInt(n),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=po.syncInterval),this.plugin.settings.syncInterval<po.minSyncInterval&&(this.plugin.settings.syncInterval=po.minSyncInterval),this.plugin.settings.syncInterval>po.maxSyncInterval&&(this.plugin.settings.syncInterval=po.maxSyncInterval),this.plugin.saveSettings()})})}};var jM=(n=>(n.DEV="dev",n.CANARY="canary",n.RELEASE="release",n))(jM||{}),gy=class extends Ef.Plugin{async onload(){console.log("meta-bind | Main >> load"),this.build=this.determineBuild(),await this.loadSettings(),this.addSettingTab(new hy(this.app,this)),this.dependencyManager=new ed(this,[{name:"Dataview",pluginId:"dataview",minVersion:new ha(0,5,64)},{name:"JS Engine",pluginId:"js-engine",minVersion:new ha(0,1,0)},{name:"Templater",pluginId:"templater-obsidian",minVersion:new ha(2,2,3)}]),!this.dependencyManager.checkDependenciesOnStartup()&&(this.api=new Yv(this),this.internal=new ly(this),this.mountableManager=new Lm,this.setUpMetadataManager(),this.loadTemplates(),this.addPostProcessors(),this.registerEditorExtension(aN(this)),this.addCommands(),WD(this),this.registerView(Vl,e=>new fy(e,this)),this.addStatusBarBuildIndicator(),this.settings.enableEditorRightClickMenu&&this.registerEvent(this.app.workspace.on("editor-menu",(e,t)=>{fN(e,t,this)})),await(0,Ef.loadPrism)())}onunload(){console.log("meta-bind | Main >> unload"),this.mountableManager.unload()}determineBuild(){return this.manifest.version.includes("canary")?"canary":"release"}setUpMetadataManager(){this.metadataManager=new Rm,this.metadataManager.registerSource(new cy(this,"frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Nm("memory",this.metadataManager)),this.metadataManager.registerSource(new Fm("globalMemory",this.metadataManager)),this.metadataManager.registerSource(new Im("scope",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),this.registerEvent(this.app.vault.on("rename",(e,t)=>{this.mountableManager.unloadFile(t),this.metadataManager.onStoragePathRenamed(t,e.path)})),this.registerEvent(this.app.vault.on("delete",e=>{this.mountableManager.unloadFile(e.path),this.metadataManager.onStoragePathDeleted(e.path)})),this.registerInterval(window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval))}addPostProcessors(){this.registerMarkdownPostProcessor((e,t)=>{let n=e.querySelectorAll("code"),i=t.sourcePath;for(let a=0;a<n.length;a++){let o=n.item(a);if(o.hasClass("mb-none"))continue;let u=o.innerText,l=this.api.isInlineFieldDeclarationAndGetType(u);if(l===void 0)continue;let s=this.api.createInlineFieldOfTypeFromString(l,u,i,void 0);this.api.wrapInMDRC(s,o,t)}},1),this.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,n)=>{let i=t,a=e.trim(),o=n.sourcePath,u=this.api.isInlineFieldDeclarationAndGetType(a);if(u===void 0)return;let l=this.api.createInlineFieldOfTypeFromString(u,a,o,void 0,"block",new fm(n,t));this.api.wrapInMDRC(l,i,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,n)=>{let i=this.api.createJsViewFieldMountable(n.sourcePath,{declaration:e});this.api.wrapInMDRC(i,t,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,n)=>{let i=this.api.createEmbedMountable(n.sourcePath,{content:e,depth:0});this.api.wrapInMDRC(i,t,n)});for(let e=1;e<=Dm;e++)this.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,n,i)=>{let a=this.api.createEmbedMountable(i.sourcePath,{content:t,depth:e});this.api.wrapInMDRC(a,n,i)});this.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,n)=>{let i=this.api.createButtonMountable(n.sourcePath,{declaration:e,isPreview:!1,position:new fm(n,t)});this.api.wrapInMDRC(i,t,n)})}addCommands(){this.addCommand({id:"open-docs",name:"Open Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"open-playground",name:"Open Playground",callback:()=>{this.activateView(Vl)}}),this.addCommand({id:"open-help",name:"Open Help",callback:()=>{this.activateView(Vl)}}),this.addCommand({id:"open-button-builder",name:"Open Button Builder",callback:()=>{this.internal.openButtonBuilderModal({onOkay:e=>{window.navigator.clipboard.writeText(`\`\`\`meta-bind-button
${(0,Ef.stringifyYaml)(e)}
\`\`\``)},submitText:"Copy to Clipboard"})}}),this.addCommand({id:"copy-command-id",name:"Select and Copy Command ID",callback:()=>{this.internal.openCommandSelectModal(e=>{window.navigator.clipboard.writeText(e.id)})}})}addStatusBarBuildIndicator(){if(this.build==="dev"){let e=this.addStatusBarItem();e.setText("Meta Bind Dev Build"),e.addClass("mb-error"),this.register(()=>e.remove())}if(this.build==="canary"){let e=this.addStatusBarItem();e.setText(`Meta Bind Canary Build (${this.manifest.version})`),e.addClass("mb-error"),this.register(()=>e.remove())}}loadTemplates(){if(!this.api)return;let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse input field templates",e);let t=this.api.buttonManager.setButtonTemplates(this.settings.buttonTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse button templates",t)}async loadSettings(){console.log("meta-bind | Main >> settings load");let e=await this.loadData()??{};typeof e=="object"&&e!=null&&(delete e.inputTemplates,delete e.useUsDateInputOrder),this.settings=Object.assign({},po,e),this.updateInternalSettings(),Pm(e,this.settings)||await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),this.updateInternalSettings(),await this.saveData(this.settings)}updateInternalSettings(){Qn.dateFormat=this.settings.preferredDateFormat,RD(this.settings.firstWeekday),this.loadTemplates()}async onExternalSettingsChange(){await this.loadSettings()}async activateView(e){let{workspace:t}=this.app,n,i=t.getLeavesOfType(e);i.length>0?n=i[0]:(n=t.getLeaf("tab"),await n.setViewState({type:e,active:!0})),t.revealLeaf(n)}};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.7 31/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)
*/
